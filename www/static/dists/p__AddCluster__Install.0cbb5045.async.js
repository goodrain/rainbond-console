(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"oyw+":function(e,t,a){e.exports={commandBox:"commandBox___3uWqu",commandIcon:"commandIcon___39a8a",command:"command___3Hs9F",commandSpan:"commandSpan___36cG1",antd_row:"antd_row___94gX0",antd_form:"antd_form___3adtc",antd_row_btn:"antd_row_btn___3FX59",antd_btn:"antd_btn___3Qagw"}},wN07:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=n(a("bx4M"));a("+L6B");var o=n(a("2/Rp"));a("jCWc");var l=n(a("kPKH"));a("fOrg");var s=n(a("+KLJ"));a("T2oS");var d=n(a("W9HT"));a("14J3");var i=n(a("BMrR"));a("/xke");var c=n(a("TeRw"));a("FJo9");var m=n(a("L41K"));a("y8nQ");var u,p,f,h=n(a("Vl3Y")),v=a("RBnf"),_=n(a("+QRC")),y=a("MuoO"),b=a("7DNP"),k=a("LvDl"),g=n(a("Qyje")),w=N(a("q1tI")),C=n(a("3a4m")),E=n(a("XZXw")),x=n(a("+iC2")),O=n(a("oyw+"));function L(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(L=function(e){return e?a:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=L(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,a&&a.set(e,n),n}h.default.Item;var D=m.default.Step,j=(u=h.default.create(),p=(0,y.connect)(e=>{var t=e.user,a=e.list,n=e.loading,r=e.global,o=e.index;return{user:t.currentUser,list:a,loading:n.models.list,rainbondInfo:r.rainbondInfo,enterprise:r.enterprise,isRegist:r.isRegist,oauthLongin:n.effects["global/creatOauth"],overviewInfo:o.overviewInfo}}),u(f=p(f=class extends w.PureComponent{constructor(e){super(e),this.handleOptionData=(e=>{if(e){for(var t in e)"object"!==typeof e[t]?"true"===e[t]?e[t]=!0:"false"===e[t]&&(e[t]=!1):this.handleOptionData(e[t]);return e}}),this.loadSteps=(()=>{var e=[{title:"\u57fa\u672c\u914d\u7f6e"},{title:"\u9ad8\u7ea7\u914d\u7f6e"},{title:"\u6267\u884c\u5b89\u88c5"},{title:"\u5bf9\u63a5\u96c6\u7fa4"}];return e}),this.toLinkNext=(e=>{var t=this.props,a=t.match.params.eid,n=t.location.search,r=this.state,o=r.helmToken,l=r.resCommand,s=r.copyCommand,d=g.default.parse(n.substr(1))||{},i=(d.data,d.name),c=d.step;if("goback"===e)switch(i){case"helm":C.default.push("/enterprise/".concat(a,"/provider/ACksterList"));break;case"ack":C.default.push("/enterprise/".concat(a,"/provider/Aliack"));break;case"huawei":C.default.push("/enterprise/".concat(a,"/provider/HuaweiList"));break;case"tencent":C.default.push("/enterprise/".concat(a,"/provider/tencentList"));break;default:break}else C.default.push({pathname:"/enterprise/".concat(a,"/provider/ACksterList/result"),search:g.default.stringify({token:o,data:l,copy:s,name:i,step:c})})}),this.helmToken=(e=>{var t=this.props,a=t.dispatch,n=t.match.params.eid,r=t.location.search,o=g.default.parse(r.substr(1))||{},l=(o.data,o.name,o.step,o.cloudserver),s=window.location.href,d=s.match(/(\S*)\/#\//)[1];a({type:"region/fetchHelmToken",payload:{eid:n},callback:t=>{200===t.status_code&&t.bean&&a({type:"region/fetchHelmCommand",payload:{eid:n,domain:d,token:t.bean,data:e,cloudserver:l},callback:e=>{var a=e.response_data.command.split(" & "),n=(0,k.cloneDeep)(a),r=n.join("\n ");this.setState({helmToken:t.bean,resCommand:a,copyCommand:r,commandFlag:!0})}})}})}),this.onCopy=(()=>{var e=this.state.copyCommand;(0,_.default)(e),c.default.success({message:"\u590d\u5236\u6210\u529f"})});var t=this.props.user,a=x.default.isCompanyAdmin(t);this.state={adminer:a,commandFlag:!1,resCommand:[],copyCommand:"",helmToken:""}}componentWillMount(){var e=this.state.adminer,t=this.props.dispatch;e||t(b.routerRedux.push("/"))}componentDidMount(){var e=this.props.location.search,t=g.default.parse(e.substr(1))||{},a=t.data,n=(t.name,t.step),r=t.token,o=t.copy,l=t.isResult,s=void 0!==l&&l,d=(0,k.cloneDeep)(a),i=this.handleOptionData(d);"base"===n&&!s||"advanced"===n&&!s?this.helmToken(i):s&&this.setState({resCommand:a,copyCommand:o,commandFlag:!0,helmToken:r})}render(){var e=this.props.match.params,t=(e.eid,e.provider,e.clusterID,this.state),a=t.commandFlag,n=t.resCommand;this.props.form.getFieldDecorator;return w.default.createElement(E.default,{title:"\u6dfb\u52a0\u96c6\u7fa4",content:"\u96c6\u7fa4\u662f\u8d44\u6e90\u7684\u96c6\u5408\uff0c\u4ee5Kubernetes\u96c6\u7fa4\u4e3a\u57fa\u7840\uff0c\u90e8\u7f72\u5e73\u53f0Region\u670d\u52a1\u5373\u53ef\u6210\u4e3a\u5e73\u53f0\u96c6\u7fa4\u8d44\u6e90\u3002"},w.default.createElement(i.default,{style:{marginBottom:"16px"}},w.default.createElement(m.default,{current:2},this.loadSteps().map(e=>w.default.createElement(D,{key:e.title,title:e.title})))),w.default.createElement(r.default,{style:{padding:"24px"}},!a&&w.default.createElement(d.default,{tip:"Loading..."},w.default.createElement("div",{className:O.default.commandBox}," ")),a&&w.default.createElement("div",{className:O.default.commandBox},w.default.createElement("div",{className:O.default.commandIcon},w.default.createElement(v.CopyOutlined,{onClick:this.onCopy})),w.default.createElement("div",{className:O.default.command},n.length>0&&n.map((e,t)=>w.default.createElement("span",{key:t,className:O.default.commandSpan},e)))),w.default.createElement(i.default,{style:{marginBottom:"10px"}},w.default.createElement(l.default,{span:24},w.default.createElement(s.default,{style:{fontSize:"16px",fontWeight:"bolder"},type:"info",message:"\u590d\u5236\u547d\u4ee4\u53bb\u670d\u52a1\u5668\u6267\u884c\uff0c\u670d\u52a1\u5668\u6267\u884c\u5b8c\u6210\uff0c\u70b9\u51fb \u201c\u4e0b\u4e00\u6b65\u201d\u3002"}))),w.default.createElement(i.default,null,w.default.createElement("div",{className:O.default.antd_row_btn},w.default.createElement(o.default,{className:O.default.antd_btn,type:"primary",onClick:()=>this.toLinkNext("goback")},"\u4e0a\u4e00\u6b65"),w.default.createElement(o.default,{className:O.default.antd_btn,type:"primary",onClick:()=>this.toLinkNext("next")},"\u4e0b\u4e00\u6b65")))))}})||f)||f);t.default=j}}]);