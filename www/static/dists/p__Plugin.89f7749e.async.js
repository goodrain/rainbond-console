(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[58],{"2JBR":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var n=l(a("CtXQ"));a("g9YV");var i=l(a("wCAj"));a("IzEo");var r=l(a("bx4M"));a("14J3");var s=l(a("BMrR"));a("jCWc");var o=l(a("kPKH"));a("/xke");var u=l(a("TeRw")),d=l(a("p0pE"));a("y8nQ");var c=l(a("Vl3Y"));a("+L6B");var p,g,h,f=l(a("2/Rp")),m=a("MuoO"),_=a("7DNP"),v=O(a("q1tI")),y=l(a("NvzL")),C=l(a("OAAH")),E=l(a("q76B")),b=l(a("Gyju")),P=l(a("fxb9")),S=l(a("puxM")),k=l(a("XZXw")),V=a("vSx2"),I=l(a("QDog")),w=l(a("/EMh")),D=l(a("yxQP"));function N(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(N=function(e){return e?a:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=N(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var r=n?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(l,i,r):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}var x=f.default.Group,T=(p=c.default.create(),g=(0,m.connect)(e=>{var t=e.teamControl,a=e.enterprise,l=e.loading;return{currentTeam:t.currentTeam,currentRegionName:t.currentRegionName,currentEnterprise:a.currentEnterprise,addConfigLoading:l.effects["plugin/addPluginVersionConfig"],editConfigLoading:l.effects["plugin/editPluginVersionConfig"],removeConfigLoading:l.effects["plugin/removePluginVersionConfig"]}}),p(h=g(h=class extends v.PureComponent{constructor(e){super(e),this.onPageChange=(e=>{this.setState({page:e},()=>{this.getUsedApp()})}),this.getShareRecord=(()=>{this.props.dispatch({type:"plugin/getShareRecord",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId()}})}),this.getUsedApp=(()=>{this.props.dispatch({type:"plugin/getUsedApp",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId(),page:this.state.page,page_size:this.state.page_size},callback:e=>{e&&this.setState({apps:e.list||[],total:e.total})}})}),this.getVersions=(()=>{this.props.dispatch({type:"plugin/getPluginVersions",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId()},callback:e=>{e&&!this.state.currVersion&&e.list.length&&this.setState({currVersion:e.list[0].build_version},()=>{this.getPluginVersionInfo(),this.getPluginVersionConfig()})}})}),this.getPluginVersionInfo=(()=>{this.mount&&this.props.dispatch({type:"plugin/getPluginVersionInfo",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId(),build_version:this.state.currVersion},callback:e=>{e&&(this.setState({currInfo:e.bean}),setTimeout(()=>{this.getPluginVersionInfo()},5e3))}})}),this.getPluginVersionConfig=(()=>{this.props.dispatch({type:"plugin/getPluginVersionConfig",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId(),build_version:this.state.currVersion},callback:e=>{var t=e.list,a=t&&t.length>0&&t.reduce((e,t)=>{return"plugin_storage"!==t.injection?[...e,t]:e},[]),l=t&&t.length>0&&t.reduce((e,t)=>{return"plugin_storage"===t.injection?[...e,t]:e},[]),n=l.length>0&&l[0].options.map(e=>{var t=e.attr_default_value&&JSON.parse(e.attr_default_value)||{};return e.volume_path=t.volume_path||"",e.attr_type=t.attr_type||"",e.config_name=t.volume_name||"",e});t&&this.setState({config:a,storgeListData:n,listData:t})}})}),this.getId=(()=>{return this.props.match.params.pluginId}),this.handleSubmit=(e=>{this.props.dispatch({type:"plugin/createPlugin",payload:(0,d.default)({team_name:I.default.getCurrTeamName()},e)})}),this.handleVersionChange=(e=>{var t=e.key;t!==this.state.currVersion&&this.setState({currVersion:t},()=>{this.getPluginVersionInfo(),this.getPluginVersionConfig()})}),this.showAddConfig=(()=>{this.setState({showAddConfig:!0})}),this.hiddenAddConfig=(()=>{this.setState({showAddConfig:!1})}),this.handleOpenDelConfigVisible=(e=>{this.setState({configVisible:e})}),this.handleCloseDelConfigVisible=(()=>{this.setState({configVisible:!1})}),this.hanldeEditSubmit=(e=>{this.props.dispatch({type:"plugin/editPluginVersionInfo",payload:(0,d.default)({team_name:I.default.getCurrTeamName(),plugin_id:this.getId(),build_version:this.state.currVersion},e),callback:()=>{u.default.success({message:"\u4fee\u6539\u6210\u529f"})}})}),this.handleDelConfig=(()=>{var e=this.state.configVisible;this.props.dispatch({type:"plugin/removePluginVersionConfig",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId(),build_version:this.state.currVersion,config_group_id:e.ID,config_name:e.config_name},callback:()=>{u.default.success({message:"\u5220\u9664\u6210\u529f"}),this.getPluginVersionConfig(),this.handleCloseDelConfigVisible()}})}),this.handleAddConfig=(e=>{this.props.dispatch({type:"plugin/addPluginVersionConfig",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId(),build_version:this.state.currVersion,entry:e},callback:()=>{this.hiddenAddConfig(),this.getPluginVersionConfig(),this.handleCancelAddStorageConfig("storageAdd")}})}),this.handleEditConfig=(e=>{var t=this.state,a=t.showEditConfig,l=t.currVersion;t.storgeListData;this.props.dispatch({type:"plugin/editPluginVersionConfig",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId(),build_version:l,entry:(0,d.default)({},a,e)},callback:()=>{this.hideEditConfig(),this.getPluginVersionConfig(),this.handleCancelAddStorageConfig("storageEdit")}})}),this.handleDeleteStorage=(e=>{this.setState({configStorageVisible:e})}),this.handleCloseStorage=(()=>{this.setState({configStorageVisible:!1,removeStorageLoading:!1})}),this.handleDelStorage=(()=>{this.setState({removeStorageLoading:!0});var e=this.state,t=e.configStorageVisible,a=e.showEditConfig,l=e.currVersion,n=e.storgeListData,i=e.listData,r=n.reduce((e,a)=>a.ID!==t.ID?[...e,a]:e,[]),s={},o=i&&i.length>0&&i.filter(e=>"plugin_storage"===e.injection)[0].ID;s.ID=o||"",s.config_name="plugin_storage",s.injection="plugin_storage",s.service_meta_type="plugin_storage",s.options=r,1===n.length&&(s.modify_type=!0),this.props.dispatch({type:"plugin/editPluginVersionConfig",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId(),build_version:l,entry:(0,d.default)({},a,s)},callback:()=>{u.default.success({message:"\u5220\u9664\u6210\u529f"}),this.getPluginVersionConfig(),this.handleCloseStorage()}})}),this.showEditConfig=(e=>{this.setState({showEditConfig:e})}),this.hideEditConfig=(()=>{this.setState({showEditConfig:null})}),this.showDeleteVersion=(()=>{this.setState({showDeleteVersion:!0})}),this.cancelDeleteVersion=(()=>{this.setState({showDeleteVersion:!1})}),this.handleDeleteVersion=(()=>{this.props.dispatch({type:"plugin/removePluginVersion",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId(),build_version:this.state.currVersion},callback:()=>{this.cancelDeleteVersion(),this.state.currVersion="",this.getVersions()}})}),this.handleCreatePluginVersion=(()=>{this.props.dispatch({type:"plugin/createPluginVersion",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId()},callback:()=>{u.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),this.state.currVersion="",this.getVersions()}})}),this.handleBuildPluginVersion=(()=>{this.props.dispatch({type:"plugin/buildPluginVersion",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId(),build_version:this.state.currVersion},callback:e=>{e&&this.setState({currVersion:"",event_id:e.bean.event_id,showBuildLog:!0},()=>{this.getVersions()})}})}),this.showBuildLog=(()=>{this.setState({showBuildLog:!0})}),this.hideBuildLog=(()=>{this.setState({showBuildLog:!1})}),this.canEditInfoAndConfig=(()=>{return!w.default.isMarketPlugin(this.state.currInfo)&&w.default.canEditInfoAndConfig(this.state.currInfo)}),this.showAddStorgeConfig=(()=>{this.setState({showStorageConfig:!0})}),this.handleCancelAddStorageConfig=(e=>{this.setState({showStorageConfig:!1,editStoragData:{},isEditor:!1}),e&&u.default.success({message:"storageAdd"===e?"\u65b0\u589e\u6210\u529f":"\u4fee\u6539\u6210\u529f"})}),this.handleSubmitStorageConfig=((e,t)=>{var a=this.state,l=a.isEditor,n=a.listData,i=a.storgeListData,r={},s=n&&n.length>0&&n.filter(e=>"plugin_storage"===e.injection);r.ID=s&&s[0]&&s[0].ID||"",r.config_name="plugin_storage",r.injection="plugin_storage",r.service_meta_type="plugin_storage",!l&&i.length>0&&(r.modify_type=!0),r.options=[{ID:t&&t.ID||"",attr_alt_value:"",attr_default_value:JSON.stringify({volume_path:e.volume_path,file_content:e.file_content||"",attr_type:e.volume_type,volume_name:e.volume_name}),attr_info:"",attr_name:"plugin_storage_".concat(e.volume_name),attr_type:e.volume_type,is_change:!0,protocol:""}],l&&t&&i&&i.length>0&&(r.options=i.map(a=>{if(a.ID===t.ID){var l=Object.assign({},e);a.attr_default_value=JSON.stringify({volume_path:l.volume_path,file_content:l.file_content||"",attr_type:t.attr_type,volume_name:l.volume_name})}return a})),l?this.handleEditConfig(r):this.handleAddConfig(r)}),this.handleEditStorage=(e=>{var t=e.config_name,a=e.attr_default_value;e.volume_name=t;var l=a&&JSON.parse(a)||"";e.file_content=l.file_content,this.setState({isEditor:!0,editStoragData:e,showStorageConfig:!0})}),this.sharePlugin=(()=>{var e=this.props.dispatch;e({type:"plugin/sharePlugin",payload:{team_name:I.default.getCurrTeamName(),plugin_id:this.getId()},callback:t=>{1===t.bean.step&&e(_.routerRedux.push("/team/".concat(I.default.getCurrTeamName(),"/region/").concat(I.default.getCurrRegionName(),"/shareplugin/step-one/").concat(this.getId(),"/").concat(t.bean.ID))),2===t.bean.step&&e(_.routerRedux.push("/team/".concat(I.default.getCurrTeamName(),"/region/").concat(I.default.getCurrRegionName(),"/shareplugin/step-two/").concat(this.getId(),"/").concat(t.bean.ID)))}})}),this.state={currInfo:null,currVersion:"",config:[],showAddConfig:!1,showEditConfig:null,showDeleteVersion:!1,showBuildLog:!1,configVisible:!1,event_id:"",apps:[],page:1,page_size:6,total:0,storgeListData:[],showStorageConfig:!1,editStoragData:{},isEditor:!1,configStorageVisible:!1,removeStorageLoading:!1,listData:[]},this.mount=!1}componentDidMount(){this.mount=!0,this.getVersions(),this.getUsedApp(),this.getShareRecord()}componentWillUnmount(){this.mount=!1}render(){var e=this.props,t=e.currentEnterprise,a=e.currentTeam,l=e.currentRegionName,u=e.removeConfigLoading,d=e.addConfigLoading,c=e.editConfigLoading,p=e.operationPermissions,g=p.isCreate,h=p.isEdit,m=p.isDelete,N=this.state,O=N.config,T=N.currInfo,M=N.configVisible,L=N.showAddConfig,A=N.showEditConfig,j=N.showDeleteVersion,B=N.showBuildLog,R=N.currVersion,q=N.event_id,U=N.apps,W=N.page,z=N.page_size,F=N.total,X=N.storgeListData,Z=N.showStorageConfig,G=N.isEditor,J=N.configStorageVisible,Q=N.removeStorageLoading,H=N.editStoragData;if(!T)return null;var K=v.default.createElement("div",null,v.default.createElement(x,null,g&&v.default.createElement(f.default,{type:"primary",onClick:this.handleBuildPluginVersion},"\u6784\u5efa"),"unbuild"!==T.build_status&&v.default.createElement(f.default,{type:"default",onClick:this.showBuildLog},"\u67e5\u770b\u6784\u5efa\u65e5\u5fd7"))),Y=v.default.createElement(s.default,{style:{float:"right",width:300}},v.default.createElement(o.default,{xs:24,sm:12},v.default.createElement("div",{className:D.default.textSecondary}),v.default.createElement("div",{className:D.default.heading})),v.default.createElement(o.default,{xs:24,sm:12},v.default.createElement("div",{className:D.default.textSecondary},"\u6784\u5efa\u72b6\u6001"),v.default.createElement("div",{className:D.default.heading},w.default.getBuildStatusCN(T.build_status)))),$=[];return $=(0,V.createTeam)((0,V.createEnterprise)($,t),a,l),$.push({title:"\u63d2\u4ef6\u5217\u8868",href:"/team/".concat(a.team_name,"/region/").concat(l,"/myplugns")}),$.push({title:T.plugin_alias}),v.default.createElement(k.default,{breadcrumbList:$,title:T.plugin_alias,content:T.desc,extraContent:Y,action:K},v.default.createElement(r.default,{style:{marginBottom:16},title:"\u7248\u672c\u57fa\u7840\u4fe1\u606f"},v.default.createElement("div",{style:{maxWidth:500,margin:"0 auto"}},v.default.createElement(b.default,{allDisabled:!1,Modifys:!0,isEdit:h,onSubmit:this.hanldeEditSubmit,data:T,submitText:"\u786e\u8ba4\u4fee\u6539"}))),v.default.createElement(r.default,{style:{marginBottom:16},title:"\u914d\u7f6e\u7ec4\u7ba1\u7406"},v.default.createElement(S.default,{sm:700},v.default.createElement(i.default,{columns:[{title:"\u914d\u7f6e\u9879\u540d",dataIndex:"config_name"},{title:"\u4f9d\u8d56\u5143\u6570\u636e\u7c7b\u578b",dataIndex:"service_meta_type",render:e=>{return w.default.getMetaTypeCN(e)}},{title:"\u6ce8\u5165\u7c7b\u578b",dataIndex:"injection",render:e=>{return w.default.getInjectionCN(e)}},{title:"\u914d\u7f6e\u9879",dataIndex:"options",width:"40%",render:e=>{return(e||[]).map(e=>{return v.default.createElement("p",{className:D.default.configGroup},v.default.createElement("span",null,"\u5c5e\u6027\u540d: ",e.attr_name),v.default.createElement("span",null,"\u5c5e\u6027\u7c7b\u578b: ",e.attr_type),"string"!==e.attr_type?v.default.createElement("span",null,"\u53ef\u9009\u503c: ",e.attr_alt_value):null,v.default.createElement("span",null,"\u53ef\u5426\u4fee\u6539: ",e.is_change?"\u53ef\u4fee\u6539":"\u4e0d\u53ef\u4fee\u6539"),v.default.createElement("span",null,"\u7b80\u77ed\u8bf4\u660e: ",e.attr_info))})}},{title:"\u64cd\u4f5c",dataIndex:"action",render:(e,t)=>{return v.default.createElement(v.Fragment,null,h&&v.default.createElement("a",{onClick:()=>{this.showEditConfig(t)},style:{marginRight:8}},"\u4fee\u6539"),m&&v.default.createElement("a",{onClick:()=>{this.handleOpenDelConfigVisible(t)}},"\u5220\u9664"))}}],dataSource:O,pagination:!1})),v.default.createElement("div",{style:{textAlign:"right",paddingTop:24}},v.default.createElement(f.default,{onClick:this.showAddConfig},v.default.createElement(n.default,{type:"plus"}),"\u65b0\u589e\u914d\u7f6e"))),v.default.createElement(r.default,{style:{marginBottom:16},title:"\u914d\u7f6e\u6587\u4ef6\u548c\u5171\u4eab\u5b58\u50a8"},v.default.createElement(i.default,{columns:[{title:"\u540d\u79f0",dataIndex:"config_name",key:"1"},{title:"\u6302\u8f7d\u8def\u5f84",dataIndex:"volume_path",key:"2"},{title:"\u5b58\u50a8\u7c7b\u578b",dataIndex:"attr_type",key:"3",render:e=>{return"storage"===e?"\u5171\u4eab\u5b58\u50a8":"\u914d\u7f6e\u6587\u4ef6"}},{title:"\u64cd\u4f5c",dataIndex:"action",key:"4",render:(e,t)=>{return v.default.createElement(v.Fragment,null,h&&v.default.createElement("a",{onClick:()=>{this.handleEditStorage(t)},style:{marginRight:8}},"\u4fee\u6539"),m&&v.default.createElement("a",{onClick:()=>{this.handleDeleteStorage(t)}},"\u5220\u9664"))}}],dataSource:X,pagination:!1}),v.default.createElement("div",{style:{textAlign:"right",paddingTop:24}},v.default.createElement(f.default,{onClick:this.showAddStorgeConfig},v.default.createElement(n.default,{type:"plus"}),"\u65b0\u589e\u5b58\u50a8"))),v.default.createElement(r.default,{title:"\u5df2\u5b89\u88c5\u5f53\u524d\u63d2\u4ef6\u7684\u7ec4\u4ef6"},v.default.createElement(i.default,{columns:[{title:"\u7ec4\u4ef6\u540d\u79f0",dataIndex:"service_cname",render:(e,t)=>{return v.default.createElement(_.Link,{to:"/team/".concat(I.default.getCurrTeamName(),"/region/").concat(I.default.getCurrRegionName(),"/components/").concat(t.service_alias,"/overview")},e)}},{title:"\u5b89\u88c5\u7248\u672c",dataIndex:"build_version"},{title:"\u64cd\u4f5c",dataIndex:"action",render:(e,t)=>{return v.default.createElement(_.Link,{to:"/team/".concat(I.default.getCurrTeamName(),"/region/").concat(I.default.getCurrRegionName(),"/components/").concat(t.service_alias,"/plugin")},"\u67e5\u770b\u5df2\u5b89\u88c5\u63d2\u4ef6")}}],dataSource:U,pagination:{current:W,pageSize:z,total:F,onChange:this.onPageChange}})),M&&v.default.createElement(E.default,{title:"\u5220\u9664\u914d\u7f6e\u9879",subDesc:"\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d",desc:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u914d\u7f6e\u9879\uff1f",loading:u,onOk:this.handleDelConfig,onCancel:this.handleCloseDelConfigVisible}),J&&v.default.createElement(E.default,{title:"\u5220\u9664\u5b58\u50a8",subDesc:"\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d",desc:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u5b58\u50a8\uff1f",loading:Q,onOk:this.handleDelStorage,onCancel:this.handleCloseStorage}),L&&v.default.createElement(y.default,{loading:d,onCancel:this.hiddenAddConfig,onSubmit:this.handleAddConfig}),A&&v.default.createElement(y.default,{title:"\u4fee\u6539\u914d\u7f6e\u7ec4",loading:c,data:A,onCancel:this.hideEditConfig,onSubmit:this.handleEditConfig}),j&&v.default.createElement(E.default,{onOk:this.handleDeleteVersion,onCancel:this.cancelDeleteVersion,title:"\u5220\u9664\u7248\u672c",desc:"\u786e\u5b9a\u8981\u5220\u9664\u5f53\u524d\u7248\u672c\u5417\uff1f",subDesc:"\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d"}),B&&R&&v.default.createElement(C.default,{onCancel:this.hideBuildLog,event_id:q,plugin_id:this.getId(),build_version:R}),Z&&v.default.createElement(P.default,{onCancel:this.handleCancelAddStorageConfig,onSubmit:this.handleSubmitStorageConfig,data:H,editor:G}))}})||h)||h);t.default=T},"5Bwr":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=n(a("kLXV")),r=l(a("q1tI")),s=n(a("IujW")),o=n(a("xlwy"));class u extends r.PureComponent{constructor(e){super(e),this.state={details:this.props.plugin.details,title:this.props.plugin.plugin_name,key:this.props.plugin.plugin_key}}render(){return r.default.createElement(i.default,{visible:!0,onOk:this.props.onOk,onCancel:this.props.onCancel,title:this.state.title,width:700},r.default.createElement(s.default,{className:o.default.markdown,source:this.state.details}),!this.state.details&&r.default.createElement("span",null,"\u672a\u7f16\u8f91\u63d2\u4ef6\u8be6\u60c5 ",r.default.createElement("a",{style:{textAlign:"center"},target:"_blank",href:"https://t.goodrain.com"}," \u66f4\u591a\u63d2\u4ef6\u5236\u4f5c\u8bf7\u53c2\u9605\u793e\u533a\u7528\u6237\u6587\u732e ")))}}t.default=u},NvzL:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=l(a("kLXV")),i=l(a("jehZ"));a("Pwec");var r=l(a("CtXQ"));a("5Dmo");var s=l(a("3S7+"));a("5NDa");var o=l(a("5rEg"));a("y8nQ");var u=l(a("Vl3Y"));a("OaEy");var d=l(a("2fM7"));a("7Kak");var c,p,g,h,f,m,_,v=l(a("9yH6")),y=a("MuoO"),C=b(a("q1tI"));function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var r=n?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(l,i,r):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}var P=v.default.Group,S=d.default.Option,k=(c=u.default.create(),c(p=class extends C.default.Component{constructor(){super(...arguments),this.checkAttrAltValue=((e,t,a)=>{var l=this.props.form.getFieldValue;"string"===l("attr_type")||t?a():a("\u8bf7\u8f93\u5165\u53ef\u9009\u503c")}),this.validAttrName=((e,t,a)=>{!t||/^[-._a-zA-Z][-._a-zA-Z0-9]*$/.test(t)?a():a("\u53ea\u80fd\u7531 - . _ \u5b57\u6bcd\u548c\u6570\u5b57\u7ec4\u6210\uff0c\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934")}),this.handleOnchange=((e,t)=>{var a=this.props,l=a.form,n=a.onChange,i=a.index,r=l.setFieldsValue,s=l.validateFields,o=l.getFieldsValue;r({[e]:t}),s([e],e=>{i&&n(i,o())})})}componentWillMount(){var e=this.props,t=e.onDidMount,a=e.index;t&&t(a,this)}componentDidMount(){var e=this.props,t=e.onChange,a=e.index,l=e.form;t&&t(a,l.getFieldsValue())}componentWillUnmount(){var e=this.props,t=e.onUnmount,a=e.index;t&&t(a)}check(e){var t=this.props.form;t.validateFields(t=>{e&&e(t)})}render(){var e=this.props,t=e.form,a=e.data,l=void 0===a?{}:a,n=e.protocols,i=void 0===n?[]:n,r=t.getFieldDecorator,c=t.getFieldValue,p=c("attr_type")||"string";return C.default.createElement(u.default,{style:{display:"inline-block",verticalAlign:"middle"},layout:"inline"},C.default.createElement(u.default.Item,{style:{display:"none"}},r("ID",{initialValue:l.ID||""})(C.default.createElement(o.default,null))),C.default.createElement(u.default.Item,{style:{width:100}},r("attr_name",{initialValue:l.attr_name||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5c5e\u6027\u540d"},{max:32,message:"\u6700\u5927\u957f\u5ea632\u4f4d"},{validator:this.validAttrName}]})(C.default.createElement(o.default,{onChange:e=>{this.handleOnchange("attr_name",e.target.value)},placeholder:"\u5c5e\u6027\u540d"}))),C.default.createElement(u.default.Item,null,r("protocol",{initialValue:l.protocol&&l.protocol.toString().split(",")||"",rules:[{required:!1,message:"\u534f\u8bae"}]})(C.default.createElement(d.default,{showArrow:!0,mode:"multiple",getPopupContainer:e=>e.parentNode,onChange:e=>{this.handleOnchange("protocol",e)},style:{width:120},placeholder:"\u9009\u62e9\u534f\u8bae"},C.default.createElement(S,{value:""},"\u6240\u6709\u534f\u8bae"),i.map(e=>C.default.createElement(S,{value:e},e))))),C.default.createElement(u.default.Item,null,r("attr_type",{initialValue:l.attr_type||"string",rules:[{required:!0,message:"\u5c5e\u6027\u540d"}]})(C.default.createElement(d.default,{getPopupContainer:e=>e.parentNode,onChange:e=>{this.handleOnchange("attr_type",e)},style:{width:100}},C.default.createElement(S,{value:"string"},"\u5b57\u7b26\u4e32"),C.default.createElement(S,{value:"radio"},"\u5355\u9009"),C.default.createElement(S,{value:"checkbox"},"\u591a\u9009")))),C.default.createElement(u.default.Item,null,r("attr_default_value",{initialValue:l.attr_default_value||"",rules:[{required:!1,message:"\u9ed8\u8ba4\u503c"},{max:65535,message:"\u6700\u5927\u957f\u5ea665535\u4f4d"}]})(C.default.createElement(o.default,{onChange:e=>{this.handleOnchange("attr_default_value",e.target.value)},style:{width:80},placeholder:"\u9ed8\u8ba4\u503c"}))),C.default.createElement(u.default.Item,{style:{display:"string"===p?"none":""}},C.default.createElement(s.default,{title:"\u5355\u9009\u6216\u591a\u9009\u7684\u53ef\u9009\u503c\uff0c \u591a\u4e2a\u7528\u9017\u53f7\u5206\u5272\uff0c\u5982\uff1avalue1, value2"},r("attr_alt_value",{initialValue:l.attr_alt_value||"",rules:[{max:65535,message:"\u6700\u5927\u957f\u5ea665535\u4f4d"},{validator:this.checkAttrAltValue}]})(C.default.createElement(o.default,{onChange:e=>{this.handleOnchange("attr_alt_value",e.target.value)},style:{width:100},placeholder:"\u53ef\u9009\u503c"})))),C.default.createElement(u.default.Item,null,r("is_change",{initialValue:void 0===l.is_change||l.is_change,rules:[{required:!1,message:"\u9ed8\u8ba4\u503c"}]})(C.default.createElement(d.default,{getPopupContainer:e=>e.parentNode,onChange:e=>{this.handleOnchange("is_change",e)},style:{width:100}},C.default.createElement(S,{value:!0},"\u53ef\u4fee\u6539"),C.default.createElement(S,{value:!1},"\u4e0d\u53ef\u4fee\u6539")))),C.default.createElement(u.default.Item,null,r("attr_info",{initialValue:l.attr_info||"",rules:[{required:!1,message:"\u9ed8\u8ba4\u503c"},{max:40,message:"\u6700\u5927\u957f\u5ea640\u4f4d"}]})(C.default.createElement(o.default,{onChange:e=>{this.handleOnchange("attr_info",e.target.value)},style:{width:100},placeholder:"\u7b80\u8981\u8bf4\u660e"}))))}})||p),V=(g=u.default.create(),g(h=class extends C.PureComponent{constructor(e){super(e),this.handlePlus=(e=>{var t=this.state.group,a=0,l=t.filter((t,l)=>{return t.key===e&&(a=l),!0});l.splice(a+1,0,{key:Math.random()}),this.setState({group:l})}),this.handleMinus=(e=>{var t=this.props.onChange,a=this.state.group,l=[].concat(a);1!==l.length&&(l=a.filter(e=>!!e).filter(t=>t.key!==e),this.setState({group:l},()=>{t&&t(l.map(e=>e.value))}))}),this.handleChange=((e,t)=>{var a=this.props.onChange,l=this.state.group;l.map(a=>{return a.key===e&&(a.value=t),a});var n=l.map(e=>e.value);a&&a(n)}),this.handleOptionMount=((e,t)=>{this.groupItem.push({key:e,com:t})}),this.handleOptionUnmout=(e=>{this.groupItem=this.groupItem.filter(t=>t.key!==e)});var t=(this.props.value||[]).map(e=>({key:Math.random(),value:e}));t.length||(t=[{key:Math.random()}]),this.state={group:t},this.groupItem=[]}componentWillMount(){var e=this.props.onDidMount;e&&e(this)}check(){for(var e=!0,t=0;t<this.groupItem.length;t++)if(this.groupItem[t].com.check(t=>{e=!t}),!e)break;return e}render(){var e=this.state.group;e=e.filter(e=>!!e);var t={cursor:"pointer",fontSize:20};return C.default.createElement("div",null,(e||[]).map(e=>C.default.createElement("div",{key:e.key,style:{display:"flex"}},C.default.createElement(k,{onDidMount:this.handleOptionMount,onUnmount:this.handleOptionUnmout,protocols:this.props.protocols,data:e.value,key:e.key,index:e.key,onChange:this.handleChange}),C.default.createElement("div",null,C.default.createElement(r.default,{onClick:()=>{this.handlePlus(e.key)},style:t,type:"plus"}),C.default.createElement(r.default,{onClick:()=>{this.handleMinus(e.key)},style:t,type:"minus"})))))}})||h),I={labelCol:{span:3},wrapperCol:{span:21}},w=(f=u.default.create(),m=(0,y.connect)(e=>{var t=e.region;return{protocols:t.protocols||[]}}),f(_=m(_=class extends C.PureComponent{constructor(e){super(e),this.handleSubmit=(()=>{var e=this.props,t=e.form,a=e.onSubmit;t.validateFields((e,t)=>{if(this.envGroup){var l=this.envGroup.check();!e&&a&&l&&(t.options&&t.options.map(e=>{return e.protocol&&(e.protocol=e.protocol.join(",")),e}),a(t))}})}),this.handleCancel=(()=>{var e=this.props.onCancel;e&&e()}),this.hanldeMetaTypeChange=(e=>{var t=this.props.form.setFieldsValue;"un_define"!==e.target.value&&t({injection:"auto"})}),this.handleEvnGroupMount=(e=>{this.envGroup=e}),this.envGroup=null}componentDidMount(){}render(){var e=this.props,t=e.title,a=e.form,l=e.data,r=void 0===l?{}:l,s=e.loading,d=void 0!==s&&s,c=a.getFieldDecorator,p=a.getFieldValue,g=p("service_meta_type")||"un_define";return C.default.createElement(n.default,{title:t||"\u65b0\u589e\u914d\u7f6e\u7ec4",width:1100,visible:!0,confirmLoading:d,onOk:this.handleSubmit,onCancel:this.handleCancel},C.default.createElement(u.default,null,C.default.createElement(u.default.Item,(0,i.default)({style:{marginRight:8}},I,{label:"\u914d\u7f6e\u7ec4\u540d"}),c("config_name",{initialValue:r.config_name||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u914d\u7f6e\u7ec4\u540d"},{max:32,message:"\u6700\u5927\u957f\u5ea632\u4f4d"}],validateFirst:!0})(C.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u914d\u7f6e\u7ec4\u540d"}))),C.default.createElement(u.default.Item,(0,i.default)({},I,{label:"\u4f9d\u8d56\u5143\u6570\u636e"}),c("service_meta_type",{initialValue:r.service_meta_type||"un_define",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u914d\u7f6e\u7ec4\u540d"}]})(C.default.createElement(P,{onChange:this.hanldeMetaTypeChange},C.default.createElement(v.default,{value:"un_define"},"\u4e0d\u4f9d\u8d56"),C.default.createElement(v.default,{value:"upstream_port"},"\u7ec4\u4ef6\u7aef\u53e3"),C.default.createElement(v.default,{value:"downstream_port"},"\u4e0b\u6e38\u7ec4\u4ef6\u7aef\u53e3")))),C.default.createElement(u.default.Item,(0,i.default)({},I,{label:"\u6ce8\u5165\u7c7b\u578b"}),c("injection",{initialValue:r.injection||"env",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u914d\u7f6e\u7ec4\u540d"}]})(C.default.createElement(P,null,C.default.createElement(v.default,{style:{display:"un_define"===g?"":"none"},value:"env"},"\u73af\u5883\u53d8\u91cf"),C.default.createElement(v.default,{value:"auto"},"\u4e3b\u52a8\u53d1\u73b0")))),C.default.createElement(u.default.Item,(0,i.default)({validateStatus:"t"},I,{label:"\u914d\u7f6e\u9879"}),c("options",{initialValue:r.options||[]})(C.default.createElement(V,{onDidMount:this.handleEvnGroupMount,protocols:this.props.protocols})))))}})||_)||_);t.default=w},OAAH:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("+L6B");var r=l(a("2/Rp"));a("Znn+");var s,o,u,d,c,p=l(a("ZTPi")),g=a("MuoO"),h=n(a("q1tI")),f=l(a("0zE7")),m=l(a("QDog")),_=l(a("rIpq")),v=l(a("zcww")),y=l(a("+iC2")),C=p.default.TabPane,E=(s=(0,g.connect)(e=>{e.user,e.loading;return{}}),s(o=class extends h.PureComponent{constructor(e){super(e),this.state={logs:[]}}componentDidMount(){this.getBuildVersionLog()}getBuildVersionLog(){this.props.dispatch({type:"plugin/getBuildVersionLog",payload:{team_name:m.default.getCurrTeamName(),plugin_id:this.props.plugin_id,build_version:this.props.build_version,level:this.props.level},callback:e=>{e&&this.setState({logs:e.list||[]})}})}render(){var e=this.state.logs;return h.default.createElement("div",null,e&&e.length>0&&e.map(e=>{return h.default.createElement("p",{style:{marginBottom:0}},e.message)}))}})||o),b=(u=(0,g.connect)(e=>{var t=e.user;e.loading;return{currUser:t.currentUser}}),u((c=class extends h.PureComponent{constructor(e){super(e),this.getStatus=(()=>{var e=this.props.plugin_id,t=this.props.build_version;this.props.dispatch({type:"plugin/getBuildPluginVersionStatus",payload:{team_name:m.default.getCurrTeamName(),build_version:t,plugin_id:e},callback:e=>{e&&this.setState({status:e.bean.status,event_id:e.bean.event_id})}})}),this.handleCancel=(()=>{this.props.onCancel&&this.props.onCancel()}),this.getSocketUrl=(()=>{var e=y.default.getTeamByTeamName(this.props.currUser,m.default.getCurrTeamName()),t=m.default.getCurrRegionName();if(e){var a=v.default.getRegionByName(e,t);if(a)return _.default.getEventWebSocketUrl(a)}return""}),this.state={status:"",event_id:""},this.mount=!1}componentDidMount(){this.mount=!0,this.getStatus()}componentWillUnmount(){this.mount=!1}render(){var e=this.state.event_id,t=this.props.plugin_id,a=this.props.build_version;return h.default.createElement(i.default,{title:"\u7248\u672c\u6784\u5efa\u65e5\u5fd7",width:600,visible:!0,maskClosable:!1,onOk:this.handleSubmit,onCancel:this.handleCancel,footer:[h.default.createElement(r.default,{onClick:this.handleCancel},"\u5173\u95ed")]},h.default.createElement("div",{style:{padding:"8px",minHeight:300,maxHeight:500,overflowY:"auto"}},"building"===this.state.status?h.default.createElement(f.default,{opened:!0,socketUrl:this.getSocketUrl(),eventId:e}):h.default.createElement(p.default,{type:"card"},h.default.createElement(C,{tab:"Info",key:"1"},h.default.createElement(E,{plugin_id:t,build_version:a,level:"info"})),h.default.createElement(C,{tab:"Debug",key:"2"},h.default.createElement(E,{plugin_id:t,build_version:a,level:"debug"})),h.default.createElement(C,{tab:"Error",key:"3"},h.default.createElement(E,{plugin_id:t,build_version:a,level:"error"})))))}},d=c))||d);t.default=b},arq1:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("jehZ"));a("+L6B");var i=l(a("2/Rp"));a("Mwp2");var r=l(a("VXEj"));a("IzEo");var s=l(a("bx4M"));a("Pwec");var o=l(a("CtXQ"));a("/xke");var u=l(a("TeRw"));a("OaEy");var d=l(a("2fM7"));a("2qtc");var c,p,g,h,f=l(a("kLXV")),m=a("MuoO"),_=a("7DNP"),v=D(a("q1tI")),y=l(a("q76B")),C=l(a("xNuS")),E=(l(a("5Bwr")),l(a("XZXw"))),b=a("vSx2"),P=l(a("QDog")),S=l(a("/EMh")),k=l(a("hMqj")),V=l(a("yxQP")),I=l(a("2JBR"));l(a("+tCj"));function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var r=n?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(l,i,r):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}var N=f.default.confirm;d.default.Option;var O=(c=(0,m.connect)(e=>{var t=e.teamControl,a=e.enterprise,l=e.loading;return{currentTeam:t.currentTeam,currentRegionName:t.currentRegionName,currentEnterprise:a.currentEnterprise,deletePluginLoading:l.effects["plugin/deletePlugin"]}}),c(p=class extends v.PureComponent{constructor(e){super(e),this.onDeletePlugin=(e=>{this.setState({deletePlugin:e,pluginInfo:e})}),this.onInstallPlugin=(e=>{this.setState({currentType:e.plugin_type,installLoading:!0},()=>{this.props.dispatch({type:"plugin/installDefaultPlugin",payload:{team_name:P.default.getCurrTeamName(),plugin_type:e.category},callback:e=>{e&&200===e.status_code&&u.default.success({message:"\u5b89\u88c5\u6210\u529f"}),this.fetchDefaultPlugin()}})})}),this.getAction=((e,t)=>{var a=t.isCreate,l=t.isDelete,n=this.state,r=n.installLoading,s=n.currentType;if(!1!==e.has_install){var o=[];return l&&o.push(v.default.createElement("span",{onClick:()=>{this.onDeletePlugin(e)}},"\u5220\u9664")),o.push(v.default.createElement(_.Link,{to:"/team/".concat(P.default.getCurrTeamName(),"/region/").concat(P.default.getCurrRegionName(),"/myplugns/").concat(e.plugin_id)},"\u7ba1\u7406")),o}return a?[v.default.createElement(i.default,{type:"link",style:{height:"17px",color:"rgba(0, 0, 0, 0.45)"},loading:s&&s===e.plugin_type&&r,onClick:()=>{this.onInstallPlugin(e)}},"\u5b89\u88c5")]:[]}),this.getItemTitle=(e=>{return e.has_install?v.default.createElement(_.Link,{to:"/team/".concat(P.default.getCurrTeamName(),"/region/").concat(P.default.getCurrRegionName(),"/myplugns/").concat(e.plugin_id)},e.plugin_alias):e.plugin_alias}),this.fetchDefaultPlugin=(()=>{this.props.dispatch({type:"plugin/getDefaultPlugin",payload:{team_name:P.default.getCurrTeamName()},callback:e=>{e&&e.bean&&this.setState({defaultList:e.list},()=>{this.fetchPlugins()})}})}),this.fetchPlugins=(()=>{var e=this.state.defaultList;this.props.dispatch({type:"plugin/getMyPlugins",payload:{team_name:P.default.getCurrTeamName()},callback:t=>{if(t){var a=e.filter(e=>{return!e.has_install}),l=[];t.list&&t.list.length>0&&t.list.map(e=>{e.has_install=!0,l.push(e)});var n=[...a,...l]||!1;this.setState({list:n,installLoading:!1,currentType:!1})}}})}),this.handleCreate=(()=>{this.props.dispatch(_.routerRedux.push("/team/".concat(P.default.getCurrTeamName(),"/region/").concat(P.default.getCurrRegionName(),"/create-plugin")))}),this.handleInstall=(()=>{this.props.dispatch(_.routerRedux.push("/team/".concat(P.default.getCurrTeamName(),"/region/").concat(P.default.getCurrRegionName(),"/Install-plugin")))}),this.hanldeDeletePlugin=(e=>{var t=this.state,a=t.pluginInfo,l=t.deletePlugin;this.props.dispatch({type:"plugin/deletePlugin",payload:{team_name:P.default.getCurrTeamName(),is_force:e,plugin_id:l&&l.plugin_id||a&&a.plugin_id},callback:e=>{e&&200===e.status_code&&u.default.success({message:"\u5220\u9664\u6210\u529f"}),this.fetchDefaultPlugin(),this.cancelDeletePlugin(),this.cancelDeletePluginInfo()},handleError:e=>{e&&20600===e.data.code?(this.handlePlugIn(),this.cancelDeletePlugin()):u.default.warning({message:e.data.msg_show})}})}),this.cancelDeletePlugin=(()=>{this.setState({deletePlugin:null})}),this.cancelDeletePluginInfo=(()=>{this.setState({pluginInfo:null})}),this.handlePlugIn=(()=>{var e=this;N({title:"\u8be5\u63d2\u4ef6\u6709\u7ec4\u4ef6\u4f7f\u7528",content:"\u662f\u5426\u5f3a\u5236\u5220\u9664",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk(){return e.hanldeDeletePlugin(!0),new Promise((e,t)=>{setTimeout(Math.random()>.5?e:t,1e3)}).catch(()=>console.log("Oops errors!"))}})}),this.installAppPlugin=(()=>{this.setState({appPlugin:!0})}),this.hideModal=(()=>{this.setState({appPlugin:!1})}),this.changeVersions=(()=>{this.setState({appVersions:!0})}),this.instAppPlugin=(()=>{this.setState({appVersions:!1})}),this.appOut=(()=>{this.setState({appOutPlugin:!1})}),this.appOver=(()=>{this.setState({appOutPlugin:!0})}),this.state={defaultList:[],list:[],installLoading:!1,deletePlugin:null,pluginInfo:null,currentType:!1,appPlugin:!1,appVersions:!1,appOutPlugin:!1},this.timer=null}componentDidMount(){this.fetchDefaultPlugin(),this.fetchPlugins()}render(){var e=this.props,t=e.currentEnterprise,a=e.currentTeam,l=e.currentRegionName,n=e.operationPermissions,i=e.deletePluginLoading,u=this.state,d=u.list,c=(u.appPlugin,u.appVersions,u.appOutPlugin),p=v.default.createElement("div",{className:V.default.pageHeaderContent},v.default.createElement("p",null,"\u5e94\u7528\u63d2\u4ef6\u662f\u6807\u51c6\u5316\u7684\u4e3a\u5e94\u7528\u63d0\u4f9b\u529f\u80fd\u6269\u5c55\uff0c\u4e0e\u5e94\u7528\u5171\u540c\u8fd0\u884c\u7684\u7a0b\u5e8f")),g=v.default.createElement("div",null),h=[];return h=(0,b.createTeam)((0,b.createEnterprise)(h,t),a,l),h.push({title:"\u63d2\u4ef6\u5217\u8868"}),v.default.createElement(E.default,{breadcrumbList:h,title:"\u6211\u7684\u63d2\u4ef6",content:p,extraContent:g},v.default.createElement("div",{className:V.default.cardList},v.default.createElement(r.default,{rowKey:"id",grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:["",...d],renderItem:e=>e?v.default.createElement(r.default.Item,{key:e.id},v.default.createElement(s.default,{className:V.default.card,actions:this.getAction(e,n)},v.default.createElement(s.default.Meta,{style:{height:100,overflow:"auto"},avatar:v.default.createElement(o.default,{style:{fontSize:50,color:"rgba(0, 0, 0, 0.2)"},type:"api"}),title:this.getItemTitle(e),description:v.default.createElement(v.Fragment,null,v.default.createElement("p",{style:{display:"block",color:"rgb(220, 220, 220)",marginBottom:8}}," ",S.default.getCategoryCN(e.plugin_type||e.category)," "),v.default.createElement(C.default,{className:V.default.item,lines:3},e.desc))}))):n.isCreate?v.default.createElement(r.default.Item,{key:e.id},v.default.createElement("div",{className:V.default.newButton,onMouseEnter:this.appOver,onMouseLeave:this.appOut},!c&&v.default.createElement("div",{style:{display:c?"none":"block"}},v.default.createElement(o.default,{type:"plus",style:{fontSize:"40px",fontWeight:"bolder",marginTop:"50px"}}),v.default.createElement("p",{style:{marginTop:"20px",fontSize:"14px"}},"\u4ece\u5e94\u7528\u5546\u5e97\u5b89\u88c5/\u65b0\u5efa\u63d2\u4ef6")),c&&v.default.createElement("div",{className:V.default.changeBtn},v.default.createElement("div",{onClick:this.handleInstall,className:V.default.appBtn},"\u4ece\u5e94\u7528\u5546\u5e97\u5b89\u88c5\u63d2\u4ef6"),v.default.createElement("div",{onClick:this.handleCreate,className:V.default.instBtn},"\u65b0\u5efa\u63d2\u4ef6")))):v.default.createElement("div",null)}),this.state.deletePlugin&&v.default.createElement(y.default,{title:"\u5220\u9664\u63d2\u4ef6",desc:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u63d2\u4ef6\u5417\uff1f",loading:i,onOk:()=>{this.hanldeDeletePlugin(!1)},onCancel:this.cancelDeletePlugin})))}})||p),x=(g=(0,m.connect)(e=>{var t=e.user,a=e.teamControl,l=e.enterprise;return{currUser:t.currentUser,currentTeam:a.currentTeam,currentRegionName:a.currentRegionName,currentEnterprise:l.currentEnterprise,currentTeamPermissionsInfo:a.currentTeamPermissionsInfo}}),g(h=class extends v.PureComponent{constructor(e){super(e),this.handlePermissions=(e=>{var t=this.props.currentTeamPermissionsInfo;return k.default.querySpecifiedPermissionsInfo(t,e)}),this.state={operationPermissions:this.handlePermissions("queryPluginInfo")}}componentWillMount(){var e=this.props.dispatch,t=this.state.operationPermissions.isAccess;t||P.default.withoutPermission(e)}render(){var e=this.props.match,t=e.params.pluginId;return t?v.default.createElement(I.default,(0,n.default)({},this.props,this.state)):v.default.createElement(O,(0,n.default)({},this.props,this.state))}})||h),T=x;t.default=T},xlwy:function(e,t,a){e.exports={markdown:"markdown___pv-xK","pl-pds":"pl-pds___LHjDU","pl-s":"pl-s___2gjWN","pl-pse":"pl-pse___29Xws","pl-s1":"pl-s1___2InwD","pl-sr":"pl-sr___2ZNMy","pl-cce":"pl-cce___2F__n","pl-sra":"pl-sra___2A59i","pl-sre":"pl-sre___2vcoc","pl-smw":"pl-smw___1Eo_Q","pl-v":"pl-v___1SetT","pl-bu":"pl-bu___2M6Co","pl-ii":"pl-ii___2oiBA","pl-c2":"pl-c2___2Cwqb","pl-ml":"pl-ml___2i9UY","pl-mh":"pl-mh___q3vO4","pl-en":"pl-en___2Ooe4","pl-ms":"pl-ms___HUKSh","pl-mi":"pl-mi___3Ogrp","pl-mb":"pl-mb___1ilUM","pl-md":"pl-md___3Jw8A","pl-mi1":"pl-mi1___36YNh","pl-mc":"pl-mc___2LLxt","pl-mi2":"pl-mi2___13qDA","pl-mdr":"pl-mdr___14tt0","pl-ba":"pl-ba___10hbD","pl-sg":"pl-sg___UzTeE","pl-corl":"pl-corl___2F7CZ",octicon:"octicon___1lAKJ","pl-0":"pl-0___3M5Z8","pl-1":"pl-1___3jBiu","pl-2":"pl-2___1a110","pl-3":"pl-3___1L7_W","pl-4":"pl-4___2m-Ci","pl-5":"pl-5___KXChh","pl-6":"pl-6___27cZl",anchor:"anchor___ZmxCW","octicon-link":"octicon-link___as-7-",highlight:"highlight___25TiY","full-commit":"full-commit___2Cyv6","btn-outline":"btn-outline___2K6tS","radio-label":"radio-label___2mgG3","task-list-item":"task-list-item___1VCRe"}}}]);