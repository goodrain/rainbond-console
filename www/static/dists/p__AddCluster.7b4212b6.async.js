(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{IWTo:function(e,t,l){"use strict";var a=l("g09b"),r=l("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l("+L6B");var s=a(l("2/Rp"));l("IzEo");var i=a(l("bx4M"));l("/zsF");var d=a(l("PArb"));l("14J3");var n=a(l("BMrR")),u=a(l("jehZ"));l("5NDa");var c=a(l("5rEg"));l("jCWc");var o=a(l("kPKH"));l("y8nQ");var f=a(l("Vl3Y"));l("tU7J");var m=a(l("wFql"));l("FJo9");var p,h,v,E,g=a(l("L41K")),y=a(l("18gR")),b=l("MuoO"),C=l("7DNP"),_=r(l("q1tI")),S=a(l("sYrh")),w=a(l("VQ3Z")),A=a(l("aMNY")),k=a(l("XZXw")),x=a(l("AklW")),D=a(l("mWxT")),I=a(l("+iC2")),N=a(l("nfvM")),M=g.default.Step,K=m.default.Paragraph,L=(p=f.default.create(),h=(0,b.connect)(e=>{var t=e.user,l=e.list,a=e.loading,r=e.global,s=e.index;return{user:t.currentUser,list:l,loading:a.models.list,rainbondInfo:r.rainbondInfo,enterprise:r.enterprise,isRegist:r.isRegist,oauthLongin:a.effects["global/creatOauth"],overviewInfo:s.overviewInfo}}),p(v=h((E=class extends _.PureComponent{constructor(e){super(e),this.getAccessKey=(()=>{var e=this.props.dispatch,t=this.state.selectProvider,l=this.props.match.params.eid;e({type:"cloud/getAccessKey",payload:{enterprise_id:l,provider_name:t},callback:e=>{this.setState({providerAccess:e})}})}),this.setProvider=(e=>{this.setState({selectProvider:e})}),this.setAccessKey=(()=>{var e=this.props,t=e.form,l=e.dispatch,a=this.props.match.params.eid,r=this.state.selectProvider;t.validateFields((e,t)=>{e||(this.setState({loading:!0}),l({type:"cloud/setAccessKey",payload:{enterprise_id:a,provider_name:r,access_key:t.access_key,secret_key:t.secret_key},callback:e=>{e&&this.toClusterList(r)}}))})}),this.cancelAddCluster=(()=>{this.setState({addClusterShow:!1})}),this.cancelAddCustomCluster=(()=>{this.setState({addCustomClusterShow:!1})}),this.addClusterShow=(()=>{this.setState({addClusterShow:!0})}),this.toClusterList=(e=>{var t=this.props.dispatch,l=this.props.match.params.eid;t(C.routerRedux.push("/enterprise/".concat(l,"/provider/").concat(e,"/kclusters")))}),this.addClusterOK=(()=>{var e=this.props.dispatch,t=this.props.match.params.eid;e(C.routerRedux.push("/enterprise/".concat(t,"/clusters")))}),this.preStep=(()=>{var e=this.state.currentStep;this.setState({currentStep:e-1})}),this.loadSteps=(()=>{var e=[{title:"\u9009\u62e9\u4f9b\u5e94\u5546"},{title:"\u9009\u62e9(\u521b\u5efa)\u5e73\u53f0\u96c6\u7fa4"},{title:"\u521d\u59cb\u5316\u5e73\u53f0\u96c6\u7fa4"},{title:"\u5b8c\u6210\u5bf9\u63a5"}];return e}),this.showInitTaskDetail=(e=>{this.setState({showInitTaskDetail:!0,initTask:e})}),this.completeInit=(e=>{this.setState({currentStep:3,selectProvider:e.providerName})}),this.cancelShowInitDetail=(()=>{this.setState({showInitTaskDetail:!1})}),this.renderAliyunAcountSetting=(()=>{var e=this.state.providerAccess,t=this.props.form.getFieldDecorator,l={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}},labelAlign:"left"};return _.default.createElement(f.default,l,_.default.createElement(o.default,{span:24},_.default.createElement(K,{className:N.default.describe},_.default.createElement("h5",null,"\u8d26\u53f7\u8bf4\u660e\uff1a"),_.default.createElement("ul",null,_.default.createElement("li",null,_.default.createElement("span",null,"\u5f00\u59cb\u6b64\u6d41\u7a0b\u4e4b\u524d\u4f60\u5fc5\u987b\u786e\u5b9a\u4f60\u7684\u963f\u91cc\u4e91\u8d26\u6237\u662f\u5426\u652f\u6301\u6309\u9700\u8d2d\u4e70\u8d44\u6e90\uff0c\u6bd4\u5982\u8d26\u6237\u4f59\u989d\u5927\u4e8e100\u5143\u5e76\u901a\u8fc7\u5b9e\u540d\u8ba4\u8bc1")),_.default.createElement("li",null,_.default.createElement("span",null,"\u786e\u4fdd\u4ee5\u4e0b\u670d\u52a1\u5df2\u5f00\u901a\u6216\u6388\u6743\u5df2\u6388\u4e88\uff1a",x.default.getAliyunCountDescribe().map(e=>{return _.default.createElement("a",{style:{marginRight:"8px"},href:e.href,target:"_blank",rel:"noreferrer"},e.title)}))),_.default.createElement("li",null,_.default.createElement("span",null,"\u63a8\u8350\u5728\u963f\u91cc\u4e91\u63a7\u5236\u53f0\u4f01\u4e1aRAM\u8bbf\u95ee\u63a7\u5236\u9875\u9762\u4e2d\u521b\u5efa\u72ec\u7acb\u7684RAM\u7528\u6237\uff0c\u5e76\u521b\u5efa\u7528\u6237AccessKey")),_.default.createElement("li",null,_.default.createElement("span",null,"\u8bf7\u4e3aRAM\u7528\u6237\u8d4b\u4e88:",_.default.createElement("b",null,"AliyunCSFullAccess"),"\u3001",_.default.createElement("b",null,"AliyunECSFullAccess"),"\u3001",_.default.createElement("b",null,"AliyunVPCFullAccess"),"\u3001",_.default.createElement("b",null,"AliyunRDSFullAccess"),"\u3001",_.default.createElement("b",null,"AliyunNASFullAccess"),"\u3001",_.default.createElement("b",null,"AliyunSLBFullAccess"),"\u6743\u9650")),_.default.createElement("li",null,_.default.createElement("span",null,"\u6211\u4eec\u5c06\u4e25\u683c\u4fdd\u62a4AccessKey\u5b89\u5168\uff0c\u82e5\u4f60\u6709\u5b89\u5168\u987e\u8651\uff0c\u53ef\u4ee5\u5728\u96c6\u7fa4\u5bf9\u63a5\u5b8c\u6210\u540e\u5220\u9664\u8d26\u53f7\u6536\u56de\u6743\u9650")),_.default.createElement("li",null,_.default.createElement("span",null,"\u5982\u679c\u5bf9\u63a5\u5df2\u5b58\u5728\u7684Kubernetes\u96c6\u7fa4\uff0c\u5bf9\u96c6\u7fa4\u5df2\u6709\u4e1a\u52a1\u4e0d\u5f71\u54cd\uff0c\u53e6\u5916\u4f1a\u6309\u9700\u8d2d\u4e70RDS(1\u4e2a)\uff0cNAS(1\u4e2a)\uff0cSLB(1\u4e2a)\uff0c\u9884\u8ba1\u6bcf\u5c0f\u65f6\u8d39\u7528",_.default.createElement("b",null,"0.5"),"\u5143")),_.default.createElement("li",null,_.default.createElement("span",null,"\u5982\u679c\u65b0\u8d2d\u4e70Kubernetes\u96c6\u7fa4\uff0c\u6211\u4eec\u4f1a\u6309\u9700\u521b\u5efa\u8d2d\u4e70Kubernetes\u6258\u7ba1\u96c6\u7fa4(1\u4e2a)\uff0cRDS(1\u4e2a)\uff0cNAS(1\u4e2a)\uff0cSLB(1\u4e2a)\uff0c\u9884\u8ba1\u6bcf\u5c0f\u65f6\u8d39\u7528",_.default.createElement("b",null,"2.5"),"\u5143"))))),_.default.createElement(o.default,{span:8,style:{padding:"16px"}},_.default.createElement(f.default.Item,{name:"access_key",label:"Access Key"},t("access_key",{initialValue:e.access_key||"",rules:[{required:!0,message:"\u8bf7\u63d0\u4f9b\u5177\u6709\u8db3\u591f\u6743\u9650\u7684Access Key"}]})(_.default.createElement(c.default,{placeholder:"Access Key"})))),_.default.createElement(o.default,{span:8,style:{padding:"16px"}},_.default.createElement(f.default.Item,{name:"secret_key",label:"Secret Key"},t("secret_key",{initialValue:e.secret_key||"",rules:[{required:!0,message:"\u8bf7\u63d0\u4f9b\u5177\u6709\u8db3\u591f\u6743\u9650\u7684Secret Key"}]})(_.default.createElement(c.default,{autoComplete:"new-password",type:"password",placeholder:"Secret Key"})))))}),this.handleGuideStep=(e=>{this.setState({guideStep:e})}),this.handleNewbieGuiding=(e=>{var t=e.prevStep,l=e.nextStep;return _.default.createElement(y.default,(0,u.default)({},e,{totals:14,handleClose:()=>{this.handleGuideStep("close")},handlePrev:()=>{t&&this.handleGuideStep(t)},handleNext:()=>{l&&(this.toClusterList("rke"),this.handleGuideStep(l),4===l&&document.getElementById("cloudServiceBtn").scrollIntoView())}}))});var t=this.props.user,l=I.default.isCompanyAdmin(t);this.state={adminer:l,addClusterShow:!1,addCustomClusterShow:!1,selectProvider:"ack",currentStep:0,guideStep:2,providerAccess:{},loading:!1,initTask:{}}}componentWillMount(){var e=this.state.adminer,t=this.props.dispatch;e||t(C.routerRedux.push("/"))}componentDidMount(){this.getAccessKey()}render(){var e=this.state,t=e.addClusterShow,l=e.addCustomClusterShow,a=e.selectProvider,r=e.currentStep,u=e.guideStep,c=e.loading,f=e.showInitTaskDetail,m=e.initTask,p=this.props.match.params.eid,h=this.renderAliyunAcountSetting(),v=_.default.createElement("svg",{t:"1610788158830",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4505"},_.default.createElement("path",{d:"M485.561494 719.136203a36.179 36.179 0 0 0 2.714854 2.457657 35.721761 35.721761 0 0 0 47.810005-2.457657l171.750227-171.764515a35.721761 35.721761 0 0 0-50.524859-50.524859L546.545685 607.641443V0h-71.443522v607.641443l-110.780326-110.780325a35.721761 35.721761 0 1 0-50.524858 50.524858z","p-id":"4506",fill:"#4d73b1"}),_.default.createElement("path",{d:"M920.338191 365.004954H780.880437v71.443522h132.313402V952.485035H110.740201V436.448476h131.24175v-71.443522H103.595849c-35.450276 0-64.29917 29.477597-64.29917 65.72804v527.538966c0 36.221866 28.848894 65.72804 64.29917 65.72804h816.742342c35.450276 0 64.29917-29.463308 64.29917-65.72804V430.690128c0-36.221866-28.848894-65.685174-64.29917-65.685174z","p-id":"4507",fill:"#4d73b1"})),E=_.default.createElement("svg",{t:"1610788127045",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3690"},_.default.createElement("path",{d:"M435.36 612.256l0.288 0.416-42.624 102.944a221.792 221.792 0 0 1-88.032-109.28l-0.48-1.536 109.984-18.656 0.16 0.224a18.784 18.784 0 0 1 20.608 25.984l0.032-0.128z m-35.52-90.816a18.816 18.816 0 0 0 7.424-32.256l-0.032-0.032 0.096-0.48-83.68-74.848a217.088 217.088 0 0 0-32.48 114.848c0 8.448 0.48 16.8 1.408 25.024l-0.096-0.992 107.264-30.944 0.096-0.384z m48.832-84.48a18.784 18.784 0 0 0 29.824-14.336v-0.032l0.416-0.224 6.4-111.776a219.296 219.296 0 0 0-128.448 61.568l0.032-0.032 91.616 64.992 0.16-0.096z m32.448 117.312l30.848 14.88 30.816-14.816 7.68-33.28-21.344-26.592h-34.304l-21.344 26.592 7.648 33.248z m64-132.032a18.784 18.784 0 0 0 29.92 14.304l-0.064 0.032 0.352 0.128 91.04-64.544a220.672 220.672 0 0 0-126.56-61.408l-1.088-0.128 6.304 111.584 0.096 0.032z m464.032 254.72l-246.304 306.4a68.16 68.16 0 0 1-53.088 25.344h-0.16l-395.136 0.128h-0.064a68.096 68.096 0 0 1-53.056-25.312l-0.096-0.128-246.432-306.336a67.104 67.104 0 0 1-12.992-57.632l-0.096 0.448 87.904-382.08A67.52 67.52 0 0 1 126.464 192L482.4 21.888c8.64-4.224 18.816-6.688 29.536-6.688s20.896 2.464 29.952 6.88l-0.416-0.192 356.064 170.016a67.552 67.552 0 0 1 36.832 45.792l87.968 382.08a67.2 67.2 0 0 1-13.152 57.184z m-140.32-87.776c-1.792-0.416-4.384-1.12-6.176-1.44-7.424-1.408-13.44-1.056-20.448-1.632-14.944-1.568-27.232-2.848-38.176-6.304-4.48-1.696-7.68-7.04-9.216-9.216l-8.576-2.528a275.936 275.936 0 0 0-4.832-101.376l0.384 1.856a276.384 276.384 0 0 0-40.544-93.248l0.608 0.96c2.208-2.016 6.4-5.664 7.552-6.784 0.352-3.84 0.032-7.808 4-12.032 8.416-7.904 18.944-14.432 31.712-22.272 6.048-3.584 11.648-5.856 17.696-10.336 1.376-1.024 3.232-2.656 4.704-3.808 10.24-8.16 12.576-22.176 5.248-31.392s-21.6-10.08-31.776-1.92c-1.44 1.152-3.424 2.656-4.736 3.744-5.728 4.96-9.248 9.824-14.08 14.944-10.496 10.656-19.2 19.552-28.704 25.984-4.128 2.4-10.208 1.568-12.928 1.408l-8.096 5.76a278.72 278.72 0 0 0-175.776-85.376l-1.12-0.096-0.512-9.504c-2.784-2.656-6.112-4.896-6.944-10.656-0.928-11.424 0.64-23.776 2.432-38.624 0.992-6.944 2.592-12.704 2.912-20.256 0.032-1.696-0.032-4.224-0.032-6.048 0-13.056-9.568-23.68-21.344-23.68-11.744 0-21.28 10.624-21.28 23.68l0.032 0.608c0 1.76-0.096 3.936 0 5.472 0.256 7.552 1.888 13.312 2.848 20.256 1.792 14.848 3.328 27.168 2.4 38.656a23.36 23.36 0 0 1-6.88 10.976l-0.032 0.032-0.512 8.992a274.08 274.08 0 0 0-177.632 85.312l-0.128 0.128a338.976 338.976 0 0 1-8.672-6.144l0.992 0.704c-3.84 0.512-7.68 1.696-12.672-1.248-9.504-6.4-18.208-15.264-28.704-25.952-4.832-5.12-8.32-9.984-14.048-14.88a97.728 97.728 0 0 0-4.736-3.744 25.184 25.184 0 0 0-14.784-5.632h-0.064l-1.088-0.032a20.48 20.48 0 0 0-15.872 7.488l-0.032 0.032c-7.328 9.216-4.992 23.296 5.248 31.456l0.288 0.224 4.448 3.552c6.048 4.48 11.616 6.784 17.664 10.336 12.768 7.904 23.296 14.432 31.712 22.272 3.232 3.488 3.84 9.632 4.256 12.288l6.816 6.112a273.28 273.28 0 0 0-46.336 152.992c0 13.856 1.024 27.488 3.008 40.8l-0.192-1.504-8.864 2.56c-2.336 3.072-5.664 7.84-9.184 9.248-10.976 3.456-23.296 4.704-38.176 6.272-7.008 0.608-13.024 0.256-20.48 1.664-1.568 0.288-3.84 0.864-5.664 1.28l-0.16 0.096-0.288 0.096c-12.576 3.04-20.64 14.592-18.048 25.952 2.592 11.392 14.88 18.304 27.52 15.584l0.288-0.032 0.416-0.128 5.504-1.248c7.264-1.952 12.544-4.832 19.104-7.328 14.08-5.024 25.76-9.248 37.12-10.912 4.768-0.384 9.824 2.944 12.288 4.32l9.248-1.568a278.912 278.912 0 0 0 121.632 152.736l1.248 0.704-3.84 9.312c1.408 3.584 2.944 8.48 1.888 12.032-4.128 10.752-11.232 22.048-19.296 34.688-3.872 5.792-7.904 10.336-11.424 17.024-0.864 1.568-1.92 4.064-2.72 5.728-5.472 11.744-1.44 25.216 9.088 30.304 10.592 5.12 23.712-0.288 29.44-12.032v-0.096c0.864-1.664 1.952-3.84 2.656-5.408 2.976-6.912 4-12.832 6.144-19.552 5.632-14.176 8.736-29.024 16.512-38.272 2.144-2.56 5.536-3.488 9.184-4.48l4.832-8.736a270.592 270.592 0 0 0 99.008 18.4 274.56 274.56 0 0 0 99.52-18.528l-1.888 0.64 4.512 8.192c3.68 1.184 7.68 1.792 10.912 6.624 5.792 9.888 9.76 21.632 14.592 35.84 2.144 6.656 3.168 12.576 6.176 19.488 0.672 1.568 1.824 3.84 2.656 5.504 5.664 11.776 18.848 17.152 29.44 12.032 10.528-5.024 14.56-18.56 9.088-30.304-0.864-1.664-1.92-4.096-2.784-5.728-3.552-6.656-7.552-11.136-11.424-16.992-8.096-12.64-14.752-23.072-18.912-33.824-1.696-5.536 0.288-8.96 1.632-12.544-0.768-0.928-2.528-6.144-3.552-8.608a278.88 278.88 0 0 0 122.336-152.576l0.544-1.952c2.72 0.416 7.52 1.28 9.088 1.632 3.2-2.144 6.144-4.864 11.936-4.448 11.36 1.664 23.04 5.888 37.12 10.912 6.56 2.56 11.808 5.472 19.104 7.392 1.536 0.416 3.744 0.8 5.536 1.184l0.384 0.128 0.288 0.032c12.672 2.72 24.928-4.192 27.52-15.584 2.56-11.36-5.472-22.912-18.048-25.952z m-169.088-175.264l-83.2 74.496v0.224a18.784 18.784 0 0 0 7.264 32.256l0.128 0.032 0.128 0.416 107.776 31.072a222.4 222.4 0 0 0-4.896-72.96l0.288 1.504a222.336 222.336 0 0 0-28.032-68.064l0.544 0.928z m-171.232 227.2a18.656 18.656 0 0 0-16.48-9.92l-0.8 0.032h0.032a18.72 18.72 0 0 0-15.808 9.856l-0.064 0.096h-0.096l-54.112 97.792a215.712 215.712 0 0 0 71.136 11.808c25.344 0 49.664-4.288 72.32-12.128l-1.536 0.48-54.176-97.952h-0.416z m80.544-55.168a18.784 18.784 0 0 0-11.616 1.568l0.096-0.064a18.816 18.816 0 0 0-9.088 24.512l-0.032-0.128-0.128 0.16 43.104 104.032a220.8 220.8 0 0 0 88.288-110.048l0.48-1.536-110.944-18.784-0.16 0.224z",fill:"#4d73b1","p-id":"3691"})),y=_.default.createElement("svg",{t:"1586161102258",viewBox:"0 0 1293 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5713"},_.default.createElement("path",{d:"M503.376842 1024a79.764211 79.764211 0 0 1-55.080421-22.096842L24.576 595.698526A79.764211 79.764211 0 0 1 22.096842 483.004632c30.342737-31.797895 80.842105-32.929684 112.478316-2.425264l361.849263 346.812632L1152.431158 29.049263a79.494737 79.494737 0 0 1 112.101053-10.832842c33.953684 27.917474 38.696421 78.201263 10.778947 112.101053L564.816842 994.950737c-14.012632 17.084632-34.708211 27.648-56.697263 28.887579C506.394947 1024 504.778105 1024 503.376842 1024z",fill:"#ffffff","p-id":"5714"})),b=_.default.createElement("svg",{t:"1610787647584",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2590"},_.default.createElement("path",{d:"M832 800H192a128 128 0 0 1-128-128V192a128 128 0 0 1 128-128h640a128 128 0 0 1 128 128v480a128 128 0 0 1-128 128z m64-544a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v352a128 128 0 0 0 128 128h512a128 128 0 0 0 128-128V256zM60.384 864h914.24c50.496 0 61.664 34.048 29.088 71.264C975.008 968.096 921.504 992 881.312 992H153.696c-40.192 0-93.664-23.904-122.4-56.736C-1.248 898.048 9.92 864 60.384 864z",fill:"#4d73b1","p-id":"2591"}),_.default.createElement("path",{d:"M384 928a128 32 0 1 0 256 0 128 32 0 1 0-256 0Z",fill:"#4d73b1","p-id":"2592"}),_.default.createElement("path",{d:"M256 493.504a114.496 114.016 90 1 0 228.032 0 114.496 114.016 90 1 0-228.032 0Z",fill:"#4d73b1","p-id":"2593"}),_.default.createElement("path",{d:"M508.512 380m-123.488 0a123.488 123.488 0 1 0 246.976 0 123.488 123.488 0 1 0-246.976 0Z",fill:"#4d73b1","p-id":"2594"}),_.default.createElement("path",{d:"M654.016 493.504m-114.016 0a114.016 114.016 0 1 0 228.032 0 114.016 114.016 0 1 0-228.032 0Z",fill:"#4d73b1","p-id":"2595"}),_.default.createElement("path",{d:"M398.016 460.992h256V608h-256z",fill:"#4d73b1","p-id":"2596"})),C=x.default.getProviders(),I=D.default.isEnableK8sCluster()||!1;return _.default.createElement(k.default,{title:"\u6dfb\u52a0\u96c6\u7fa4",content:"\u96c6\u7fa4\u662f\u8d44\u6e90\u7684\u96c6\u5408\uff0c\u4ee5Kubernetes\u96c6\u7fa4\u4e3a\u57fa\u7840\uff0c\u90e8\u7f72\u5e73\u53f0Region\u670d\u52a1\u5373\u53ef\u6210\u4e3a\u5e73\u53f0\u96c6\u7fa4\u8d44\u6e90\u3002"},_.default.createElement(n.default,{style:{marginBottom:"16px"},id:"selfBuilt"},_.default.createElement(g.default,{current:r},this.loadSteps().map(e=>_.default.createElement(M,{key:e.title,title:e.title})))),_.default.createElement(i.default,null,_.default.createElement(n.default,null,_.default.createElement("h3",null,"\u81ea\u5efa\u57fa\u7840\u8bbe\u65bd"),_.default.createElement(d.default,null),_.default.createElement(o.default,{span:8},_.default.createElement("div",{onClick:()=>this.toClusterList("rke"),className:N.default.import},_.default.createElement("div",{className:N.default.importicon},b),_.default.createElement("div",{className:N.default.importDesc},_.default.createElement("h3",null,"\u4ece\u4e3b\u673a\u5f00\u59cb\u5b89\u88c5"),_.default.createElement("p",null,"\u63d0\u4f9b\u81f3\u5c11\u4e00\u53f0\u4e3b\u673a\uff0c\u81ea\u52a8\u5b8c\u6210\u96c6\u7fa4\u7684\u5b89\u88c5\u548c\u63a5\u5165\u3002"))),2===u&&this.handleNewbieGuiding({tit:"\u4e3b\u673a\u5b89\u88c5",configName:"hostInstall",desc:"\u4ece\u4e3b\u673a\u5f00\u59cb\u662f\u6700\u5e38\u7528\u7684\u9014\u5f84\uff0c\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u5176\u4ed6\u51e0\u79cd\u65b9\u5f0f\u3002",nextStep:3,svgPosition:{marginLeft:"58px"}})),_.default.createElement(o.default,{span:8},_.default.createElement("div",{onClick:()=>this.toClusterList("custom"),className:N.default.import},_.default.createElement("div",{className:N.default.importicon},E),_.default.createElement("div",{className:N.default.importDesc},_.default.createElement("h3",null,"\u63a5\u5165Kubernetes\u96c6\u7fa4"),_.default.createElement("p",null,"\u57fa\u4e8e\u5df2\u7ecf\u5b89\u88c5\u7684 Kubernetes \u96c6\u7fa4\uff0c\u521d\u59cb\u5316\u5b89\u88c5\u5e73\u53f0\u5e76\u63a5\u5165\u3002")))),_.default.createElement(o.default,{span:8},_.default.createElement("div",{onClick:this.addClusterShow,className:N.default.import},_.default.createElement("div",{className:N.default.importicon},v),_.default.createElement("div",{className:N.default.importDesc},_.default.createElement("h3",null,"\u63a5\u5165\u5df2\u5b89\u88c5\u5e73\u53f0\u96c6\u7fa4"),_.default.createElement("p",null,"\u5bfc\u5165\u5df2\u7ecf\u5b8c\u6210\u5b89\u88c5\u7684\u5e73\u53f0\u96c6\u7fa4\uff0c\u7531\u5f53\u524d\u63a7\u5236\u53f0\u8c03\u5ea6\u7ba1\u7406\u3002")))))),I&&_.default.createElement(i.default,{style:{marginTop:"16px"}},_.default.createElement("div",null,_.default.createElement(n.default,null,_.default.createElement("h3",null,"\u4e91\u670d\u52a1\u5546\u57fa\u7840\u8bbe\u65bd"),_.default.createElement(d.default,null)),_.default.createElement(n.default,null,C.map(e=>{return _.default.createElement(o.default,{key:e.id,onClick:()=>{e.disable||this.setProvider(e.id)},span:8,style:{padding:"16px"}},_.default.createElement(n.default,{className:[N.default.provider,a===e.id&&N.default.providerActive]},_.default.createElement(o.default,{flex:"100px",className:N.default.providericon},e.icon),_.default.createElement(o.default,{flex:"auto",className:N.default.providerDesc},_.default.createElement("h4",null,e.name),_.default.createElement("p",null,e.describe)),a===e.id&&_.default.createElement("div",{className:N.default.providerChecked},y),e.disable&&_.default.createElement("div",{className:N.default.disable},"\u5373\u5c06\u652f\u6301\uff08\u9700\u8981\u8bf7\u8054\u7cfb\u6211\u4eec\uff09")))})),_.default.createElement(n.default,{style:{marginTop:"32px",padding:"0 16px"}},_.default.createElement("h4",null,"\u8d26\u6237\u8bbe\u7f6e"),h),_.default.createElement(n.default,{justify:"center"},_.default.createElement(o.default,{style:{textAlign:"center"},span:24},_.default.createElement(s.default,{loading:c,onClick:this.setAccessKey,type:"primary"},"\u4e0b\u4e00\u6b65"))))),t&&_.default.createElement(S.default,{eid:p,onOk:this.addClusterOK,onCancel:this.cancelAddCluster}),l&&_.default.createElement(w.default,{eid:p,onCancel:this.cancelAddCustomCluster}),I&&f&&_.default.createElement(A.default,{onCancel:this.cancelShowInitDetail,eid:p,providerName:a,taskID:m.taskID,clusterID:m.clusterID}),_.default.createElement("div",{id:"cloudServiceBtn",style:{height:"160px"}}))}},v=E))||v)||v);t.default=L},nfvM:function(e,t,l){e.exports={nameID:"nameID___1S-1f",icon:"icon___14fiC",iconm:"iconm___1EpSz",import:"import___1oF_y",importicon:"importicon___3k-FZ",importDesc:"importDesc___1Ra8i",provider:"provider___rOvOw",providerActive:"providerActive___3ToCd",providericon:"providericon___2Gf-J",providerDesc:"providerDesc___1ThEV",providerChecked:"providerChecked___1sdfZ",disable:"disable___1AiPb",noCluster:"noCluster___2k16e",describe:"describe___uPL4n",initModal:"initModal___XS-LF"}},sYrh:function(e,t,l){"use strict";var a=l("g09b"),r=l("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l("2qtc");var s=a(l("kLXV"));l("jCWc");var i=a(l("kPKH")),d=a(l("jehZ"));l("5NDa");var n=a(l("5rEg")),u=a(l("p0pE"));l("/xke");var c=a(l("TeRw"));l("y8nQ");var o,f,m,p=a(l("Vl3Y")),h=l("MuoO"),v=r(l("q1tI")),E=a(l("QDog")),g=a(l("ZNrE")),y=a(l("e6Ls")),b=p.default.Item,C=(o=(0,h.connect)(e=>{var t=e.global;return{rainbondInfo:t.rainbondInfo,enterprise:t.enterprise}}),o((m=class extends v.PureComponent{constructor(){super(...arguments),this.handleSubmit=(()=>{var e=this.props.form,t=e.validateFields;t((e,t)=>{e||this.createClusters(t)})}),this.beforeUpload=((e,t)=>{var l=e.name.split("."),a=l.length,r="yaml"===l[a-1]||"yml"===l[a-1];return!!r||(t&&c.default.warning({message:"\u8bf7\u4e0a\u4f20\u4ee5.yaml\u3001.yml\u7ed3\u5c3e\u7684 Region Config \u6587\u4ef6"}),!1)}),this.checkConfigFile=((e,t,l)=>{if(t){if(!t.file.name.endsWith(".yaml")&&!t.file.name.endsWith(".yml"))return void l("\u8bf7\u4e0a\u4f20\u4ee5yaml\u3001yml\u7ed3\u5c3e\u7684 Region Config \u6587\u4ef6");if(t.fileList.length>0){var a=t.fileList.splice(-1);return this.readFileContents(a,"token"),void l()}l("\u4e0a\u4f20\u7684 Region Config \u6587\u4ef6\u975e\u6cd5")}else l()}),this.createClusters=(e=>{var t=this.props,l=t.onOk,a=t.dispatch,r=t.eid,s=t.rainbondInfo,i=t.enterprise;a({type:"region/createEnterpriseCluster",payload:(0,u.default)({},e,{region_type:["custom"],enterprise_id:r,provider:"directly",providerClusterID:""}),callback:e=>{e&&200===e._condition&&(c.default.success({message:"\u6dfb\u52a0\u6210\u529f"}),E.default.putInstallClusterLog(i,s,{eid:r,status:"complete",install_step:"directly",provider:"directly"}),l&&l())}})})}render(){var e=this.props,t=e.form,l=e.onCancel,a=t.getFieldDecorator,r=t.setFieldsValue,u={labelCol:{xs:{span:24}},wrapperCol:{xs:{span:24}}};return v.default.createElement(s.default,{visible:!0,title:"\u6dfb\u52a0\u96c6\u7fa4",className:y.default.TelescopicModal,onOk:this.handleSubmit,width:800,onCancel:l},v.default.createElement(p.default,{labelAlign:"left",onSubmit:this.handleSubmit},v.default.createElement(i.default,{style:{display:"flex"}},v.default.createElement(b,(0,d.default)({},u,{label:"\u96c6\u7fa4ID",style:{width:"50%",padding:"0 16px"}}),a("region_name",{initialValue:"",rules:[{required:!0,message:"\u96c6\u7fa4ID\u662f\u5fc5\u586b\u9879\uff0c\u4e0d\u53ef\u4fee\u6539"},{pattern:/^[a-z0-9A-Z-_]+$/,message:"\u53ea\u652f\u6301\u5b57\u6bcd\u3001\u6570\u5b57\u548c-_\u7ec4\u5408"}]})(v.default.createElement(n.default,{placeholder:"\u8bf7\u586b\u5199\u96c6\u7fa4ID\uff0c\u6dfb\u52a0\u540e\u4e0d\u53ef\u4fee\u6539"}))),v.default.createElement(b,(0,d.default)({},u,{label:"\u96c6\u7fa4\u540d\u79f0",style:{width:"50%",padding:"0 16px"}}),a("region_alias",{initialValue:"",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u96c6\u7fa4\u540d\u79f0!"},{max:24,message:"\u6700\u5927\u957f\u5ea624\u4f4d"}]})(v.default.createElement(n.default,{placeholder:"\u8bf7\u586b\u5199\u96c6\u7fa4\u540d\u79f0"})))),v.default.createElement(i.default,{style:{display:"flex"}},v.default.createElement(b,(0,d.default)({},u,{label:"\u5907\u6ce8",style:{width:"100%",padding:"0 16px"}}),a("desc",{initialValue:""})(v.default.createElement(n.default,{placeholder:"\u5907\u6ce8\u4fe1\u606f"})))),v.default.createElement(g.default,{titles:"Region-Config \u6587\u4ef6\u5185\u5bb9\u53ef\u901a\u8fc7\u6267\u884c`grctl config`\u547d\u4ee4\u83b7\u5f97",setFieldsValue:r,formItemLayout:u,Form:p.default,getFieldDecorator:a,beforeUpload:this.beforeUpload,mode:"yaml",name:"token",label:"Region Config",message:"Region Config\u662f\u5fc5\u987b\u7684",width:"752px"})))}},f=m))||f),_=p.default.create()(C),S=_;t.default=S}}]);