(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"oyw+":function(e,t,a){e.exports={commandBox:"commandBox___3uWqu",commandIcon:"commandIcon___39a8a",command:"command___3Hs9F",commandSpan:"commandSpan___36cG1",antd_row:"antd_row___94gX0",antd_form:"antd_form___3adtc",antd_row_btn:"antd_row_btn___3FX59",antd_btn:"antd_btn___3Qagw"}},wN07:function(e,t,a){"use strict";var n=a("g09b"),o=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=n(a("bx4M"));a("+L6B");var s=n(a("2/Rp"));a("jCWc");var d=n(a("kPKH"));a("fOrg");var l=n(a("+KLJ"));a("T2oS");var i=n(a("W9HT"));a("14J3");var c=n(a("BMrR"));a("/xke");var m=n(a("TeRw"));a("FJo9");var u=n(a("L41K"));a("y8nQ");var p,f,h,v,_=n(a("Vl3Y")),b=a("RBnf"),k=n(a("+QRC")),y=a("MuoO"),g=a("7DNP"),w=a("LvDl"),C=n(a("Qyje")),E=o(a("q1tI")),x=n(a("3a4m")),L=n(a("XZXw")),N=n(a("+iC2")),I=n(a("oyw+")),S=(_.default.Item,u.default.Step),D=(p=_.default.create(),f=(0,y.connect)(e=>{var t=e.user,a=e.list,n=e.loading,o=e.global,r=e.index;return{user:t.currentUser,list:a,loading:n.models.list,rainbondInfo:o.rainbondInfo,enterprise:o.enterprise,isRegist:o.isRegist,oauthLongin:n.effects["global/creatOauth"],overviewInfo:r.overviewInfo}}),p(h=f((v=class extends E.PureComponent{constructor(e){super(e),this.handleOptionData=(e=>{if(e){for(var t in e)"object"!==typeof e[t]?"true"===e[t]?e[t]=!0:"false"===e[t]&&(e[t]=!1):this.handleOptionData(e[t]);return e}}),this.loadSteps=(()=>{var e=[{title:"\u57fa\u672c\u914d\u7f6e"},{title:"\u9ad8\u7ea7\u914d\u7f6e"},{title:"\u6267\u884c\u5b89\u88c5"},{title:"\u5bf9\u63a5\u96c6\u7fa4"}];return e}),this.toLinkNext=(e=>{var t=this.props,a=t.match.params.eid,n=t.location.search,o=this.state,r=o.helmToken,s=o.resCommand,d=o.copyCommand,l=C.default.parse(n.substr(1))||{},i=(l.data,l.name),c=l.step;if("goback"===e)switch(i){case"helm":x.default.push("/enterprise/".concat(a,"/provider/ACksterList"));break;case"ack":x.default.push("/enterprise/".concat(a,"/provider/Aliack"));break;case"huawei":x.default.push("/enterprise/".concat(a,"/provider/HuaweiList"));break;case"tencent":x.default.push("/enterprise/".concat(a,"/provider/tencentList"));break;default:break}else x.default.push({pathname:"/enterprise/".concat(a,"/provider/ACksterList/result"),search:C.default.stringify({token:r,data:s,copy:d,name:i,step:c})})}),this.helmToken=(e=>{var t=this.props,a=t.dispatch,n=t.match.params.eid,o=t.location.search,r=C.default.parse(o.substr(1))||{},s=(r.data,r.name,r.step,r.cloudserver),d=window.location.href,l=d.match(/(\S*)\/#\//)[1];a({type:"region/fetchHelmToken",payload:{eid:n},callback:t=>{200===t.status_code&&t.bean&&a({type:"region/fetchHelmCommand",payload:{eid:n,domain:l,token:t.bean,data:e,cloudserver:s},callback:e=>{var a=e.response_data.command.split(" & "),n=(0,w.cloneDeep)(a),o=n.join("\n ");this.setState({helmToken:t.bean,resCommand:a,copyCommand:o,commandFlag:!0})}})}})}),this.onCopy=(()=>{var e=this.state.copyCommand;(0,k.default)(e),m.default.success({message:"\u590d\u5236\u6210\u529f"})});var t=this.props.user,a=N.default.isCompanyAdmin(t);this.state={adminer:a,commandFlag:!1,resCommand:[],copyCommand:"",helmToken:""}}componentWillMount(){var e=this.state.adminer,t=this.props.dispatch;e||t(g.routerRedux.push("/"))}componentDidMount(){var e=this.props.location.search,t=C.default.parse(e.substr(1))||{},a=t.data,n=(t.name,t.step),o=t.token,r=t.copy,s=t.isResult,d=void 0!==s&&s,l=(0,w.cloneDeep)(a),i=this.handleOptionData(l);"base"===n&&!d||"advanced"===n&&!d?this.helmToken(i):d&&this.setState({resCommand:a,copyCommand:r,commandFlag:!0,helmToken:o})}render(){var e=this.props.match.params,t=(e.eid,e.provider,e.clusterID,this.state),a=t.commandFlag,n=t.resCommand;this.props.form.getFieldDecorator;return E.default.createElement(L.default,{title:"\u6dfb\u52a0\u96c6\u7fa4",content:"\u96c6\u7fa4\u662f\u8d44\u6e90\u7684\u96c6\u5408\uff0c\u4ee5Kubernetes\u96c6\u7fa4\u4e3a\u57fa\u7840\uff0c\u90e8\u7f72\u5e73\u53f0Region\u670d\u52a1\u5373\u53ef\u6210\u4e3a\u5e73\u53f0\u96c6\u7fa4\u8d44\u6e90\u3002"},E.default.createElement(c.default,{style:{marginBottom:"16px"}},E.default.createElement(u.default,{current:2},this.loadSteps().map(e=>E.default.createElement(S,{key:e.title,title:e.title})))),E.default.createElement(r.default,{style:{padding:"24px"}},!a&&E.default.createElement(i.default,{tip:"Loading..."},E.default.createElement("div",{className:I.default.commandBox}," ")),a&&E.default.createElement("div",{className:I.default.commandBox},E.default.createElement("div",{className:I.default.commandIcon},E.default.createElement(b.CopyOutlined,{onClick:this.onCopy})),E.default.createElement("div",{className:I.default.command},n.length>0&&n.map((e,t)=>E.default.createElement("span",{key:t,className:I.default.commandSpan},e)))),E.default.createElement(c.default,{style:{marginBottom:"10px"}},E.default.createElement(d.default,{span:24},E.default.createElement(l.default,{style:{fontSize:"16px",fontWeight:"bolder"},type:"info",message:"\u590d\u5236\u547d\u4ee4\u53bb\u670d\u52a1\u5668\u6267\u884c\uff0c\u670d\u52a1\u5668\u6267\u884c\u5b8c\u6210\uff0c\u70b9\u51fb \u201c\u4e0b\u4e00\u6b65\u201d\u3002"}))),E.default.createElement(c.default,null,E.default.createElement("div",{className:I.default.antd_row_btn},E.default.createElement(s.default,{className:I.default.antd_btn,type:"primary",onClick:()=>this.toLinkNext("goback")},"\u4e0a\u4e00\u6b65"),E.default.createElement(s.default,{className:I.default.antd_btn,type:"primary",onClick:()=>this.toLinkNext("next")},"\u4e0b\u4e00\u6b65")))))}},h=v))||h)||h);t.default=D}}]);