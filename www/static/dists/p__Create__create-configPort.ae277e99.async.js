(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{NklW:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var i=l(a("2/Rp"));a("/xke");var o,n,r,d=l(a("TeRw")),p=a("MuoO"),c=a("7DNP"),m=s(a("q1tI")),u=a("LLXN"),h=(a("4/zt"),l(a("sSG8"))),f=l(a("q76B")),g=l(a("QDog")),v=l(a("n9hB")),_=l(a("hMqj")),y=l(a("2lxJ")),b=l(a("XZXw")),C=(o=(0,p.connect)(e=>{var t=e.loading,a=e.teamControl,l=e.appControl;return{buildAppsLoading:t.effects["createApp/buildApps"],deleteAppLoading:t.effects["appControl/deleteApp"],currentTeamPermissionsInfo:a.currentTeamPermissionsInfo,soundCodeLanguage:a.codeLanguage,packageNpmOrYarn:a.packageNpmOrYarn,ports:l.ports}},null,null,{withRef:!0}),o((r=class extends m.PureComponent{constructor(e){super(e),this.handlePermissions=(e=>{var t=this.props.currentTeamPermissionsInfo;return _.default.querySpecifiedPermissionsInfo(t,e)}),this.loadDetail=(()=>{var e=this.props.dispatch,t=this.fetchParameter(),a=t.team_name,l=t.app_alias;e({type:"appControl/fetchDetail",payload:{team_name:a,app_alias:l},callback:e=>{this.setState({appDetail:e})},handleError:e=>{var t=v.default.getCode(e);t&&404===t&&this.handleJump("exception/404")}})}),this.handleBuild=(()=>{this.loadingBuild=!0;var e=this.fetchParameter(),t=e.team_name,a=e.app_alias,l=this.props,s=(l.refreshCurrent,l.dispatch),i=l.soundCodeLanguage,o=l.packageNpmOrYarn,n=JSON.parse(window.sessionStorage.getItem("dist"))||!1,r=this.state,p=r.isDeploy,c=r.appDetail;this.setState({buildAppLoading:!0},()=>{if("Node.js"==i||"NodeJSStatic"==i){var e={team_name:t,app_alias:a,lang:i,package_tool:o};"NodeJSStatic"==i&&(e.dist=n),s({type:"createApp/setNodeLanguage",payload:e,callback:e=>{e&&s({type:"createApp/buildApps",payload:{team_name:t,app_alias:a,is_deploy:p},callback:e=>{var l;e&&(s({type:"global/fetchGroups",payload:{team_name:t},callback:e=>{this.setState({buildAppLoading:!1}),this.loadingBuild=!1}}),window.sessionStorage.removeItem("codeLanguage"),window.sessionStorage.removeItem("packageNpmOrYarn"),window.sessionStorage.removeItem("advanced_setup"),this.handleJump("apps/".concat(null===c||void 0===c?void 0:null===(l=c.service)||void 0===l?void 0:l.group_id,"/overview?type=components&componentID=").concat(a,"&tab=overview")))},handleError:e=>{var t;this.setState({buildAppLoading:!1}),this.loadingBuild=!1,d.default.error({message:e.msg_show||(null===(t=e.data)||void 0===t?void 0:t.msg_show)||"\u64cd\u4f5c\u5931\u8d25"})}})}})}else s({type:"createApp/buildApps",payload:{team_name:t,app_alias:a,is_deploy:p},callback:e=>{var l;e&&(this.setState({buildAppLoading:!1}),this.loadingBuild=!1,s({type:"global/fetchGroups",payload:{team_name:t}}),window.sessionStorage.removeItem("codeLanguage"),window.sessionStorage.removeItem("packageNpmOrYarn"),window.sessionStorage.removeItem("advanced_setup"),this.handleJump("apps/".concat(null===c||void 0===c?void 0:null===(l=c.service)||void 0===l?void 0:l.group_id,"/overview?type=components&componentID=").concat(a,"&tab=overview")))},handleError:e=>{var t;this.setState({buildAppLoading:!1}),this.loadingBuild=!1,d.default.error({message:e.msg_show||(null===(t=e.data)||void 0===t?void 0:t.msg_show)||"\u64cd\u4f5c\u5931\u8d25"})}})})}),this.handlePreventClick=(()=>{this.loadingBuild?d.default.warning({message:"\u6b63\u5728\u521b\u5efa\uff0c\u8bf7\u52ff\u9891\u7e41\u64cd\u4f5c\uff01"}):this.handleBuild()}),this.handleDelete=(()=>{var e=this.props.dispatch,t=this.fetchParameter(),a=t.team_name,l=t.app_alias;e({type:"appControl/deleteApp",payload:{team_name:a,app_alias:l,is_force:!0},callback:()=>{e({type:"global/fetchGroups",payload:{team_name:a}}),window.sessionStorage.removeItem("codeLanguage"),window.sessionStorage.removeItem("packageNpmOrYarn"),window.sessionStorage.removeItem("advanced_setup"),this.handleJump("index")}})}),this.handleJump=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.team_name,s=a.region_name;t(c.routerRedux.replace("/team/".concat(l,"/region/").concat(s,"/").concat(e)))}),this.showDelete=(()=>{this.setState({showDelete:!0})}),this.fetchParameter=(()=>{return{team_name:g.default.getCurrTeamName(),region_name:g.default.getCurrRegionName(),app_alias:this.getAppAlias()}}),this.handleBuildSwitch=(e=>{this.setState({handleBuildSwitch:e})}),this.handleLinkConfigFile=(e=>{var t=this.props,a=t.match.params,l=a.appAlias,s=a.regionName,i=a.teamName,o=t.dispatch;o(c.routerRedux.replace("/team/".concat(i,"/region/").concat(s,"/create/").concat(e,"/").concat(l)))}),this.state={appDetail:null,handleBuildSwitch:!1,isDeploy:!0},this.loadingBuild=!1}componentDidMount(){this.loadDetail()}componentWillUnmount(){this.props.dispatch({type:"appControl/clearDetail"})}getAppAlias(){return this.props.match.params.appAlias}handleDebounce(e,t){var a=null;return l=>{null!==a&&clearTimeout(a),a=setTimeout(()=>{e.call(l),a=null},t)}}render(){var e=this.props,t=(e.buildAppsLoading,e.deleteAppLoading),a=this.state,l=a.showDelete,s=a.handleBuildSwitch,o=a.buildAppLoading,n=!0,r=this.state.appDetail||{};return r.service?m.default.createElement(m.default.Fragment,null,m.default.createElement(b.default,{titleSvg:y.default.getPageHeaderSvg("advanced",18),title:(0,u.formatMessage)({id:"componentCheck.advanced.setup"}),content:(0,u.formatMessage)({id:"versionUpdata_6_1.content2"})},m.default.createElement("div",{style:{overflow:"hidden"}},m.default.createElement(h.default,{updateDetail:this.loadDetail,appDetail:r,handleBuildSwitch:this.handleBuildSwitch}),m.default.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},n&&m.default.createElement(i.default,{onClick:this.showDelete,type:"default",style:{marginRight:8}},(0,u.formatMessage)({id:"button.abandon_create"})),m.default.createElement(i.default,{style:{marginRight:8},onClick:()=>this.handleLinkConfigFile("create-configFile")},(0,u.formatMessage)({id:"button.previous"})),m.default.createElement(i.default,{loading:o,style:{marginRight:8},onClick:()=>this.handleDebounce(this.handleBuild(s),1e3),type:"primary"},(0,u.formatMessage)({id:"button.confirm_create"}))),l&&m.default.createElement(f.default,{loading:t,onOk:this.handleDelete,title:(0,u.formatMessage)({id:"confirmModal.abandon_create.create_check.title"}),subDesc:(0,u.formatMessage)({id:"confirmModal.delete.strategy.subDesc"}),desc:(0,u.formatMessage)({id:"confirmModal.delete.create_check.desc"}),onCancel:()=>{this.setState({showDelete:!1})}})))):null}},n=r))||n);t.default=C},Zc1m:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var i=l(a("/wGt"));a("+L6B");var o=l(a("2/Rp"));a("OaEy");var n=l(a("2fM7")),r=l(a("jehZ"));a("5NDa");var d=l(a("5rEg"));a("miYZ");var p=l(a("tsqr"));a("/xke");var c=l(a("TeRw"));a("7Kak");var m=l(a("9yH6"));a("y8nQ");var u,h,f,g=l(a("Vl3Y")),v=s(a("q1tI")),_=l(a("/EMh")),y=l(a("8+Sn")),b=a("LLXN"),C=g.default.Item,M=(m.default.Group,u=g.default.create(),u((f=class extends v.PureComponent{constructor(e){super(e),this.componentDidMount=(()=>{var e=this.props.data;e&&e.volume_type}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.onSubmit;a.validateFields((e,t)=>{if(!e&&l){var a=_.default.isMountPath(t.volume_path);if(a)return c.default.warning({message:v.default.createElement(b.FormattedMessage,{id:"notification.warn.mountPath"})});t.volume_type="vm-file",l(t)}})}),this.checkMountPath=((e,t,a)=>{""!==t&&t?_.default.isMountPath(t)?a(v.default.createElement(b.FormattedMessage,{id:"componentOverview.body.AddVolumes.callback_path"})):t&&t.length>100?a(v.default.createElement(b.FormattedMessage,{id:"componentOverview.body.AddVolumes.callback_max"})):a():a(v.default.createElement(b.FormattedMessage,{id:"componentOverview.body.AddVolumes.callback_null"}))}),this.handleCancel=(()=>{var e=this.props.onCancel;e&&e()}),this.handleChange=(e=>{this.setVolumeCapacityValidation(e.target.value)}),this.setVolumeCapacityValidation=(e=>{for(var t=this.props.volumeOpts,a=0;a<t.length;a++)t[a].volume_type===e&&t[a].capacity_validation&&this.setState({volumeCapacityValidation:t[a].capacity_validation})}),this.checkVolumeCapacity=((e,t,a)=>{if(t){if(t>1e3)return void a("".concat((0,b.formatMessage)({id:"componentOverview.body.AddVolumes.Max"})));if(t<0)return void a("".concat((0,b.formatMessage)({id:"componentOverview.body.AddVolumes.Min"})))}a()}),this.checkFile=((e,t,a)=>{if(t&&t.fileList.length>0&&(t.file.name.endsWith(".txt")||t.file.name.endsWith(".json")||t.file.name.endsWith(".yaml")||t.file.name.endsWith(".yml")||t.file.name.endsWith(".xml"))){var l=t.fileList.splice(-1);return this.readFileContents(l,"file_content"),void a()}a()}),this.beforeUpload=(e=>{var t=e.name.split("."),a=t.length,l="txt"==t[a-1]||"json"==t[a-1]||"yaml"==t[a-1]||"yml"==t[a-1]||"xml"==t[a-1];return!!l||(p.default.error((0,b.formatMessage)({id:"notification.error.upload"}),5),!1)}),this.readFileContents=((e,t)=>{for(var a=this,l="",s=0;s<e.length;s++){var i=new FileReader;i.readAsText(e[s].originFileObj,"UTF-8"),i.onload=function(e){l+=e.target.result,a.props.form.setFieldsValue({[t]:l})}}}),this.state={volumeCapacityValidation:{},language:"zh-CN"===y.default.get("language")}}render(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.data,l=void 0===a?{}:a,s=(t.volumeOpts,this.state),p=s.volumeCapacityValidation,c=s.language,m="";l.volume_capacity&&(m=l.volume_capacity),p.default&&(m=p.default);var u={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},h={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:17}}},f=c?u:h;return v.default.createElement(i.default,{title:this.props.editor?v.default.createElement(b.FormattedMessage,{id:"componentOverview.body.AddVolumes.edit"}):v.default.createElement(b.FormattedMessage,{id:"componentOverview.body.AddVolumes.add"}),placement:"right",width:500,closable:!1,onClose:this.handleCancel,visible:!0,maskClosable:!1,style:{height:"100%",overflow:"auto",paddingBottom:53}},v.default.createElement(g.default,{onSubmit:this.handleSubmit},v.default.createElement(C,(0,r.default)({},f,{label:v.default.createElement(b.FormattedMessage,{id:"componentOverview.body.AddVolumes.name"})}),e("volume_name",{initialValue:l.volume_name||"",rules:[{required:!0,message:(0,b.formatMessage)({id:"componentOverview.body.AddVolumes.required"})},{max:40,message:(0,b.formatMessage)({id:"componentOverview.body.AddVolumes.max"})},{pattern:/^[a-zA-Z0-9]([-a-zA-Z0-9_]*[a-zA-Z0-9])?$/,message:(0,b.formatMessage)({id:"componentOverview.body.AddVolumes.pattern"})}]})(v.default.createElement(d.default,{placeholder:(0,b.formatMessage)({id:"componentOverview.body.AddVolumes.required"}),disabled:!!this.props.editor}))),v.default.createElement(C,(0,r.default)({},f,{label:"\u6302\u8f7d\u683c\u5f0f"}),e("volume_path",{initialValue:l.volume_path||"",rules:[{required:!0,validator:this.checkMountPath}]})(v.default.createElement(n.default,{getPopupContainer:e=>e.parentNode,defaultValue:"/disk"},v.default.createElement(Option,{value:"/lun"},"LUN"),v.default.createElement(Option,{value:"/disk"},"\u78c1\u76d8"),v.default.createElement(Option,{value:"/cdrom"},"\u5149\u76d8")))),v.default.createElement(C,(0,r.default)({},f,{label:v.default.createElement(b.FormattedMessage,{id:"componentOverview.body.AddVolumes.volume_capacity"})}),e("volume_capacity",{initialValue:m,rules:[{min:0,message:(0,b.formatMessage)({id:"componentOverview.body.AddVolumes.min"})},{validator:this.checkVolumeCapacity}]})(v.default.createElement(d.default,{type:"number",placeholder:this.props.editor&&0===l.volume_capacity?(0,b.formatMessage)({id:"componentOverview.body.AddVolumes.unlimited"}):(0,b.formatMessage)({id:"componentOverview.body.AddVolumes.input"}),min:1,disabled:!!this.props.editor})))),v.default.createElement("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},v.default.createElement(o.default,{style:{marginRight:8},onClick:this.handleCancel},v.default.createElement(b.FormattedMessage,{id:"componentOverview.body.AddVolumes.cancel"})),v.default.createElement(o.default,{onClick:this.handleSubmit,type:"primary"},v.default.createElement(b.FormattedMessage,{id:"componentOverview.body.AddVolumes.confirm"}))))}},h=f))||h);t.default=M},byfQ:function(e,t,a){e.exports={typeBtnWrap:"typeBtnWrap___kkZiG",typeBtn:"typeBtn___33QRJ",active:"active___33KI9",en_typeBtnWrap:"en_typeBtnWrap___KQ8Sn",en_typeBtn:"en_typeBtn___3IZgc",content:"content___195-C",ant_radio_disabled:"ant_radio_disabled___M35dJ",selectRow:"selectRow___2ibIU",panelTitle:"panelTitle___igG_V",panelSpan:"panelSpan___2TeJt",spanList:"spanList___1iZIw"}},sSG8:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+BJd");var i=l(a("mr32"));a("5Dmo");var o=l(a("3S7+")),n=l(a("jehZ"));a("/xke");var r=l(a("TeRw"));a("g9YV");var d=l(a("wCAj")),p=l(a("p0pE"));a("+L6B");var c=l(a("2/Rp"));a("Pwec");var m=l(a("CtXQ"));a("y8nQ");var u=l(a("Vl3Y"));a("fu2T");var h=l(a("gK9i"));a("OaEy");var f=l(a("2fM7"));a("7Kak");var g,v,_,y,b,C,M,E,D,w,V,A,S,P,k,O,x=l(a("9yH6")),N=a("MuoO"),I=(a("7DNP"),s(a("q1tI"))),L=a("LLXN"),T=l(a("Zxzx")),F=l(a("Zc1m")),B=l(a("q9KF")),R=(l(a("8hm0")),l(a("7C1b"))),K=l(a("agpv")),j=l(a("puxM")),q=l(a("q76B")),W=l(a("wwqj")),J=l(a("MXRY")),G=(l(a("cUW5")),l(a("rbEa"))),Z=(l(a("dpSA")),a("xpXo")),X=l(a("lpA0")),Y=l(a("QDog")),z=l(a("hMqj")),Q=l(a("8+Sn")),U=a("+n12"),H=(l(a("m+FX")),l(a("byfQ"))),$=(x.default.Button,x.default.Group,f.default.Option,f.default.OptGroup,h.default.Panel),ee=(g=(0,N.connect)(null,null,null,{withRef:!0}),v=u.default.create(),g(_=v((y=class extends I.PureComponent{constructor(e){super(e),this.fetchPorts=(()=>{var e=this.props.dispatch;e({type:"appControl/fetchPorts",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias},callback:e=>{this.setState({ports:e&&e.list||[]})}})}),this.handleSubmitProtocol=((e,t,a)=>{var l=this.props.dispatch;l({type:"appControl/changeProtocol",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,port:t,protocol:e},callback:()=>{this.fetchPorts(),a()}})}),this.showEditAlias=(e=>{this.setState({showEditAlias:e})}),this.hideEditAlias=(()=>{this.setState({showEditAlias:null})}),this.handleEditAlias=(e=>{this.props.dispatch({type:"appControl/editPortAlias",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,port:this.state.showEditAlias.container_port,port_alias:e.alias},callback:()=>{this.fetchPorts(),this.hideEditAlias()}})}),this.handleOpenInner=(e=>{this.props.dispatch({type:"appControl/openPortInner",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,port:e},callback:()=>{this.fetchPorts()}})}),this.onCloseInner=(e=>{this.props.dispatch({type:"appControl/closePortInner",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,port:e},callback:()=>{this.fetchPorts()}})}),this.handleOpenOuter=(e=>{this.props.dispatch({type:"appControl/openPortOuter",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,port:e},callback:()=>{this.fetchPorts()}})}),this.onCloseOuter=(e=>{this.props.dispatch({type:"appControl/closePortOuter",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,port:e},callback:()=>{this.fetchPorts()}})}),this.handleDeletePort=(e=>{this.setState({showDeletePort:e})}),this.cancalDeletePort=(()=>{this.setState({showDeletePort:null})}),this.handleSubmitDeletePort=(()=>{this.props.dispatch({type:"appControl/deletePort",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,port:this.state.showDeletePort},callback:()=>{this.cancalDeletePort(),this.fetchPorts()}})}),this.showAddPort=(()=>{this.setState({showAddPort:!0})}),this.onCancelAddPort=(()=>{this.setState({showAddPort:!1})}),this.handleAddPort=(e=>{this.props.dispatch({type:"appControl/addPort",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,protocol:e.protocol,port:e.port},callback:()=>{this.onCancelAddPort(),this.fetchPorts()}})}),this.state={showEditAlias:null,showDeleteDomain:null,showDeletePort:null,showDeleteDomain:null,showAddPort:!1,ports:[]}}componentDidMount(){this.fetchPorts()}render(){var e=this.state.ports||[],t=X.default.isImageApp(this.props.appDetail),a=X.default.isDockerfile(this.props.appDetail);return I.default.createElement("div",null,I.default.createElement("div",{style:{textAlign:"right",marginBottom:12}},I.default.createElement(c.default,{type:"default",onClick:this.showAddPort},I.default.createElement(m.default,{type:"plus"}),(0,L.formatMessage)({id:"button.add_port"}))),I.default.createElement("div",{className:H.default.ports},e.map(e=>{return I.default.createElement(G.default,{key:e.ID,showOuterUrl:!1,showDomain:!1,port:e,onDelete:this.handleDeletePort,onEditAlias:this.showEditAlias,onSubmitProtocol:this.handleSubmitProtocol,onOpenInner:this.handleOpenInner,onCloseInner:this.onCloseInner,onOpenOuter:this.handleOpenOuter,onCloseOuter:this.onCloseOuter})}),e.length?"":I.default.createElement("p",{style:{textAlign:"center"}},(0,L.formatMessage)({id:"componentCheck.advanced.setup.port_manage.btn.null"}))),this.state.showEditAlias&&I.default.createElement(W.default,{port:this.state.showEditAlias,onOk:this.handleEditAlias,onCancel:this.hideEditAlias}),this.state.showDeletePort&&I.default.createElement(q.default,{title:(0,L.formatMessage)({id:"confirmModal.port.delete.title"}),desc:(0,L.formatMessage)({id:"confirmModal.delete.port.desc"}),subDesc:(0,L.formatMessage)({id:"confirmModal.delete.strategy.subDesc"}),onOk:this.handleSubmitDeletePort,onCancel:this.cancalDeletePort}),this.state.showDeleteDomain&&I.default.createElement(q.default,{title:(0,L.formatMessage)({id:"confirmModal.domain.delete.title"}),desc:(0,L.formatMessage)({id:"confirmModal.delete.domain.desc"}),subDesc:this.state.showDeleteDomain.domain,onOk:this.handleSubmitDeleteDomain,onCancel:this.cancalDeleteDomain}),this.state.showAddPort&&I.default.createElement(B.default,{isImageApp:t,isDockerfile:a,onCancel:this.onCancelAddPort,onOk:this.handleAddPort}))}},_=y))||_)||_),te=(b=(0,N.connect)(null,null,null,{withRef:!0}),b((M=class extends I.PureComponent{constructor(e){super(e),this.fetchVolumes=(()=>{this.props.dispatch({type:"appControl/fetchVolumes",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,is_config:!1},callback:e=>{e&&this.setState({volumes:e.list||[]})}})}),this.fetchVolumeOpts=(()=>{this.props.dispatch({type:"appControl/fetchVolumeOpts",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias},callback:e=>{e&&this.setState({volumeOpts:e.list||[]})}})}),this.loadMntList=(()=>{(0,Z.getMnt)({team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,page:1,page_size:1e3}).then(e=>{e&&this.setState({mntList:e.list||[]})})}),this.handleAddVar=(()=>{this.setState({showAddVar:{new:!0}})}),this.handleCancelAddVar=(()=>{this.setState({showAddVar:null})}),this.handleSubmitAddVar=(e=>{this.props.dispatch({type:"appControl/addVolume",payload:(0,p.default)({team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias},e),callback:()=>{this.fetchVolumes(),this.handleCancelAddVar()}})}),this.showAddRelation=(()=>{this.setState({showAddRelation:!0})}),this.handleCancelAddRelation=(()=>{this.setState({showAddRelation:!1})}),this.handleSubmitAddMnt=(e=>{(0,Z.addMnt)({team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,body:e}).then(e=>{e&&(this.handleCancelAddRelation(),this.loadMntList())})}),this.onDeleteMnt=(e=>{this.setState({toDeleteMnt:e})}),this.onDeleteVolume=(e=>{this.setState({toDeleteVolume:e})}),this.onCancelDeleteVolume=(()=>{this.setState({toDeleteVolume:null})}),this.handleDeleteVolume=(()=>{this.props.dispatch({type:"appControl/deleteVolume",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,volume_id:this.state.toDeleteVolume.ID},callback:()=>{this.onCancelDeleteVolume(),this.fetchVolumes()}})}),this.handleDeleteMnt=(()=>{this.props.dispatch({type:"appControl/deleteMnt",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,dep_vol_id:this.state.toDeleteMnt.dep_vol_id},callback:()=>{this.cancelDeleteMnt(),this.loadMntList()}})}),this.cancelDeleteMnt=(()=>{this.setState({toDeleteMnt:null})}),this.getVolumeTypeShowName=(e=>{var t=this.state.volumeOpts;return(0,U.getVolumeTypeShowName)(t,e)}),this.state={showAddVar:null,showAddRelation:!1,selfPathList:[],mntList:[],toDeleteMnt:null,toDeleteVolume:null,volumes:[],volumeOpts:[]}}componentDidMount(){this.fetchVolumeOpts(),this.loadMntList(),this.fetchVolumes()}render(){var e=this.props.appDetail,t=this.state,a=t.volumes,l=(t.mntList,e&&e.service&&e.service.extend_method),s=[{title:(0,L.formatMessage)({id:"componentCheck.advanced.setup.storage_setting.label.volume_name"}),dataIndex:"volume_name"},{title:(0,L.formatMessage)({id:"componentCheck.advanced.setup.storage_setting.label.volume_path"}),dataIndex:"volume_path"},{title:(0,L.formatMessage)({id:"componentCheck.advanced.setup.storage_setting.label.volume_type"}),dataIndex:"volume_type",render:(e,t)=>{return I.default.createElement("span",null,this.getVolumeTypeShowName(e))}},{title:(0,L.formatMessage)({id:"componentCheck.advanced.setup.storage_setting.label.volume_capacity"}),dataIndex:"volume_capacity",render:(e,t)=>{return 0==e?I.default.createElement("span",null,(0,L.formatMessage)({id:"appOverview.no_limit"})):I.default.createElement("span",null,e,"GB")}},{title:(0,L.formatMessage)({id:"componentCheck.advanced.setup.storage_setting.label.action"}),dataIndex:"action",render:(e,t)=>{return I.default.createElement("a",{onClick:()=>{this.onDeleteVolume(t)},href:"javascript:;"},(0,L.formatMessage)({id:"button.delete"}))}}];return I.default.createElement(I.Fragment,null,I.default.createElement("div",{style:{textAlign:"right",marginBottom:12}},I.default.createElement(c.default,{onClick:this.handleAddVar},I.default.createElement(m.default,{type:"plus"}),(0,L.formatMessage)({id:"componentCheck.advanced.setup.storage_setting.btn.add"}))),I.default.createElement(d.default,{rowKey:(e,t)=>t,pagination:!1,dataSource:a,columns:s}),this.state.showAddVar&&I.default.createElement(T.default,{volumeOpts:this.state.volumeOpts,onCancel:this.handleCancelAddVar,onSubmit:this.handleSubmitAddVar,data:this.state.showAddVar,method:l}),this.state.showAddRelation&&I.default.createElement(R.default,{appAlias:this.props.appDetail.service.service_alias,onCancel:this.handleCancelAddRelation,onSubmit:this.handleSubmitAddMnt}),this.state.toDeleteMnt&&I.default.createElement(q.default,{title:(0,L.formatMessage)({id:"confirmModal.umount.dalete.title"}),desc:(0,L.formatMessage)({id:"confirmModal.delete.umount.desc"}),onCancel:this.cancelDeleteMnt,onOk:this.handleDeleteMnt}),this.state.toDeleteVolume&&I.default.createElement(q.default,{title:(0,L.formatMessage)({id:"confirmModal.path.delete.title"}),desc:(0,L.formatMessage)({id:"confirmModal.delete.path.desc"}),onCancel:this.onCancelDeleteVolume,onOk:this.handleDeleteVolume}))}},C=M))||C),ae=(E=(0,N.connect)(null,null,null,{withRef:!0}),E((w=class extends I.PureComponent{constructor(e){super(e),this.fetchVolumes=(()=>{this.props.dispatch({type:"appControl/fetchVolumes",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,is_config:!0},callback:e=>{e&&this.setState({volumes:e.list||[]})}})}),this.fetchBaseInfo=(()=>{var e=this.props.dispatch;e({type:"appControl/fetchBaseInfo",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias}})}),this.onDeleteVolume=(e=>{this.setState({toDeleteVolume:e})}),this.onCancelDeleteVolume=(()=>{this.setState({toDeleteVolume:null})}),this.onEditVolume=(e=>{this.setState({showAddVars:e,editor:e})}),this.handleAddVars=(()=>{this.setState({showAddVars:{new:!0}})}),this.handleCancelAddVars=(()=>{this.setState({showAddVars:null,editor:null})}),this.handleSubmitAddVars=(e=>{var t=this.state.editor;t?this.props.dispatch({type:"appControl/editorVolume",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,new_volume_path:e.volume_path,new_file_content:e.file_content,mode:e.mode,ID:t.ID},callback:e=>{e&&200===e.status_code&&(this.fetchVolumes(),this.handleCancelAddVars(),r.default.success({message:(0,L.formatMessage)({id:"notification.success.edit"})}))}}):this.props.dispatch({type:"appControl/addVolume",payload:(0,p.default)({team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias},e),callback:e=>{e&&200===e.status_code&&(this.fetchVolumes(),this.handleCancelAddVars(),r.default.success({message:(0,L.formatMessage)({id:"notification.success.add"})}))}})}),this.handleDeleteVolume=(()=>{this.props.dispatch({type:"appControl/deleteVolume",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,volume_id:this.state.toDeleteVolume.ID},callback:e=>{e&&200===e.status_code&&(r.default.success({message:(0,L.formatMessage)({id:"notification.success.delete"})}),this.onCancelDeleteVolume(),this.fetchVolumes())}})}),this.state={volumes:[],showAddVars:null,editor:null,toDeleteMnt:null,toDeleteVolume:null}}componentDidMount(){this.fetchVolumes(),this.fetchBaseInfo()}render(){var e=this.props.appDetail,t=this.state.volumes;X.default.getLanguage(e);return I.default.createElement("div",null,I.default.createElement("div",null,I.default.createElement("div",{style:{textAlign:"right",marginBottom:12}},I.default.createElement(c.default,{onClick:this.handleAddVars},I.default.createElement(m.default,{type:"plus"}),I.default.createElement(L.FormattedMessage,{id:"componentOverview.body.tab.env.setting.add"}))),I.default.createElement(j.default,{sm:650},I.default.createElement(d.default,{pagination:!1,rowKey:(e,t)=>t,columns:[{title:(0,L.formatMessage)({id:"componentOverview.body.tab.env.setting.volume_name"}),dataIndex:"volume_name"},{title:(0,L.formatMessage)({id:"componentOverview.body.tab.env.setting.volume_path"}),dataIndex:"volume_path"},{title:(0,L.formatMessage)({id:"componentOverview.body.tab.env.setting.mode"}),dataIndex:"mode"},{title:(0,L.formatMessage)({id:"componentOverview.body.tab.env.setting.action"}),dataIndex:"action",render:(e,t)=>I.default.createElement("div",null,I.default.createElement("a",{onClick:()=>{this.onDeleteVolume(t)},href:"javascript:;"},I.default.createElement(L.FormattedMessage,{id:"componentOverview.body.tab.env.setting.delete"})),I.default.createElement("a",{onClick:()=>{this.onEditVolume(t)},href:"javascript:;"},I.default.createElement(L.FormattedMessage,{id:"componentOverview.body.tab.env.setting.edit"})))}],dataSource:t}))),this.state.showAddVars&&I.default.createElement(K.default,(0,n.default)({appBaseInfo:this.props.appBaseInfo,onCancel:this.handleCancelAddVars,onSubmit:this.handleSubmitAddVars,data:this.state.showAddVars,editor:this.state.editor},this.props)),this.state.toDeleteVolume&&I.default.createElement(q.default,{title:I.default.createElement(L.FormattedMessage,{id:"confirmModal.deldete.configurationFile.title"}),desc:I.default.createElement(L.FormattedMessage,{id:"confirmModal.deldete.configurationFile.desc"}),onCancel:this.onCancelDeleteVolume,onOk:this.handleDeleteVolume}))}},D=w))||D),le=(V=(0,N.connect)(null,null,null,{withRef:!0}),V((S=class extends I.PureComponent{constructor(e){super(e),this.fetchVolumes=(()=>{this.props.dispatch({type:"appControl/fetchVolumes",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,is_config:!1},callback:e=>{e&&this.setState({volumes:e.list||[]})}})}),this.fetchVolumeOpts=(()=>{this.props.dispatch({type:"appControl/fetchVolumeOpts",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias},callback:e=>{e&&this.setState({volumeOpts:e.list||[]})}})}),this.loadMntList=(()=>{(0,Z.getMnt)({team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,page:1,page_size:1e3}).then(e=>{e&&this.setState({mntList:e.list||[]})})}),this.handleAddVar=(()=>{this.setState({showAddVar:{new:!0}})}),this.handleCancelAddVar=(()=>{this.setState({showAddVar:null})}),this.handleSubmitAddVar=(e=>{this.props.dispatch({type:"appControl/addVolume",payload:(0,p.default)({team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias},e),callback:()=>{this.fetchVolumes(),this.handleCancelAddVar()}})}),this.showAddRelation=(()=>{this.setState({showAddRelation:!0})}),this.handleCancelAddRelation=(()=>{this.setState({showAddRelation:!1})}),this.handleSubmitAddMnt=(e=>{(0,Z.addMnt)({team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,body:e}).then(e=>{e&&(this.handleCancelAddRelation(),this.loadMntList())})}),this.onDeleteMnt=(e=>{this.setState({toDeleteMnt:e})}),this.onDeleteVolume=(e=>{e.first?r.default.warning({message:"\u4e3b\u673a\u7cfb\u7edf\u76d8\u4e0d\u80fd\u5220\u9664"}):this.setState({toDeleteVolume:e})}),this.onCancelDeleteVolume=(()=>{this.setState({toDeleteVolume:null})}),this.handleDeleteVolume=(()=>{this.props.dispatch({type:"appControl/deleteVolume",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,volume_id:this.state.toDeleteVolume.ID},callback:()=>{this.onCancelDeleteVolume(),this.fetchVolumes()}})}),this.handleDeleteMnt=(()=>{this.props.dispatch({type:"appControl/deleteMnt",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,dep_vol_id:this.state.toDeleteMnt.dep_vol_id},callback:()=>{this.cancelDeleteMnt(),this.loadMntList()}})}),this.cancelDeleteMnt=(()=>{this.setState({toDeleteMnt:null})}),this.getVolumeTypeShowName=(e=>{var t=this.state.volumeOpts;return(0,U.getVolumeTypeShowName)(t,e)}),this.handleMountFormat=(e=>{var t={"/lun":"LUN","/disk":"\u78c1\u76d8","/cdrom":"\u5149\u76d8","/filesystems":"\u6587\u4ef6\u7cfb\u7edf"};return t[e]||"-"}),this.state={showAddVar:null,showAddRelation:!1,selfPathList:[],mntList:[],toDeleteMnt:null,toDeleteVolume:null,volumes:[],volumeOpts:[]}}componentDidMount(){this.fetchVolumeOpts(),this.loadMntList(),this.fetchVolumes()}render(){this.state.mntList;var e=this.state.volumes,t=[{title:(0,L.formatMessage)({id:"Vm.createVm.Storagename"}),dataIndex:"volume_name"},{title:(0,L.formatMessage)({id:"Vm.createVm.Storagetype"}),dataIndex:"volume_path",render:(e,t)=>{return I.default.createElement("span",null,this.handleMountFormat(e))}},{title:(0,L.formatMessage)({id:"Vm.createVm.capacity"}),dataIndex:"volume_capacity",render:(e,t)=>{return 0==e?I.default.createElement("span",null,(0,L.formatMessage)({id:"appOverview.no_limit"})):I.default.createElement("span",null,e,"GB")}},{title:(0,L.formatMessage)({id:"Vm.createVm.handle"}),dataIndex:"action",render:(e,t)=>{return I.default.createElement("a",{onClick:()=>{this.onDeleteVolume(t)},href:"javascript:;"},(0,L.formatMessage)({id:"button.delete"}))}}];return I.default.createElement(I.Fragment,null,I.default.createElement("div",{style:{textAlign:"right",marginBottom:12}},I.default.createElement(c.default,{onClick:this.handleAddVar},I.default.createElement(m.default,{type:"plus"}),(0,L.formatMessage)({id:"componentCheck.advanced.setup.storage_setting.btn.add"}))),I.default.createElement(d.default,{pagination:!1,rowKey:(e,t)=>t,dataSource:e,columns:t}),this.state.showAddVar&&I.default.createElement(F.default,{volumeOpts:this.state.volumeOpts,onCancel:this.handleCancelAddVar,onSubmit:this.handleSubmitAddVar,data:this.state.showAddVar}),this.state.toDeleteVolume&&I.default.createElement(q.default,{title:(0,L.formatMessage)({id:"confirmModal.path.delete.title"}),desc:(0,L.formatMessage)({id:"confirmModal.delete.path.desc"}),onCancel:this.onCancelDeleteVolume,onOk:this.handleDeleteVolume}))}},A=S))||A),se=(P=(0,N.connect)(e=>{var t=e.teamControl;return{currentTeamPermissionsInfo:t.currentTeamPermissionsInfo}},null,null,{withRef:!0}),P((O=class extends I.PureComponent{constructor(e){super(e),this.handleType=(e=>{this.state.type!==e&&this.setState({type:e})}),this.handlePermissions=(e=>{var t=this.props.currentTeamPermissionsInfo;return z.default.querySpecifiedPermissionsInfo(t,e)}),this.handleFetchPorts=(e=>{var t=this.props.dispatch;t({type:"appControl/fetchPorts",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias},callback:t=>{this.setState({portsData:t&&t.list||[],isPortFlag:!0}),e||this.setState({iconPort:!!(t&&t.list.length>0)})}})}),this.handleFetchVolumes=(e=>{var t=this.props.dispatch;t({type:"appControl/fetchVolumes",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,is_config:!0},callback:t=>{t&&(this.setState({volumesData:t.list||[],isVolumesFlag:!0}),e||this.setState({iconVolume:!!(t&&t.list.length>0)}))}})}),this.handleLoadMntList=(e=>{this.props.dispatch({type:"appControl/fetchVolumes",payload:{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,is_config:!1},callback:t=>{t&&(this.setState({mntDataList:t.list||[],isMntFlag:!0}),e||this.setState({iconMnt:!!(t&&t.list.length>0)}))}})}),this.handleFetchInnerEnvs=(e=>{var t=this.props,a=t.dispatch,l=(t.appAlias,t.type,{team_name:Y.default.getCurrTeamName(),app_alias:this.props.appDetail.service.service_alias,page:1,page_size:5,env_name:""});a({type:"appControl/fetchInnerEnvs",payload:l,callback:t=>{t&&200===t.status_code&&(this.setState({innerEnvsList:t.list,isInnerEnvsFlag:!0}),e||this.setState({iconEnv:!!(t&&t.list.length>0)}))}})}),this.genExtraPort=(e=>{return I.default.createElement("span",{style:{color:Y.default.getPublicColor(),fontWeight:"600"}},e?(0,L.formatMessage)({id:"button.fold"}):(0,L.formatMessage)({id:"button.config"}))}),this.genExtraVolume=(e=>{return I.default.createElement("span",{style:{color:Y.default.getPublicColor(),fontWeight:"600"}},e?(0,L.formatMessage)({id:"button.fold"}):(0,L.formatMessage)({id:"button.config"}))}),this.genExtraEnv=(e=>{return I.default.createElement("span",{style:{color:Y.default.getPublicColor(),fontWeight:"600"}},e?(0,L.formatMessage)({id:"button.fold"}):(0,L.formatMessage)({id:"button.config"}))}),this.genExtraMnt=(e=>{return I.default.createElement("span",{style:{color:Y.default.getPublicColor(),fontWeight:"600"}},e?(0,L.formatMessage)({id:"button.fold"}):(0,L.formatMessage)({id:"button.config"}))}),this.callbackPort=(e=>{this.setState({activeKeyPort:e.length,iconPort:!0}),e.length||(this.setState({iconPort:!1}),this.handleFetchPorts(!0))}),this.callbackVolume=(e=>{this.setState({activeKeyVolume:e.length,iconVolume:!0}),e.length||(this.setState({iconVolume:!1}),this.handleFetchVolumes(!0))}),this.callbackEnv=(e=>{this.setState({activeKeyEnv:e.length,iconEnv:!0}),e.length||(this.setState({iconEnv:!1}),this.handleFetchInnerEnvs(!0))}),this.callbackMnt=(e=>{this.setState({activeKeyMnt:e.length,iconMnt:!0}),e.length||(this.setState({iconMnt:!1}),this.handleLoadMntList(!0))}),this.state={type:"deploy",language:"zh-CN"===Q.default.get("language"),portsData:[],volumesData:[],mntDataList:[],innerEnvsList:[],isPortFlag:!1,isVolumesFlag:!1,isMntFlag:!1,isInnerEnvsFlag:!1,activeKeyPort:!0,activeKeyVolume:!0,activeKeyEnv:!0,activeKeyMnt:!0,iconPort:!1,iconVolume:!1,iconEnv:!1,iconMnt:!1}}componentDidMount(){this.handleFetchPorts(),this.handleFetchVolumes(),this.handleLoadMntList(),this.handleFetchInnerEnvs()}getAppAlias(){return this.props.match.params.appAlias}render(){var e=this.props.appDetail,t=this.state,a=(t.type,t.language,t.portsData),l=t.volumesData,s=t.mntDataList,n=t.innerEnvsList,r=t.isPortFlag,d=t.isVolumesFlag,p=t.isMntFlag,c=t.isInnerEnvsFlag,m=t.activeKeyPort,u=t.activeKeyVolume,f=t.activeKeyEnv,g=t.activeKeyMnt,v=t.iconPort,_=t.iconVolume,y=t.iconEnv,b=t.iconMnt,C=!0,M=!0,E=e&&e.service&&e.service.extend_method;return I.default.createElement("div",null,I.default.createElement("div",{style:{overflow:"hidden"}},I.default.createElement("div",{className:H.default.content,style:{overflow:"hidden",marginBottom:40}},r&&I.default.createElement(h.default,{onChange:this.callbackPort,defaultActiveKey:a.length>0?"port":"",expandIconPosition:"right"},I.default.createElement($,{header:I.default.createElement("span",{className:H.default.spanBox},I.default.createElement("span",{className:H.default.panelTitle,style:{color:a.length>0?Y.default.getPublicColor("rbd-content-color"):Y.default.getPublicColor("rbd-content-color-secondary")}},(0,L.formatMessage)({id:"enterpriseColony.import.recognition.port"})),I.default.createElement("span",{className:H.default.panelSpan},I.default.createElement(o.default,{title:(0,L.formatMessage)({id:"enterpriseColony.import.recognition.port.desc"})},(0,L.formatMessage)({id:"enterpriseColony.import.recognition.port.desc"}))),!m&&a.length>0&&I.default.createElement("span",{className:H.default.spanList},(0,L.formatMessage)({id:"enterpriseColony.import.recognition.port.info"}),"\xa0\xa0",a.map(e=>{return I.default.createElement("span",null,I.default.createElement(i.default,{color:Y.default.getPublicColor()},e.container_port))}))),key:"port",extra:this.genExtraPort(v),showArrow:!1},I.default.createElement(ee,{appDetail:e}))),d&&"vm"!=E&&I.default.createElement(h.default,{style:{marginTop:"40px"},onChange:this.callbackVolume,defaultActiveKey:l.length>0?"volume":"",expandIconPosition:"right"},I.default.createElement($,{header:I.default.createElement("span",null,I.default.createElement("span",{className:H.default.panelTitle,style:{color:l.length>0?Y.default.getPublicColor("rbd-content-color"):Y.default.getPublicColor("rbd-content-color-secondary")}},(0,L.formatMessage)({id:"enterpriseColony.import.recognition.tabs.configFiles"})),I.default.createElement("span",{className:H.default.panelSpan},I.default.createElement(o.default,{title:(0,L.formatMessage)({id:"enterpriseColony.import.recognition.tabs.configFiles.desc"})},(0,L.formatMessage)({id:"enterpriseColony.import.recognition.tabs.configFiles.desc"}))),!u&&l.length>0&&I.default.createElement("span",{className:H.default.spanList},(0,L.formatMessage)({id:"enterpriseColony.import.recognition.tabs.configFiles.name"}),"\xa0\xa0",l.map(e=>{return I.default.createElement("span",null,I.default.createElement(i.default,{color:Y.default.getPublicColor()},e.volume_name))}))),extra:this.genExtraVolume(_),showArrow:!1,key:"volume"},I.default.createElement(ae,{appDetail:e}))),c&&"vm"!=E&&I.default.createElement(h.default,{style:{marginTop:"40px"},onChange:this.callbackEnv,defaultActiveKey:n.length>0?"env":"",expandIconPosition:"right"},I.default.createElement($,{header:I.default.createElement("span",null,I.default.createElement("span",{className:H.default.panelTitle,style:{color:n.length>0?Y.default.getPublicColor("rbd-content-color"):Y.default.getPublicColor("rbd-content-color-secondary")}},(0,L.formatMessage)({id:"appPublish.shop.pages.title.environment_variable"})),I.default.createElement("span",{className:H.default.panelSpan},I.default.createElement(o.default,{title:(0,L.formatMessage)({id:"appPublish.shop.pages.title.environment_variable.desc"})},(0,L.formatMessage)({id:"appPublish.shop.pages.title.environment_variable.desc"}))),!f&&n.length>0&&I.default.createElement("span",{className:H.default.spanList},(0,L.formatMessage)({id:"appPublish.shop.pages.title.environment_variable.name"}),"\xa0\xa0",n.map(e=>{return I.default.createElement("span",null,I.default.createElement(i.default,{color:Y.default.getPublicColor()},e.attr_name))}))),key:"env",extra:this.genExtraEnv(y),showArrow:!1},C&&I.default.createElement(J.default,{isConfigPort:!0,title:(0,L.formatMessage)({id:"componentCheck.advanced.setup.environment_variable.title"}),type:"Inner",appAlias:e.service.service_alias}))),p&&I.default.createElement(h.default,{style:{marginTop:"40px"},onChange:this.callbackMnt,defaultActiveKey:s.length>0?"mnt":"",expandIconPosition:"right"},I.default.createElement($,{header:I.default.createElement("span",null,I.default.createElement("span",{className:H.default.panelTitle,style:{color:s.length>0?Y.default.getPublicColor("rbd-content-color"):Y.default.getPublicColor("rbd-content-color-secondary")}},(0,L.formatMessage)({id:"componentCheck.advanced.setup.storage_config.title"})),I.default.createElement("span",{className:H.default.panelSpan},I.default.createElement(o.default,{title:(0,L.formatMessage)({id:"componentCheck.advanced.setup.storage_config.desc"})},(0,L.formatMessage)({id:"componentCheck.advanced.setup.storage_config.desc"}))),!g&&s.length>0&&I.default.createElement("span",{className:H.default.spanList},(0,L.formatMessage)({id:"componentCheck.advanced.setup.storage_config.name"}),"\xa0\xa0",s.map(e=>{return I.default.createElement("span",null,I.default.createElement(i.default,{color:Y.default.getPublicColor()},e.volume_name))}))),key:"mnt",extra:this.genExtraMnt(b),showArrow:!1},M&&I.default.createElement(I.default.Fragment,null,"vm"==E?I.default.createElement(le,{appDetail:e}):I.default.createElement(te,{appDetail:e})))))))}},k=O))||k);t.default=se}}]);