(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"1MU7":function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getMenuData=void 0;var n=r(a("p0pE")),l=a("LLXN"),s=r(a("8+Sn")),i=r(a("hMqj")),o=a("+n12"),c=s.default.get("newbie_guide");function u(e,t,a){var r=[{name:(0,l.formatMessage)({id:"menu.team.dashboard"}),icon:"dashboard",path:"team/".concat(e,"/region/").concat(t,"/index"),authority:["admin","user"]}];function n(e,t){return i.default.queryTeamUserPermissionsInfo(a,e,t)}function s(e){r.push(e)}if(a){var o=n("app","describe"),u=n("app","create"),d=n("component","create"),m=n("component","construct"),p=n("gatewayRule","describe"),f=n("certificate","describe"),h=n("plugin","describe"),g=n("teamBasicInfo","dynamic_describe"),v=n("teamMember","describe"),C=n("teamRegion","describe"),E=n("teamRole","describe");if(o&&s({name:(0,l.formatMessage)({id:"menu.team.app"}),icon:"appstore-o",path:"team/".concat(e,"/region/").concat(t,"/apps"),authority:["admin","user"]}),u&&d&&m&&s({name:(0,l.formatMessage)({id:"menu.team.create"}),icon:"plus",path:"team/".concat(e,"/region/").concat(t,"/create"),authority:["admin","user"],children:[{name:(0,l.formatMessage)({id:"menu.team.create.code"}),path:"/code",authority:["admin","user"]},{name:(0,l.formatMessage)({id:"menu.team.create.image"}),path:"/image",authority:["admin","user"]},{name:(0,l.formatMessage)({id:"menu.team.create.upload"}),path:"/yaml",authority:["admin","user"]},{name:(0,l.formatMessage)({id:"menu.team.create.market"}),path:"/market",authority:["admin","user"]},{name:(0,l.formatMessage)({id:"menu.team.create.third"}),path:"/outer",authority:["admin","user"]}]}),p||f){var y=[];p&&y.push({name:(0,l.formatMessage)({id:"menu.team.gateway.control"}),path:"control",authority:["admin","user"]}),f&&y.push({name:(0,l.formatMessage)({id:"menu.team.gateway.certificate"}),path:"license",authority:["admin","user"]}),s({name:(0,l.formatMessage)({id:"menu.team.gateway"}),icon:"gateway",path:"team/".concat(e,"/region/").concat(t,"/gateway"),authority:["admin","user"],children:y})}if(h&&s({name:(0,l.formatMessage)({id:"menu.team.plugin"}),icon:"api",path:"team/".concat(e,"/region/").concat(t,"/myplugns"),authority:["admin","user"]}),(g||v||C||E)&&s({name:(0,l.formatMessage)({id:"menu.team.setting"}),icon:"setting",path:"team/".concat(e,"/region/").concat(t,"/team"),authority:["admin","user"]}),"false"===c)return r;void 0!==c&&s({name:"\u4efb\u52a1",icon:"exclamation-circle",path:"team/".concat(e,"/region/").concat(t,"/guide"),authority:["admin","user"]})}return r}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;return e.map(e=>{var r=e.path;(0,o.isUrl)(r)||(r=t+e.path);var l=(0,n.default)({},e,{path:r,authority:e.authority||a});return e.children&&(l.children=d(e.children,"".concat(t).concat(e.path,"/"),e.authority)),l})}var m=(e,t,a)=>{var r=d(u(e,t,a));return r};t.getMenuData=m},"5Bkv":function(e,t,a){e.exports={selectButton:"selectButton___2cSbT",selectButtonLink:"selectButtonLink___1EY9o",selectButtonName:"selectButtonName___2Ma3n",selectButtonArray:"selectButtonArray___357Bk",dropBox:"dropBox___3z21b",dropBoxSearch:"dropBoxSearch___26HSI",dropBoxSearchInput:"dropBoxSearchInput___1Rx5_",dropBoxSearchInputIcon:"dropBoxSearchInputIcon___2fd8P",dropBoxSearchInputContrl:"dropBoxSearchInputContrl___rZk9k",dropBoxList:"dropBoxList___1iJLO",dropBoxListCreate:"dropBoxListCreate___17e3Q",dropBoxAll:"dropBoxAll___VAmuU"}},"9x8q":function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("qVdP");var l=r(a("jsC+"));a("5NDa");var s=r(a("5rEg"));a("Pwec");var i,o,c,u=r(a("CtXQ")),d=a("MuoO"),m=a("7DNP"),p=n(a("q1tI")),f=a("LLXN"),h=r(a("5Bkv")),g=(i=(0,d.connect)(e=>{var t=e.user,a=e.appControl;return{currentUser:t.currentUser,appDetail:a.appDetail}}),i((c=class extends p.PureComponent{constructor(e){super(e),this.queryComponent=(e=>{this.setState({queryName:e},()=>{this.loadComponents()})}),this.loadComponents=(()=>{var e=this.props,t=e.dispatch,a=e.currentTeam,r=e.currentRegion,n=e.currentAppID,l=this.state.queryName;n&&t({type:"application/fetchApps",payload:{team_name:a.team_name,region_name:r.team_region_name,group_id:n,page:1,page_size:-1,query:l},callback:e=>{e&&200===e.status_code&&this.setState({components:e.list||[]})}})}),this.handleEnter=(()=>{this.setState({visible:!0})}),this.handleOut=(()=>{this.setState({visible:!1})}),this.state={components:[],showOpenRegion:!1,loading:!0,queryName:"",visible:!1}}componentDidMount(){this.loadComponents()}render(){var e=this.props,t=e.className,a=e.currentTeam,r=e.currentComponent,n=e.currentRegion,i=e.active,o=e.appDetail,c=o&&o.service&&o.service.group_id,d="/team/".concat(a.team_name,"/region/").concat(n.team_region_name,"/apps/").concat(c),g=this.state,v=g.components,C=g.loading,E=g.visible,y=r&&"/team/".concat(a.team_name,"/region/").concat(n.team_region_name,"/components/").concat(r.service_alias,"/overview"),_=p.default.createElement("div",{className:h.default.dropBox},p.default.createElement("div",null,p.default.createElement("div",{className:h.default.dropBoxSearch},p.default.createElement("div",{className:h.default.dropBoxSearchInput},p.default.createElement(u.default,{className:h.default.dropBoxSearchInputIcon,loading:C,type:"search"}),p.default.createElement(s.default.Search,{onSearch:this.queryComponent,className:h.default.dropBoxSearchInputContrl,placeholder:(0,f.formatMessage)({id:"header.component.search"})})))),p.default.createElement("div",null,p.default.createElement("div",{className:h.default.dropBoxList},p.default.createElement("ul",null,v.map(e=>{var t="/team/".concat(a.team_name,"/region/").concat(n.team_region_name,"/components/").concat(e.service_alias,"/overview");return p.default.createElement("li",{key:e.service_alias},p.default.createElement(m.Link,{to:t,title:e.service_cname},p.default.createElement("span",null,e.service_cname)))}))),p.default.createElement(m.Link,{className:h.default.dropBoxAll,to:d},p.default.createElement("span",null,p.default.createElement(f.FormattedMessage,{id:"header.component.getall"})),p.default.createElement(u.default,{type:"right"})))),N={};return r&&(N={background:"#4d73b1",color:"#ffffff"}),p.default.createElement("div",{className:t,onMouseLeave:this.handleOut,onMouseEnter:this.handleEnter},p.default.createElement(l.default,{overlay:_,visible:E},p.default.createElement("div",null,i&&p.default.createElement("div",{className:h.default.selectButton},p.default.createElement("div",{className:h.default.selectButtonName,style:N},p.default.createElement("span",null,r&&r.service_cname,p.default.createElement(u.default,{className:h.default.selectButtonArray,type:"caret-down"})))),!i&&y&&p.default.createElement(m.Link,{className:h.default.selectButtonLink,to:y,title:r&&r.service_cname},r&&r.service_cname))))}},o=c))||o);t.default=g},AaOu:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getHelmMenuData=void 0;var n=r(a("q1tI")),l=r(a("p0pE")),s=a("LLXN"),i=r(a("hMqj")),o=a("+n12"),c=n.default.createElement("i",{className:"anticon"},n.default.createElement("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("g",{id:"\u5e94\u7528\u89c6\u56fe-\u53d1\u5e03\u5217\u8868",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.default.createElement("g",{id:"\u53d1\u5e03",transform:"translate(-21.000000, -407.000000)",fill:"#979797",fillRule:"nonzero",stroke:"#979797"},n.default.createElement("g",{id:"\u7f16\u7ec4-4\u5907\u4efd",transform:"translate(20.000000, 89.000000)"},n.default.createElement("g",{id:"\u7f16\u7ec4",transform:"translate(2.000000, 318.922078)"},n.default.createElement("path",{d:"M13.095,12.3053422 C12.9286229,12.3050607 12.7691004,12.2312553 12.65125,12.1000349 L9.99,9.10003492 L7.30625,12.0734986 C7.06082846,12.3450129 6.66488029,12.3428243 6.421875,12.0686103 C6.17886971,11.7943963 6.18082846,11.3519961 6.42625,11.0804818 L9.55375,7.61679469 C9.67128937,7.48608938 9.8305736,7.41306082 9.9964037,7.41384076 C10.1622338,7.41463326 10.3209576,7.48916952 10.4375,7.62098464 L13.53875,11.115398 C13.7811616,11.3900405 13.779486,11.8318875 13.535,12.1042249 C13.4176174,12.2331472 13.2595979,12.3053422 13.095,12.3053422 L13.095,12.3053422 Z",id:"\u8def\u5f84"}),n.default.createElement("path",{d:"M9.98,19.9296439 C9.63482203,19.9296439 9.355,19.6169935 9.355,19.2313198 L9.355,9.30534218 C9.355,8.91966847 9.63482203,8.60701816 9.98,8.60701816 C10.325178,8.60701816 10.605,8.91966847 10.605,9.30534218 L10.605,19.2313198 C10.605,19.6169935 10.325178,19.9296439 9.98,19.9296439 L9.98,19.9296439 Z",id:"\u8def\u5f84"}),n.default.createElement("path",{d:"M15.77875,15.3737779 L13.515,15.3737779 C13.169822,15.3737779 12.89,15.0611276 12.89,14.6754539 C12.89,14.2897802 13.169822,13.9771299 13.515,13.9771299 L15.77875,13.9771299 C17.418465,13.9763609 18.7479315,12.4921733 18.75,10.6600908 C18.7486226,8.82700962 17.4193569,7.34117169 15.77875,7.33886173 L14.0875,7.33886173 L14.18125,6.36958799 C14.1925,6.27740922 14.20625,6.18523045 14.20625,6.08886173 C14.2034964,3.50821116 12.3321813,1.41673167 10.0225,1.41288408 C7.71233049,1.41596243 5.84025512,3.50766675 5.8375,6.08886173 C5.8375,6.18523045 5.85125,6.27740922 5.8625,6.36958799 L5.95625,7.33886173 L4.22,7.33886173 C2.57988131,7.34194098 1.25137594,8.82755399 1.25,10.6600908 C1.25206741,12.4916284 2.58077307,13.9755909 4.22,13.9771299 L6.48375,13.9771299 C6.82892797,13.9771299 7.10875,14.2897802 7.10875,14.6754539 C7.10875,15.0611276 6.82892797,15.3737779 6.48375,15.3737779 L4.22,15.3737779 C1.89070276,15.3714691 0.00275646507,13.2626567 -2.84217094e-14,10.6600908 C0.0013773485,8.05620731 1.88952552,5.94529475 4.22,5.94221369 L4.58875,5.94221369 C4.66326437,2.64847942 7.07241868,0.020482261 10.02125,0.0162360335 C12.9703504,0.0197452723 15.3798886,2.64816122 15.45375,5.94221369 L15.7775,5.94221369 C18.1086654,5.9445238 19.9979324,8.05543669 20,10.6600908 C19.9965549,13.2628826 18.1082503,15.3714706 15.77875,15.3737779 Z",id:"\u8def\u5f84"})))))));function u(e,t,a,r){var n=i.default.querySpecifiedPermissionsInfo(r,"queryAppInfo"),l=i.default.queryControlInfo(r,"describe"),o=n.isUpgrade,u=[{name:(0,s.formatMessage)({id:"menu.app.dashboard"}),icon:"dashboard",path:"team/".concat(e,"/region/").concat(t,"/apps/").concat(a),authority:["admin","user"]}];function d(e){u.push(e)}return l&&d({name:(0,s.formatMessage)({id:"menu.app.gateway"}),icon:"gateway",path:"team/".concat(e,"/region/").concat(t,"/apps/").concat(a,"/gateway"),authority:["admin","user"]}),o&&d({name:(0,s.formatMessage)({id:"menu.app.upgrade"}),icon:c,path:"team/".concat(e,"/region/").concat(t,"/apps/").concat(a,"/upgrade"),authority:["admin","user"]}),u}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;return e.map(e=>{var r=e.path;(0,o.isUrl)(r)||(r=t+e.path);var n=(0,l.default)({},e,{path:r,authority:e.authority||a});return e.children&&(n.children=d(e.children,"".concat(t).concat(e.path,"/"),e.authority)),n})}var m=(e,t,a,r)=>{var n=d(u(e,t,a,r));return n};t.getHelmMenuData=m},P5jq:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getAppMenuData=void 0;var n=r(a("q1tI")),l=r(a("p0pE")),s=a("LLXN"),i=r(a("hMqj")),o=a("+n12"),c=n.default.createElement("i",{className:"anticon"},n.default.createElement("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("g",{id:"\u5e94\u7528\u89c6\u56fe-\u53d1\u5e03\u5217\u8868",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.default.createElement("g",{id:"\u53d1\u5e03",transform:"translate(-21.000000, -170.000000)",fill:"#979797",fillRule:"nonzero",stroke:"#979797"},n.default.createElement("g",{id:"\u7f16\u7ec4-4\u5907\u4efd",transform:"translate(20.000000, 89.000000)"},n.default.createElement("g",{id:"\u7f16\u7ec4",transform:"translate(2.000000, 81.922078)"},n.default.createElement("path",{d:"M9.97402295,4.45528513 C9.91437417,4.3898264 9.81893611,4.3898264 9.75928731,4.45528513 C9.6996385,4.52074386 9.69963852,4.62547783 9.75928731,4.69093659 L11.8112056,6.94271705 L6.4428147,6.94271705 C6.3593064,6.94271705 6.28772786,7.02126753 6.28772786,7.11290978 C6.28772786,7.20455202 6.3593064,7.28310248 6.4428147,7.28310248 L11.8112056,7.28310248 L9.74735755,9.53488296 C9.72349804,9.56106646 9.69963852,9.61343344 9.69963852,9.65270868 C9.69963852,9.69198392 9.71156828,9.7443509 9.74735755,9.7705344 C9.78314682,9.79671789 9.81893609,9.82290141 9.85472538,9.82290141 C9.89051468,9.82290141 9.93823368,9.80980966 9.9620932,9.7705344 L12.2764662,7.23073549 C12.3361149,7.16527676 12.3361149,7.06054279 12.2764662,6.99508406 L9.97402295,4.45528513 Z",id:"\u8def\u5f84"}),n.default.createElement("path",{d:"M19.9473003,12.1925076 C19.8995813,12.1401406 18.8497626,11.0142504 16.9290716,10.673865 C16.2967945,10.5560392 15.628728,10.5429475 14.9487319,10.6345897 C15.4975007,9.56106646 15.7957446,8.35662574 15.7957447,7.12600152 C15.7957447,3.19847742 12.8848838,0.00409116274 9.30595652,0.00409116274 C5.72702924,0.00409116274 2.81616841,3.18538568 2.81616841,7.11290978 C2.81616841,8.10788253 3.00704454,9.07667182 3.36493725,9.98000236 L0.155832447,9.98000236 C0.0723241494,9.98000236 0.000745608358,10.0585528 0.000745608358,10.1501951 L0.000745608358,19.8249961 C0.000745608358,19.9166383 0.0723241494,19.9951888 0.155832447,19.9951888 L9.30595652,19.9951888 C9.34174579,19.9951888 9.36560531,19.982097 9.38946482,19.9690053 L19.9234408,12.4543425 C19.9592301,12.428159 19.9830896,12.3757921 19.9950193,12.3234251 C19.9950193,12.2710581 19.9830896,12.2186911 19.9473003,12.1925076 Z M14.5550499,10.673865 C12.2406769,11.0928009 10.1529693,12.6245353 8.79297696,13.8420677 L3.73475973,10.0454611 C3.32914798,9.12903881 3.12634211,8.14715777 3.12634211,7.12600152 C3.12634211,3.3817619 5.89404586,0.344476588 9.30595652,0.344476588 C12.7178672,0.344476588 15.485571,3.38176187 15.485571,7.12600152 C15.485571,8.36971748 15.1634675,9.6003417 14.5550499,10.673865 Z M0.310919309,10.3203878 L3.56774314,10.3203878 L8.57824131,14.0908109 L6.43088494,16.6175181 L3.376867,14.2610036 C3.34107773,14.2348201 3.30528846,14.2217284 3.25756943,14.2348201 C3.22178016,14.2479119 3.18599089,14.2610036 3.16213138,14.3002789 C3.11441235,14.3788293 3.12634211,14.4835633 3.19792065,14.5359303 L6.34737664,16.984087 C6.40702543,17.036454 6.50246348,17.0233622 6.55018253,16.9579035 L8.91227452,14.1824531 C10.8448952,12.4150673 13.8034751,10.4382135 16.8694228,10.9880669 C18.3009938,11.2499018 19.2553744,11.9830396 19.5894076,12.2841498 L9.27016725,19.6548034 L0.322849066,19.6548034 L0.322849066,10.3203878 L0.310919309,10.3203878 Z",id:"\u5f62\u72b6"}))))))),u=n.default.createElement("i",{className:"anticon"},n.default.createElement("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("g",{id:"\u5e94\u7528\u89c6\u56fe-\u53d1\u5e03\u5217\u8868",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.default.createElement("g",{id:"\u53d1\u5e03",transform:"translate(-22.000000, -248.000000)",fill:"#384551",fillRule:"nonzero",stroke:"#979797"},n.default.createElement("g",{id:"\u7f16\u7ec4-4\u5907\u4efd",transform:"translate(20.000000, 89.000000)"},n.default.createElement("g",{id:"\u7f16\u7ec4",transform:"translate(3.000000, 159.922078)"},n.default.createElement("polygon",{id:"\u8def\u5f84",points:"11.3513514 5.88235294 10.6306306 5.88235294 10.6306306 11.1080975 7.02702703 11.1080975 7.02702703 11.7647059 11.3513514 11.7647059"}),n.default.createElement("path",{d:"M9.52322469,0 C5.72676476,0 2.40843955,1.93228188 0.570902221,4.81901566 L0.557261319,0.000984340045 L0,0 L0.0163597073,5.80143177 C0.0116017982,5.81217002 0.00478134712,5.82259508 0,5.83333333 L0.0163597073,5.83333333 L0.0177425479,6.13020134 L6.44024019,6.14680089 L6.43885735,5.61489933 L0.910588809,5.60058166 C2.56052857,2.66861298 5.79907092,0.666666667 9.52322469,0.666666667 C14.9150842,0.666666667 19.3015483,4.8535123 19.3015483,10 C19.3015483,15.1464877 14.9150842,19.3333333 9.52322469,19.3333333 C5.70016266,19.3333333 2.38387655,17.2265548 0.777554857,14.1666667 L0,14.1666667 C1.65608051,17.6080761 5.29634977,20 9.52322469,20 C15.309311,20 20,15.5221253 20,10 C20,4.47720358 15.309311,0 9.52322469,0 Z",id:"\u8def\u5f84"}))))))),d=n.default.createElement("i",{className:"anticon"},n.default.createElement("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("g",{id:"\u5e94\u7528\u89c6\u56fe-\u53d1\u5e03\u5217\u8868",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.default.createElement("g",{id:"\u53d1\u5e03",transform:"translate(-21.000000, -407.000000)",fill:"#979797",fillRule:"nonzero",stroke:"#979797"},n.default.createElement("g",{id:"\u7f16\u7ec4-4\u5907\u4efd",transform:"translate(20.000000, 89.000000)"},n.default.createElement("g",{id:"\u7f16\u7ec4",transform:"translate(2.000000, 318.922078)"},n.default.createElement("path",{d:"M13.095,12.3053422 C12.9286229,12.3050607 12.7691004,12.2312553 12.65125,12.1000349 L9.99,9.10003492 L7.30625,12.0734986 C7.06082846,12.3450129 6.66488029,12.3428243 6.421875,12.0686103 C6.17886971,11.7943963 6.18082846,11.3519961 6.42625,11.0804818 L9.55375,7.61679469 C9.67128937,7.48608938 9.8305736,7.41306082 9.9964037,7.41384076 C10.1622338,7.41463326 10.3209576,7.48916952 10.4375,7.62098464 L13.53875,11.115398 C13.7811616,11.3900405 13.779486,11.8318875 13.535,12.1042249 C13.4176174,12.2331472 13.2595979,12.3053422 13.095,12.3053422 L13.095,12.3053422 Z",id:"\u8def\u5f84"}),n.default.createElement("path",{d:"M9.98,19.9296439 C9.63482203,19.9296439 9.355,19.6169935 9.355,19.2313198 L9.355,9.30534218 C9.355,8.91966847 9.63482203,8.60701816 9.98,8.60701816 C10.325178,8.60701816 10.605,8.91966847 10.605,9.30534218 L10.605,19.2313198 C10.605,19.6169935 10.325178,19.9296439 9.98,19.9296439 L9.98,19.9296439 Z",id:"\u8def\u5f84"}),n.default.createElement("path",{d:"M15.77875,15.3737779 L13.515,15.3737779 C13.169822,15.3737779 12.89,15.0611276 12.89,14.6754539 C12.89,14.2897802 13.169822,13.9771299 13.515,13.9771299 L15.77875,13.9771299 C17.418465,13.9763609 18.7479315,12.4921733 18.75,10.6600908 C18.7486226,8.82700962 17.4193569,7.34117169 15.77875,7.33886173 L14.0875,7.33886173 L14.18125,6.36958799 C14.1925,6.27740922 14.20625,6.18523045 14.20625,6.08886173 C14.2034964,3.50821116 12.3321813,1.41673167 10.0225,1.41288408 C7.71233049,1.41596243 5.84025512,3.50766675 5.8375,6.08886173 C5.8375,6.18523045 5.85125,6.27740922 5.8625,6.36958799 L5.95625,7.33886173 L4.22,7.33886173 C2.57988131,7.34194098 1.25137594,8.82755399 1.25,10.6600908 C1.25206741,12.4916284 2.58077307,13.9755909 4.22,13.9771299 L6.48375,13.9771299 C6.82892797,13.9771299 7.10875,14.2897802 7.10875,14.6754539 C7.10875,15.0611276 6.82892797,15.3737779 6.48375,15.3737779 L4.22,15.3737779 C1.89070276,15.3714691 0.00275646507,13.2626567 -2.84217094e-14,10.6600908 C0.0013773485,8.05620731 1.88952552,5.94529475 4.22,5.94221369 L4.58875,5.94221369 C4.66326437,2.64847942 7.07241868,0.020482261 10.02125,0.0162360335 C12.9703504,0.0197452723 15.3798886,2.64816122 15.45375,5.94221369 L15.7775,5.94221369 C18.1086654,5.9445238 19.9979324,8.05543669 20,10.6600908 C19.9965549,13.2628826 18.1082503,15.3714706 15.77875,15.3737779 Z",id:"\u8def\u5f84"}))))))),m=n.default.createElement("i",{className:"anticon"},n.default.createElement("svg",{t:"1656150043826",className:"icon",viewBox:"0 0 1183 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2253",width:"22",height:"22"},n.default.createElement("g",{fill:"#979797",stroke:"#979797"},n.default.createElement("path",{d:"M1135.832378 200.691046a107.278118 107.278118 0 0 0-77.32121-33.144891h-251.192726C783.484483 79.648942 703.784938 16.648349 614.875667 16.648349H122.155367c-59.205377 0-107.429927 48.578771-107.429927 108.340779v773.616921c0 58.699348 49.186005 108.340779 107.429927 108.340778h936.355801c59.205377 0 107.379324-48.578771 107.379324-108.340778V277.152006a104.950385 104.950385 0 0 0-30.058114-76.46096z m-433.869144-31.323187H112.287804v-41.696778c0-5.313303 5.414509-9.867563 9.867563-9.867563h491.809448a100.244317 100.244317 0 0 1 87.998419 51.564341z m368.237201 121.042103V869.357581h-1.821704v15.585688c0 12.549516-10.980826 24.390591-22.61949 24.390591H136.678395c-12.44831 0-22.568887-10.930223-22.568887-24.390591V266.87962h934.432892c11.537458 0 21.658035 10.930223 21.658035 23.530342z","p-id":"2254"}))));function p(e,t,a,r){var n=i.default.querySpecifiedPermissionsInfo(r,"queryAppInfo"),l=i.default.queryControlInfo(r,"describe"),o=i.default.queryAppConfigGroupInfo(r,"describe"),p=n.isShare,f=n.isBackup,h=n.isUpgrade,g=[{name:(0,s.formatMessage)({id:"menu.app.dashboard"}),icon:"dashboard",path:"team/".concat(e,"/region/").concat(t,"/apps/").concat(a),authority:["admin","user"]}];function v(e){g.push(e)}return p&&v({name:(0,s.formatMessage)({id:"menu.app.publish"}),icon:c,path:"team/".concat(e,"/region/").concat(t,"/apps/").concat(a,"/publish"),authority:["admin","user"]}),f&&v({name:(0,s.formatMessage)({id:"menu.app.backup"}),icon:u,path:"team/".concat(e,"/region/").concat(t,"/apps/").concat(a,"/backup"),authority:["admin","user"]}),l&&v({name:(0,s.formatMessage)({id:"menu.app.gateway"}),icon:"gateway",path:"team/".concat(e,"/region/").concat(t,"/apps/").concat(a,"/gateway"),authority:["admin","user"]}),h&&v({name:(0,s.formatMessage)({id:"menu.app.upgrade"}),icon:d,path:"team/".concat(e,"/region/").concat(t,"/apps/").concat(a,"/upgrade"),authority:["admin","user"]}),o&&v({name:(0,s.formatMessage)({id:"menu.app.configgroups"}),icon:"setting",path:"team/".concat(e,"/region/").concat(t,"/apps/").concat(a,"/configgroups"),authority:["admin","user"]}),v({name:(0,s.formatMessage)({id:"k8s\u8d44\u6e90"}),icon:m,path:"team/".concat(e,"/region/").concat(t,"/apps/").concat(a,"/resource"),authority:["admin","user"]}),g}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;return e.map(e=>{var r=e.path;(0,o.isUrl)(r)||(r=t+e.path);var n=(0,l.default)({},e,{path:r,authority:e.authority||a});return e.children&&(n.children=f(e.children,"".concat(t).concat(e.path,"/"),e.authority)),n})}var h=(e,t,a,r)=>{var n=f(p(e,t,a,r));return n};t.getAppMenuData=h},PMmQ:function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("qVdP");var l=r(a("jsC+"));a("5NDa");var s=r(a("5rEg"));a("Pwec");var i=r(a("CtXQ"));a("/xke");var o,c,u,d=r(a("TeRw")),m=a("MuoO"),p=a("7DNP"),f=n(a("q1tI")),h=a("LLXN"),g=r(a("hMqj")),v=r(a("qCJ4")),C=r(a("5Bkv")),E=(o=(0,m.connect)(e=>{var t=e.user,a=e.teamControl;return{currentUser:t.currentUser,currentTeamPermissionsInfo:a.currentTeamPermissionsInfo}}),o((u=class extends f.PureComponent{constructor(e){super(e),this.queryApps=(e=>{this.setState({queryName:e},()=>{this.loadTeamApps()})}),this.loadTeamApps=(()=>{var e=this.props,t=e.currentTeam,a=e.currentAppID,r=this.state.queryName;this.props.dispatch({type:"global/fetchGroups",payload:{team_name:t.team_name,query:r},callback:e=>{if(e&&e.length>0){var t=e.filter(e=>e.group_id==a);t&&t.length>0&&this.setState({currentApp:t[0]}),this.setState({teamApps:e.reverse(),loading:!1})}else this.setState({loading:!1})}})}),this.showCreateApp=(()=>{this.handleOut(),this.setState({showCreateApp:!0})}),this.handleCreateApp=(()=>{d.default.success({message:(0,h.formatMessage)({id:"add.success"})}),this.cancelCreateApp(),this.loadTeamApps()}),this.cancelCreateApp=(()=>{this.handleOut(),this.setState({showCreateApp:!1})}),this.handleEnter=(()=>{this.setState({visible:!0})}),this.handleOut=(()=>{this.setState({visible:!1})}),this.state={teamApps:[],loading:!0,currentApp:{},queryName:"",visible:!1}}componentDidMount(){this.loadTeamApps()}render(){var e=this.props,t=e.className,a=e.currentTeam,r=e.currentRegion,n=e.currentAppID,o=e.currentComponent,c=e.active,u=e.currentTeamPermissionsInfo,d=this.state,m=d.teamApps,E=d.loading,y=d.showCreateApp,_=d.currentApp,N=d.visible,b=a.team_name,L=r.team_region_name,M="/team/".concat(b,"/region/").concat(L,"/apps"),x=g.default.canCreateApp(u),w="/team/".concat(b,"/region/").concat(L,"/apps/").concat(n),T=f.default.createElement("div",{className:C.default.dropBox},f.default.createElement("div",null,f.default.createElement("div",{className:C.default.dropBoxSearch},f.default.createElement("div",{className:C.default.dropBoxSearchInput},f.default.createElement(i.default,{className:C.default.dropBoxSearchInputIcon,loading:E,type:"search"}),f.default.createElement(s.default.Search,{onSearch:this.queryApps,className:C.default.dropBoxSearchInputContrl,placeholder:(0,h.formatMessage)({id:"header.app.search"})})))),f.default.createElement("div",null,f.default.createElement("div",{className:C.default.dropBoxList},f.default.createElement("ul",null,m.map(e=>{var t="/team/".concat(b,"/region/").concat(L,"/apps/").concat(e.group_id);return f.default.createElement("li",{key:e.group_id},f.default.createElement(p.Link,{to:t,title:e.group_name},f.default.createElement("span",null,e.group_name)))})),x&&f.default.createElement("div",{className:C.default.dropBoxListCreate,onClick:this.showCreateApp},f.default.createElement(i.default,{type:"plus"}),f.default.createElement(h.FormattedMessage,{id:"header.app.create"}))),f.default.createElement(p.Link,{className:C.default.dropBoxAll,to:M},f.default.createElement("span",null,f.default.createElement(h.FormattedMessage,{id:"header.app.getall"})),f.default.createElement(i.default,{type:"right"})))),B={};return o||(B={background:"#4d73b1",color:"#ffffff"}),f.default.createElement("div",{className:t,onMouseLeave:this.handleOut,onMouseEnter:this.handleEnter},f.default.createElement(l.default,{overlay:T,visible:!y&&N},f.default.createElement("div",null,c&&f.default.createElement("div",{className:C.default.selectButton},f.default.createElement("div",{className:C.default.selectButtonName,style:B},f.default.createElement("span",null,_.group_name),f.default.createElement(i.default,{className:C.default.selectButtonArray,type:"caret-down"}))),!c&&f.default.createElement(p.Link,{className:C.default.selectButtonLink,to:w},_.group_name))),y&&f.default.createElement(v.default,{regionName:L,teamName:b,isGetGroups:!1,title:(0,h.formatMessage)({id:"header.app.create"}),onCancel:this.cancelCreateApp,onOk:this.handleCreateApp}))}},c=u))||c);t.default=E},UgXa:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=d,a("T2oS");var n=r(a("W9HT")),l=a("7DNP"),s=r(a("q1tI")),i=r(a("h3zL")),o=r(a("PMmQ")),c=r(a("9x8q")),u=r(a("jfU6"));function d(e){var t=e.teamName,a=e.currentEnterprise,r=e.currentTeam,d=e.currentRegion,m=e.appID,p=e.currentComponent,f=e.nobleIcon,h=e.upDataHeader;return s.default.createElement("div",{className:i.default.itemBox},h?s.default.createElement(n.default,{size:"large"}):s.default.createElement("div",null,s.default.createElement("div",{className:i.default.item},f,s.default.createElement(l.Link,{className:i.default.itemlink,to:"/enterprise/".concat(a.enterprise_id,"/index")},a&&a.enterprise_alias),s.default.createElement("span",{className:i.default.itemseparator},">")),s.default.createElement(u.default,{active:!1,className:i.default.select,teamName:t,currentEnterprise:a,currentTeam:r,currentRegion:d}),s.default.createElement("div",{className:i.default.item},s.default.createElement("span",{className:i.default.itemseparator},">")),s.default.createElement(o.default,{active:void 0==p,className:i.default.select,teamName:t,currentEnterprise:a,currentTeam:r,currentRegion:d,currentAppID:m,currentComponent:p}),p&&s.default.createElement("div",{className:i.default.item},s.default.createElement("span",{className:i.default.itemseparator},">")),p&&s.default.createElement(c.default,{active:!0,className:i.default.select,teamName:t,currentEnterprise:a,currentTeam:r,currentRegion:d,currentAppID:m,currentComponent:p})))}},fOF4:function(e,t,a){"use strict";var r=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=u,a("T2oS");var l=n(a("W9HT")),s=r(a("q1tI")),i=n(a("jfU6")),o=n(a("h3zL")),c=a("7DNP");function u(e){var t=e.teamName,a=e.currentEnterprise,r=e.currentTeam,n=e.currentRegion,u=e.nobleIcon,d=e.upDataHeader;return s.default.createElement("div",{className:o.default.itemBox},d?s.default.createElement(l.default,{size:"large"}):s.default.createElement("div",null,s.default.createElement("div",{className:o.default.item},u,s.default.createElement(c.Link,{className:o.default.itemlink,to:"/enterprise/".concat(a.enterprise_id,"/index")},a&&a.enterprise_alias),s.default.createElement("span",{className:o.default.itemseparator},">")),s.default.createElement(i.default,{active:!0,upDataHeader:d,className:o.default.select,teamName:t,currentEnterprise:a,currentTeam:r,currentRegion:n})))}},jfU6:function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("qVdP");var l=r(a("jsC+"));a("5NDa");var s=r(a("5rEg"));a("Pwec");var i=r(a("CtXQ"));a("/xke");var o,c,u,d=r(a("TeRw")),m=a("MuoO"),p=a("7DNP"),f=n(a("q1tI")),h=a("LLXN"),g=r(a("+iC2")),v=r(a("9uC9")),C=r(a("5Bkv")),E=(o=(0,m.connect)(e=>{var t=e.user;return{currentUser:t.currentUser}}),o((u=class extends f.PureComponent{constructor(e){super(e),this.queryTeams=(e=>{this.setState({queryName:e},()=>{this.loadUserTeams()})}),this.loadUserTeams=(()=>{this.setState({loading:!0});var e=this.props,t=e.dispatch,a=e.currentEnterprise,r=this.state,n=r.page,l=r.page_size,s=r.queryName;t({type:"global/fetchMyTeams",payload:{enterprise_id:a.enterprise_id,name:s,page:n,page_size:l},callback:e=>{e&&200===e.status_code&&this.setState({userTeamList:e.list,loading:!1})}})}),this.showCreateTeam=(()=>{this.handleOut(),this.setState({showCreateTeam:!0})}),this.handleCreateTeam=(e=>{var t=this.props.dispatch;t({type:"teamControl/createTeam",payload:e,callback:()=>{t({type:"user/fetchCurrent"}),d.default.success({message:(0,h.formatMessage)({id:"add.success"})}),this.cancelCreateTeam(),this.loadUserTeams()}})}),this.cancelCreateTeam=(()=>{this.handleOut(),this.setState({showCreateTeam:!1})}),this.handleEnter=(()=>{this.setState({visible:!0})}),this.handleOut=(()=>{this.setState({visible:!1})}),this.state={queryName:"",page:1,page_size:5,userTeamList:[],showCreateTeam:!1,loading:!0,visible:!1}}componentDidMount(){this.loadUserTeams("")}render(){var e=this.props,t=e.className,a=e.currentTeam,r=e.currentEnterprise,n=e.currentRegion,o=e.currentUser,c=e.active,u=this.state,d=u.userTeamList,m=u.loading,E=u.showCreateTeam,y=u.visible,_="/team/".concat(a.team_name,"/region/").concat(n.team_region_name,"/index"),N="/enterprise/".concat(r.enterprise_id,"/teams"),b=[];d.map(e=>{var t=g.default.getTeamByTeamName(o,e.team_name);t&&t.region.map(t=>{var a="/team/".concat(e.team_name,"/region/").concat(t.team_region_name,"/index"),r={name:"".concat(e.team_alias," | ").concat(t.team_region_alias),link:a};b.push(r)})});var L=f.default.createElement("div",{className:C.default.dropBox},f.default.createElement("div",null,f.default.createElement("div",{className:C.default.dropBoxSearch},f.default.createElement("div",{className:C.default.dropBoxSearchInput},f.default.createElement(i.default,{className:C.default.dropBoxSearchInputIcon,loading:"".concat(m),type:"search"}),f.default.createElement(s.default.Search,{onSearch:this.queryTeams,className:C.default.dropBoxSearchInputContrl,placeholder:(0,h.formatMessage)({id:"header.team.search"})})))),f.default.createElement("div",null,f.default.createElement("div",{className:C.default.dropBoxList},f.default.createElement("ul",null,b.map(e=>{if(e.link)return f.default.createElement("li",{key:e.name},f.default.createElement(p.Link,{to:e.link,title:e.name},f.default.createElement("span",null,e.name)))})),o.is_user_enter_amdin&&f.default.createElement("div",{className:C.default.dropBoxListCreate,onClick:this.showCreateTeam},f.default.createElement(i.default,{type:"plus"}),f.default.createElement(h.FormattedMessage,{id:"header.team.create"}))),f.default.createElement(p.Link,{className:C.default.dropBoxAll,to:N},f.default.createElement("span",null,f.default.createElement(h.FormattedMessage,{id:"header.team.getall"})),f.default.createElement(i.default,{type:"right"})))),M={background:"#4d73b1",color:"#ffffff"};return f.default.createElement("div",{className:t,onMouseLeave:this.handleOut,onMouseEnter:this.handleEnter},f.default.createElement(l.default,{overlay:L,visible:!E&&y},f.default.createElement("div",null,c&&f.default.createElement("div",{className:C.default.selectButton},f.default.createElement("div",{className:C.default.selectButtonName,style:M},f.default.createElement("span",null,a.team_alias," | ",n.team_region_alias),f.default.createElement(i.default,{className:C.default.selectButtonArray,type:"caret-down"}))),!c&&f.default.createElement(p.Link,{className:C.default.selectButtonLink,to:_},a.team_alias," | ",n.team_region_alias))),E&&f.default.createElement(v.default,{enterprise_id:r.enterprise_id,onOk:this.handleCreateTeam,onCancel:this.cancelCreateTeam}))}},c=u))||c);t.default=E},kisz:function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("q1tI"));a("Pwec");var s=r(a("CtXQ"));a("/xke");var i=r(a("TeRw"));a("B9cy");var o,c=r(a("Ol7k")),u=r(a("TSYQ")),d=a("MuoO"),m=a("7DNP"),p=a("4zCG"),f=r(a("17x9")),h=a("E6Dt"),g=r(a("ZFw/")),v=r(a("W2Kv")),C=a("P5jq"),E=a("AaOu"),y=a("1MU7"),_=r(a("/VoG")),N=r(a("NtFa")),b=r(a("CmFy")),L=r(a("xqX8")),M=r(a("AgvA")),x=r(a("IamK")),w=r(a("HZnN")),T=r(a("8+Sn")),B=r(a("QDog")),I=r(a("mWxT")),k=r(a("hMqj")),A=r(a("+iC2")),S=r(a("UgXa")),D=r(a("fOF4")),q=r(a("2tDf")),P=r(a("R1Dz")),R=(r(a("u95X")),c.default.Content),U={"screen-xs":{maxWidth:575},"screen-sm":{minWidth:576,maxWidth:767},"screen-md":{minWidth:768,maxWidth:991},"screen-lg":{minWidth:992,maxWidth:1199},"screen-xl":{minWidth:1200}};(0,p.enquireScreen)(e=>{o=e});class O extends l.PureComponent{constructor(e){super(e),this.getNewbieGuideConfig=(()=>{var e=this.props.dispatch;e({type:"global/fetchNewbieGuideConfig"})}),this.getEnterpriseList=(()=>{var e=this.props,t=e.dispatch,a=e.currentUser;t({type:"global/fetchEnterpriseList",callback:e=>{e&&200===e.status_code&&this.setState({enterpriseList:e.list},()=>{if(a)return this.getTeamOverview(a.user_id);this.fetchUserInfo()})}})}),this.upData=(()=>{this.fetchUserInfo()}),this.fetchUserInfo=(()=>{var e=this.props.dispatch,t=this.props.match.params,a=t.teamName,r=t.regionName;return a&&r&&e({type:"user/fetchCurrent",callback:e=>{e&&200===e.status_code&&this.getTeamOverview(e.bean&&e.bean.user_id)}}),null}),this.getTeamOverview=(()=>{var e=this.props.dispatch,t=this.state.enterpriseList,a=this.props.match.params,r=a.teamName,n=a.regionName;T.default.set("team_name",r),T.default.set("region_name",n),e({type:"global/getTeamOverview",payload:{team_name:r,region_name:n},callback:e=>{e&&200===e.status_code&&this.setState({eid:e.bean.eid},()=>{this.load()})},handleError:a=>{if(a&&a.data&&a.data.code){var r=10411===a.data.code?"\u5f53\u524d\u96c6\u7fa4\u4e0d\u53ef\u7528":10412===a.data.code&&"\u5f53\u524d\u96c6\u7fa4\u4e0d\u5b58\u5728";r&&t.length>0?(i.default.warning({message:r}),e(m.routerRedux.push("/enterprise/".concat(t[0].enterprise_id,"/index")))):i.default.warning({message:"\u8bf7\u6c42\u9519\u8bef"})}}})}),this.loadPermissions=((e,t,a)=>{var r=this.props.dispatch;r({type:"teamControl/fetchTeamUserPermissions",payload:{user_id:e,team_name:t},callback:e=>{if(e&&200===e.status_code){var n=k.default.queryTeamUserPermissionsInfo(e.bean,"teamBasicInfo","describe");this.setState({teamView:n}),n||r(m.routerRedux.replace("/team/".concat(t,"/region/").concat(a,"/exception/403")))}}})}),this.load=(()=>{var e=this.state,t=e.enterpriseList,a=e.eid,r=this.props,n=r.currentUser,l=r.dispatch,s=this.props.match.params,i=s.teamName,o=s.regionName,c=A.default.getTeamByTeamName(n,i);l({type:"teamControl/fetchFeatures",payload:{team_name:i,region_name:o}}),l({type:"teamControl/fetchCurrentTeam",payload:c}),l({type:"teamControl/fetchCurrentTeamPermissions",payload:c&&c.tenant_actions}),l({type:"teamControl/fetchCurrentRegionName",payload:{currentRegionName:o}}),l({type:"region/fetchProtocols",payload:{team_name:i,region_name:o}});var u=A.default.hasTeamAndRegion(n,i,o);t.map(e=>{a===e.enterprise_id&&(l({type:"enterprise/fetchCurrentEnterprise",payload:e}),this.setState({currentEnterprise:e,currentTeam:c,currentRegion:u,ready:!0}))}),this.fetchEnterpriseInfo(a),this.fetchTeamApps(),(0,p.enquireScreen)(e=>{this.setState({isMobile:e})}),this.queryComponentDeatil(),this.handleUpDataHeader()}),this.handleUpDataHeader=(()=>{var e=this.props.dispatch;e({type:"global/IsUpDataHeader",payload:{isUpData:!1}})}),this.queryComponentDeatil=(()=>{var e=this.props.match.params.teamName,t=B.default.getComponentID();t&&this.props.dispatch({type:"appControl/fetchDetail",payload:{team_name:e,app_alias:t},callback:e=>{this.setState({currentComponent:e.service})},handleError:e=>{e.status&&404===e.status&&this.props.dispatch(m.routerRedux.push("/team/".concat(B.default.getCurrTeamName(),"/region/").concat(B.default.getCurrRegionName(),"/exception/404")))}})}),this.fetchTeamApps=(()=>{var e=this.props.match.params,t=e.teamName,a=e.regionName;this.props.dispatch({type:"global/fetchGroups",payload:{team_name:t,region_name:a}})}),this.fetchEnterpriseInfo=(e=>{if(!e)return null;var t=this.props.dispatch;t({type:"global/fetchEnterpriseInfo",payload:{enterprise_id:e}})}),this.fetchEnterpriseService=(e=>{var t=this.props.dispatch;t({type:"order/fetchEnterpriseService",payload:{enterprise_id:e}})}),this.getChildContext=(()=>{var e=this.props.location;return{location:e,breadcrumbNameMap:this.breadcrumbNameMap}}),this.handleMenuCollapse=(e=>{var t=this.props.dispatch;t({type:"global/changeLayoutCollapsed",payload:e})}),this.fetchAppDetail=(e=>{var t=this.props.dispatch,a=this.props.match.params,r=a.teamName,n=a.regionName;if(!e)return!1;t({type:"application/fetchGroupDetail",payload:{team_name:r,region_name:n,group_id:e},callback:e=>{e&&200===e.status_code&&this.setState({currentApp:e.bean})},handleError:e=>{this.setState({currentApp:!1}),e&&404===e.status&&this.props.dispatch(m.routerRedux.push("/team/".concat(B.default.getCurrTeamName(),"/region/").concat(B.default.getCurrRegionName(),"/apps")))}})}),this.state={isMobile:o,enterpriseList:[],ready:!1,currentTeam:!1,currentApp:!1,currentEnterprise:!1,currentComponent:null,eid:"",appID:B.default.getAppID(),teamView:!0}}componentWillMount(){this.getNewbieGuideConfig(),this.getEnterpriseList()}componentWillReceiveProps(){var e=B.default.getAppID(),t=this.state.appID;e&&e!==t&&this.setState({appID:e,currentApp:!1},()=>{this.fetchAppDetail(e)})}getContext(){var e=this.props.location;return{location:e,breadcrumbNameMap:this.breadcrumbNameMap}}getMode(e){return e?"app":"team"}render(){var e=this.props,t=e.memoryTip,a=e.currentUser,r=e.collapsed,n=e.children,i=e.location,o=e.location.pathname,d=e.nouse,p=e.rainbondInfo,f=e.enterprise,k=e.orders,O=e.upDataHeader,j=e.showAuthCompany,z=e.currentTeamPermissionsInfo,H=e.groupDetail,X=this.state,W=X.enterpriseList,Z=X.ready,F=X.currentEnterprise,G=X.currentTeam,V=X.currentRegion,Q=X.currentComponent,J=X.teamView,K=X.currentApp,Y=this.props.match.params,$=Y.teamName,ee=Y.regionName,te=r?"calc(100% - 416px)":"calc(100% - 116px)";if(!$||!ee)return l.default.createElement(m.Redirect,{to:"/"});if(!Z||!F||!G||!z)return l.default.createElement(L.default,null);$===G.team_name&&ee===(V&&V.team_region_name)||this.load(),O&&this.upData();var ae=B.default.getAppID();T.default.set("team_name",$),T.default.set("region_name",ee);var re=B.default.getComponentID(),ne=I.default.isEnableBillingFunction();if(!(!ae||K&&H.ID))return this.fetchAppDetail(ae),l.default.createElement(L.default,null);if(Q&&Q.service_alias==re)ae=Q.group_id;else{if(re)return this.queryComponentDeatil(),l.default.createElement(L.default,null);this.setState({currentComponent:null})}var le=H&&"helm"===H.app_type?"helm":this.getMode(ae||re),se=()=>{return"team"==le?l.default.createElement(D.default,{nobleIcon:ne,teamName:$,currentEnterprise:F,currentTeam:G,currentRegion:V,regionName:ee,upDataHeader:O}):l.default.createElement(S.default,{teamName:$,currentEnterprise:F,currentTeam:G,currentRegion:V,regionName:ee,appID:ae,nobleIcon:ne,currentComponent:Q,componentID:re,upDataHeader:O})},ie=(0,y.getMenuData)($,ee,G.tenant_actions);"app"===le?ie=(0,C.getAppMenuData)($,ee,ae,G.tenant_actions):"helm"===le&&(ie=(0,E.getHelmMenuData)($,ee,ae,G.tenant_actions));var oe=I.default.fetchLogo(p,f)||v.default,ce=I.default.fetchSiteTitle(p),ue=()=>{var e=A.default.getTeamByTeamName(a,$),t=e&&e.region&&e.region.length&&V,u=!1;if(!t)return l.default.createElement(m.Redirect,{to:"/"});u="3"===V.region_status&&!A.default.isCompanyAdmin(a);var f=()=>{return u||d?l.default.createElement("div",{style:{textAlign:"center",padding:"200px 0"}},l.default.createElement(s.default,{style:{fontSize:40,marginBottom:32,color:"red"},type:"warning"}),l.default.createElement("h1",{style:{fontSize:40,color:"rgba(0, 0, 0, 0.65)",marginBottom:20}},d?"\u5f53\u524d\u6388\u6743\u5df2\u8fc7\u671f":"\u96c6\u7fa4\u7ef4\u62a4\u4e2d"),l.default.createElement("p",{style:{fontSize:20}},d?"\u8bf7\u8054\u7cfb 010-64666786 \u83b7\u53d6\u66f4\u591a\u5546\u4e1a\u670d\u52a1\u3002":"\u8bf7\u7a0d\u540e\u8bbf\u95ee\u5f53\u524d\u96c6\u7fa4")):l.default.createElement("div",{style:{height:"100%"}},l.default.createElement(w.default,{logined:!0,authority:["admin","user"],noMatch:l.default.createElement(m.Redirect,{to:"/user/login"})},n))};return l.default.createElement(c.default,null,l.default.createElement(x.default,{enterpriseList:W,currentEnterprise:F,currentTeam:G,currentUser:a,logo:oe,Authorized:w.default,collapsed:r,location:i,isMobile:this.state.isMobile,onCollapse:this.handleMenuCollapse}),l.default.createElement(c.default,null,l.default.createElement(N.default,{key:F.enterprise_id+G.team_name+V.team_region_name+ae,eid:F.enterprise_id,logo:oe,isPubCloud:p&&p.is_public&&p.is_public.enable,currentUser:a,collapsed:r,onCollapse:this.handleMenuCollapse,isMobile:this.state.isMobile,customHeader:J&&se}),l.default.createElement(c.default,{style:{flexDirection:"row"}},J&&l.default.createElement(b.default,{currentEnterprise:F,enterpriseList:W,title:p&&p.title&&p.title.enable&&p.title.value,currentUser:a,Authorized:w.default,collapsed:r,location:i,isMobile:this.state.isMobile,onCollapse:this.handleMenuCollapse,menuData:ie,pathname:o,showMenu:!re}),l.default.createElement(R,{style:{height:"calc(100vh - 64px)",overflow:"auto",width:te}},l.default.createElement("div",{style:{margin:"24px 24px 0"}},f())))))};return l.default.createElement(l.Fragment,null,l.default.createElement(g.default,{title:ce},l.default.createElement(h.ContainerQuery,{key:$+ee,query:U},e=>l.default.createElement(P.default.Provider,{value:this.getContext()},l.default.createElement("div",{className:(0,u.default)(e)},ue())))),j&&l.default.createElement(_.default,{eid:this.state.eid,marketName:j,currStep:0}),t&&l.default.createElement(q.default,{memoryTip:t}),k&&ne&&l.default.createElement(M.default,{eid:F&&F.enterprise_id,orders:k}))}}O.childContextTypes={location:f.default.object,breadcrumbNameMap:f.default.object,currRegion:f.default.string,currTeam:f.default.string};var j=(0,d.connect)(e=>{var t=e.user,a=e.global,r=e.index,n=e.loading,l=e.teamControl,s=e.application;return{currentUser:t.currentUser,notifyCount:t.notifyCount,collapsed:a.collapsed,groups:a.groups,fetchingNotices:n.effects["global/fetchNotices"],notices:a.notices,rainbondInfo:a.rainbondInfo,payTip:a.payTip,memoryTip:a.memoryTip,noMoneyTip:a.noMoneyTip,showAuthCompany:a.showAuthCompany,overviewInfo:r.overviewInfo,nouse:a.nouse,enterprise:a.enterprise,orders:a.orders,groupDetail:s.groupDetail,upDataHeader:a.upDataHeader,currentTeamPermissionsInfo:l.currentTeamPermissionsInfo}})(O);t.default=j}}]);