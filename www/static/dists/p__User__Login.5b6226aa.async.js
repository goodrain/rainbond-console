(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[64],{Y5yc:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var n=l(a("BMrR"));a("5Dmo");var s=l(a("3S7+"));a("/zsF");var i=l(a("PArb"));a("/xke");var d,o,u,c=l(a("TeRw")),f=l(a("p0pE")),h=l(a("aqBw")),p=a("MuoO"),m=a("7DNP"),v=r(a("q1tI")),g=l(a("QDog")),b=l(a("tH/r")),w=l(a("mWxT")),_=l(a("w2qy")),E=l(a("CTfg")),y=(d=(0,p.connect)(e=>{var t=e.global;return{isRegist:t.isRegist,rainbondInfo:t.rainbondInfo}}),d((u=class extends v.Component{constructor(e){super(e),this.handleSubmit=(e=>{e.password=h.default.encode(e.password);var t=this.props,a=t.dispatch,l=t.location,r=new URLSearchParams(l.search),n=r.get("redirect");a({type:"user/login",payload:(0,f.default)({},e),callback:()=>{var e="/";n&&(e=n),window.location.href=e},handleError:e=>{window.config=!0,e&&e.data&&e.data.msg_show&&(c.default.warning({message:e.data.msg_show}),e&&e.data&&20001===e.data.code&&this.props.dispatch(m.routerRedux.push("/user/login")))}})}),this.fetchEnterpriseInfo=(e=>{var t=this.props.dispatch;t({type:"global/fetchEnterpriseInfo",payload:{enterprise_id:e},callback:e=>{if(e&&200===e.status_code&&e.bean&&e.bean.oauth_services){var t=e.bean.oauth_services,a=void 0===t?{}:t;a.enable&&this.setState({oauthServicesList:a.value&&a.value.length>0&&a.value})}}})}),this.state={}}componentWillMount(){var e=this.props.dispatch;e({type:"global/hideNeedLogin"}),g.default.removeCookie()}componentDidMount(){window.config=!1}render(){var e=this.props.rainbondInfo,t=e&&e.enterprise_center_oauth&&e.enterprise_center_oauth.value,a=t&&b.default.getAuthredictURL(t),l=t&&b.default.getIcon(t),r=[];e&&e.oauth_services&&e.oauth_services.enable&&e.oauth_services.value&&e.oauth_services.value.length>0&&(r=e.oauth_services.value);var d={display:"inline-block"};return v.default.createElement("div",{className:_.default.main,style:{marginTop:"100px"}},v.default.createElement("h3",null,"\u7528\u6237\u767b\u5f55"),v.default.createElement(E.default,{onSubmit:this.handleSubmit,type:"login"}),w.default.OauthbEnable(e)&&(t||r&&r.length>0)&&v.default.createElement("div",{className:_.default.thirdBox},v.default.createElement(i.default,null,v.default.createElement("div",{className:_.default.thirdLoadingTitle},"\u7b2c\u4e09\u65b9\u767b\u5f55")),v.default.createElement(n.default,{className:_.default.third},t&&v.default.createElement("div",{className:_.default.thirdCol,key:t.client_id},v.default.createElement(s.default,{placement:"top",title:t.name},v.default.createElement("a",{style:d,href:a,title:t.name},l))),r.map(e=>{var t=e.name,a=e.service_id;return v.default.createElement("div",{className:_.default.thirdCol,key:a},v.default.createElement(s.default,{placement:"top",title:t},v.default.createElement("a",{style:d,href:b.default.getAuthredictURL(e),title:t},b.default.getIcon(e))))}))))}},o=u))||o);t.default=y}}]);