(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{jH8a:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a("MuoO"),r=a("7DNP"),i=n(a("q1tI")),o=n(a("3a4m")),s=n(a("rkhD")),u=n(a("W2Kv")),d=n(a("QDog")),c=n(a("tH/r")),f=n(a("mWxT")),h=n(a("ZShK")),p=n(a("BOD2"));class v extends i.default.PureComponent{constructor(e){super(e),this.fetchLicenses=(()=>{var e=this.props.dispatch;e&&e({type:"global/fetchLicenses",callback:e=>{e&&(!e.is_permanent&&e.is_expired||!e.have_license)?o.default.push({pathname:"/authorization/overdue",query:{isLicense:e.have_license}}):this.fetchRainbondInfo()},handleError:()=>{o.default.push("/authorization/overdue")}})}),this.fetchRainbondInfo=(()=>{var e=this.props.dispatch;e({type:"global/fetchRainbondInfo",callback:e=>{if(e){d.default.putLog(e);var t=this.props.location.query,a="/user/login"===this.props.location.pathname;if(a){var n=t.redirect;n&&window.localStorage.setItem("redirect",n)}var l=f.default.OauthbEnable(e)||f.default.OauthEnterpriseEnable(e),r=e.enterprise_center_oauth&&e.enterprise_center_oauth.value,i=f.default.OauthEnterpriseEnable(e);!r&&i&&e.oauth_services&&e.oauth_services.value&&e.oauth_services.value.map(e=>{return e.is_auto_login&&(r=e),null});var o=t&&t.disable_auto_login;l&&r&&a&&r.is_auto_login&&"true"!==o?(d.default.removeCookie(),window.location.href=c.default.getAuthredictURL(r)):this.isRender(!0)}}})}),this.isRender=(e=>{this.setState({isRender:e})}),this.state={isRender:!1}}componentWillMount(){this.fetchLicenses()}render(){var e=this.props,t=e.rainbondInfo,a=e.children,n=this.state.isRender,l=t&&t.disable_logo?t.logo.value:f.default.fetchLogo(t)||u.default,o=f.default.isEnterpriseEdition(t);return t&&n?i.default.createElement("div",{className:p.default.container},i.default.createElement("div",{className:p.default.headers},i.default.createElement("div",{className:p.default.logo},i.default.createElement(r.Link,{to:"/"},l&&i.default.createElement("img",{src:l,alt:"LOGO"})))),i.default.createElement("div",{className:p.default.content},i.default.createElement("div",{className:p.default.contentBox},i.default.createElement("div",{className:p.default.contentBoxLeft},i.default.createElement("img",{src:s.default,alt:"\u4e91\u539f\u751f\u5e94\u7528\u7ba1\u7406\u5e73\u53f0"})),i.default.createElement("div",{className:p.default.contentBoxRight},a))),!o&&i.default.createElement(h.default,null)):null}}var m=(0,l.connect)(e=>{var t=e.global;return{rainbondInfo:t.rainbondInfo}})(v);t.default=m},rkhD:function(e,t,a){e.exports=a.p+"static/cloud.fdefbf75.png"}}]);