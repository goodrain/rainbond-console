(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{sExd:function(e,t,r){"use strict";var i=r("g09b"),n=r("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("IzEo");var a=i(r("bx4M"));r("14J3");var s=i(r("BMrR"));r("y8nQ");var d=i(r("Vl3Y"));r("FJo9");var l,o,u,p,c=i(r("L41K")),v=r("MuoO"),f=r("7DNP"),m=n(r("q1tI")),g=i(r("Zw3B")),h=r("LLXN"),I=i(r("XZXw")),C=i(r("2lxJ")),y=i(r("+iC2")),b=c.default.Step,_=(l=d.default.create(),o=(0,v.connect)(e=>{var t=e.user,r=e.list,i=e.loading,n=e.global,a=e.index;return{user:t.currentUser,list:r,loading:i.models.list,rainbondInfo:n.rainbondInfo,enterprise:n.enterprise,isRegist:n.isRegist,oauthLongin:i.effects["global/creatOauth"],overviewInfo:a.overviewInfo}}),l(u=o((p=class extends m.PureComponent{constructor(e){var t;super(e),t=this,this.toClusterList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rke",r=t.props.dispatch,i=t.props.match.params.eid,n={initializing:"/enterprise/{eid}/provider/{provider}/kclusters/append?event_id={eventId}",initialized:"/enterprise/{eid}/provider/{provider}/kclusters?event_id={eventId}",installing:"/enterprise/{eid}/provider/{provider}/kclusters?type=installing&event_id={eventId}",installed:"/enterprise/{eid}/provider/{provider}/kclusters?event_id={eventId}",integrating:"/enterprise/{eid}/provider/{provider}/kclusters/init?event_id={eventId}",integrated:"/enterprise/{eid}/provider/{provider}/kclusters/check?event_id={eventId}"};r({type:"region/fetchClusterInfo",payload:{cluster_id:""},callback:t=>{if(t&&200===t.status_code){window.localStorage.setItem("event_id",t.bean.event_id);var a=t.bean.create_status,s=n[a]||n.initializing;s=s.replace("{eid}",i).replace("{provider}",e),s.includes("{eventId}")&&(s=s.replace("{eventId}",t.bean.event_id)),r(f.routerRedux.push(s))}}})},this.loadSteps=(()=>{var e=[{title:(0,h.formatMessage)({id:"enterpriseColony.addCluster.supplier"})},{title:(0,h.formatMessage)({id:"enterpriseColony.addCluster.cluster"})},{title:(0,h.formatMessage)({id:"enterpriseColony.addCluster.Initialize"})},{title:(0,h.formatMessage)({id:"enterpriseColony.addCluster.clusterInit"})},{title:(0,h.formatMessage)({id:"enterpriseColony.addCluster.docking"})}];return e});var r=this.props.user,i=y.default.isCompanyAdmin(r);this.state={adminer:i}}componentWillMount(){var e=this.state.adminer,t=this.props.dispatch;e||t(f.routerRedux.push("/"))}componentDidMount(){}render(){var e=this.props.match.params,t=e.eid,r=e.provider,i=e.clusterID;return m.default.createElement(I.default,{title:m.default.createElement(h.FormattedMessage,{id:"enterpriseColony.button.text"}),content:m.default.createElement(h.FormattedMessage,{id:"enterpriseColony.PageHeaderLayout.content"}),titleSvg:C.default.getPageHeaderSvg("clusters",18)},m.default.createElement(s.default,{style:{marginBottom:"16px"}},m.default.createElement(c.default,{current:4},this.loadSteps().map(e=>m.default.createElement(b,{key:e.title,title:e.title})))),m.default.createElement(a.default,null,m.default.createElement(s.default,{style:{marginBottom:"16px"}},m.default.createElement(g.default,{eid:t,selectProvider:r,selectClusterID:i}))))}},u=p))||u)||u);t.default=_}}]);