(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"/ybH":function(e,a,t){"use strict";var s=t("g09b"),r=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("IzEo");var n=s(t("bx4M"));t("+L6B");var d=s(t("2/Rp")),l=s(t("jehZ"));t("5NDa");var o=s(t("5rEg"));t("14J3");var i=s(t("BMrR"));t("FJo9");var u=s(t("L41K"));t("y8nQ");var m,p,c,b,f=s(t("Vl3Y")),g=t("MuoO"),h=t("7DNP"),_=s(t("Qyje")),w=r(t("q1tI")),v=s(t("3a4m")),y=s(t("XZXw")),D=s(t("+iC2")),E=s(t("KrRZ")),I=s(t("XZhr")),N=f.default.Item,x=u.default.Step,C={enableHA:!1,gatewayIngressIPs:"",imageHub:{enable:!1,domain:"",namespace:"",username:"",password:""},etcd:{enable:!1,endpoints:[],secretName:""},estorage:{enable:!1,type:"",RWX:{enable:!1,config:{server:"",storageClassName:""}},RWO:{enable:!1,storageClassName:""},NFS:{enable:!1,server:"",path:""}},database:{enable:!1,uiDatabase:{host:"",port:"",username:"",password:"",dbname:"",enable:!1},regionDatabase:{host:"",port:"",username:"",password:"",dbname:"",enable:!1}},nodesForChaos:{enable:!1,nodes:[]},nodesForGateway:{enable:!0,nodes:[]}},P=(m=f.default.create(),p=(0,g.connect)(e=>{var a=e.user,t=e.list,s=e.loading,r=e.global,n=e.index;e.region;return{user:a.currentUser,list:t,loading:s.models.list,rainbondInfo:r.rainbondInfo,enterprise:r.enterprise,isRegist:r.isRegist,oauthLongin:s.effects["global/creatOauth"],overviewInfo:n.overviewInfo}}),m(c=p((b=class extends w.PureComponent{constructor(e){super(e),this.loadSteps=(()=>{var e=[{title:"\u57fa\u672c\u914d\u7f6e"},{title:"\u9ad8\u7ea7\u914d\u7f6e"},{title:"\u6267\u884c\u5b89\u88c5"},{title:"\u5bf9\u63a5\u96c6\u7fa4"}];return e}),this.handleSubmit=(e=>{}),this.toLinkNext=(e=>{var a=this.props.match.params.eid;this.props.form.validateFields((t,s)=>{t||s&&(C.gatewayIngressIPs=s.gatewayIngressIPs||"",C.imageHub.domain=s.domain||"",C.imageHub.namespace=s.namespace||"",C.imageHub.username=s.username||"",C.imageHub.password=s.password||"",C.etcd.endpoints=s.endpoints||[],C.etcd.secretName=s.secretName||"",C.estorage.RWX.config.storageClassName=s.storageClassName1||"",C.estorage.RWO.storageClassName=s.storageClassName2||"",C.database.uiDatabase.host=s.uiDatabase_host||"",C.database.uiDatabase.port=s.uiDatabase_port||"",C.database.uiDatabase.username=s.uiDatabase_username||"",C.database.uiDatabase.password=s.uiDatabase_password||"",C.database.uiDatabase.dbname=s.uiDatabase_dbname||"",C.database.regionDatabase.host=s.regionDatabase_host||"",C.database.regionDatabase.port=s.regionDatabase_port||"",C.database.regionDatabase.username=s.regionDatabase_username||"",C.database.regionDatabase.password=s.regionDatabase_password||"",C.database.regionDatabase.dbname=s.regionDatabase_dbname||"",C.nodesForChaos.nodes=s.nodesForChaos||[],C.nodesForGateway.nodes=s.nodesForGateway||[],"advanced"===e?v.default.push({pathname:"/enterprise/".concat(a,"/provider/ACksterList/advanced"),search:_.default.stringify({data:C,name:"helm",cloudserver:""})}):v.default.push({pathname:"/enterprise/".concat(a,"/provider/ACksterList/install"),search:_.default.stringify({data:C,name:"helm",step:"base",cloudserver:""})}))})}),this.handleValidatorsGateway=((e,a,t)=>{var s=!1;a&&a.length>0?(a.some(e=>{if(!(e.externalIP&&e.internalIP&&e.name))return s=!1,!0;var a=/^[^\s]*$/;e.externalIP.match(a)&&e.internalIP.match(a)&&e.name.match(a)?t():t(new Error("\u7981\u6b62\u8f93\u5165\u7a7a\u683c")),s=!0}),s?t():t(new Error("\u9700\u586b\u5199\u5b8c\u6574\u7684\u7f51\u5173\u5b89\u88c5\u8282\u70b9"))):t()});var a=this.props.user,t=D.default.isCompanyAdmin(a);this.state={adminer:t}}componentWillMount(){var e=this.state.adminer,a=this.props.dispatch;e||a(h.routerRedux.push("/"))}componentDidMount(){}render(){var e=this.props,a=e.match.params,t=a.eid,s=(a.provider,a.clusterID,e.form.getFieldDecorator),r={labelCol:{xs:{span:0},sm:{span:0}},wrapperCol:{xs:{span:5},sm:{span:5}}};return w.default.createElement(y.default,{title:"\u6dfb\u52a0\u96c6\u7fa4",content:"\u96c6\u7fa4\u662f\u8d44\u6e90\u7684\u96c6\u5408\uff0c\u4ee5Kubernetes\u96c6\u7fa4\u4e3a\u57fa\u7840\uff0c\u90e8\u7f72\u5e73\u53f0Region\u670d\u52a1\u5373\u53ef\u6210\u4e3a\u5e73\u53f0\u96c6\u7fa4\u8d44\u6e90\u3002"},w.default.createElement(i.default,{style:{marginBottom:"16px"}},w.default.createElement(u.default,{current:0},this.loadSteps().map(e=>w.default.createElement(x,{key:e.title,title:e.title})))),w.default.createElement(n.default,{style:{padding:"24px 12px"}},w.default.createElement(f.default,{onSubmit:this.handleSubmit},w.default.createElement("div",{className:I.default.base_configuration},w.default.createElement(i.default,{className:I.default.antd_row},w.default.createElement("div",null,w.default.createElement("span",{style:{fontWeight:"bold",fontSize:"16px"}},"\u5165\u53e3\u8bbf\u95eeIP:")),w.default.createElement(N,(0,l.default)({},r,{className:I.default.antd_form,extra:"\u5165\u53e3IP\u8bf7\u5f00\u653e 80\u3001443\u30016060\u30016443\u30017070\u30018443 \u7aef\u53e3\u3002"}),s("gatewayIngressIPs",{rules:[{required:!0,message:"\u8bf7\u586b\u5199IP\u5730\u5740"},{pattern:/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/g,message:"\u8bf7\u586b\u5199\u6b63\u786e\u7684IP\u5730\u5740"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(w.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165IP\u5730\u5740  \u4f8b\uff1a1.2.3.4"})))),w.default.createElement(i.default,{className:I.default.antd_row},w.default.createElement("div",null,w.default.createElement("span",{style:{fontWeight:"bold",fontSize:"16px"}},"\u7f51\u5173\u5b89\u88c5\u8282\u70b9:")),w.default.createElement(N,(0,l.default)({},r,{className:I.default.antd_form,extra:"\u7f51\u5173\u5b89\u88c5\u7684\u8282\u70b9\uff0c\u53ef\u4ee5\u5b89\u88c5\u5230\u591a\u4e2a\u8282\u70b9\uff0c\u5b9e\u73b0\u9ad8\u53ef\u7528\u3002"}),s("nodesForGateway",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u7f51\u5173\u5b89\u88c5\u8282\u70b9"},{validator:this.handleValidatorsGateway}]})(w.default.createElement(E.default,null))))),w.default.createElement(i.default,null,w.default.createElement(N,{className:I.default.antd_row_btn},w.default.createElement(d.default,{className:I.default.antd_btn,type:"primary",onClick:()=>{this.props.dispatch(h.routerRedux.push("/enterprise/".concat(t,"/addCluster")))}},"\u8fd4\u56de"),w.default.createElement(d.default,{className:I.default.antd_btn,type:"primary",onClick:()=>{this.toLinkNext("advanced")}},"\u9ad8\u7ea7\u914d\u7f6e"),w.default.createElement(d.default,{className:I.default.antd_btn,type:"primary",onClick:()=>{this.toLinkNext("next")}},"\u4e0b\u4e00\u6b65"))))))}},c=b))||c)||c);a.default=P},XZhr:function(e,a,t){e.exports={antd_row:"antd_row___14mZx",antd_form:"antd_form___2_i74",antd_row_btn:"antd_row_btn___1fwVs",antd_btn:"antd_btn___3f0tw"}}}]);