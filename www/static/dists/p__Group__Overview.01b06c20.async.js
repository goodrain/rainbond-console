(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[67],{"+aXB":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("6UJt");var i=l(a("DFOY"));a("y8nQ");var r=l(a("Vl3Y"));a("5NDa");var o=l(a("5rEg"));a("+L6B");var d=l(a("2/Rp"));a("OaEy");var c,u,p,m=l(a("2fM7")),h=a("MuoO"),f=(l(a("vDqi")),n(a("q1tI"))),g=l(a("PWDA")),v=l(a("cUW5")),y=a("xpXo"),_=l(a("lpA0")),b=l(a("QDog")),E=l(a("OSFV")),w=(l(a("nyIC")),l(a("zMIy"))),C=a("LLXN"),M=l(a("v10I")),S=(m.default.Option,c=(0,h.connect)(e=>{var t=e.user,a=e.teamControl;return{currUser:t.currentUser,pluginList:a.pluginsList}},null,null,{withRef:!0}),c((p=class extends f.PureComponent{constructor(e){super(e),this.formRef=f.default.createRef(),this.debouncedBatchUpdate=(()=>{this.batchUpdateTimer&&clearTimeout(this.batchUpdateTimer),this.batchUpdateTimer=setTimeout(()=>{this.processBatchMessages()},100)}),this.processBatchMessages=(()=>{if(0!==this.messageBuffer.length){var e=[...this.messageBuffer];this.messageBuffer=[],this.setState(t=>{var a=[...t.logs,...e];return a.length>this.MAX_LOGS?{logs:a.slice(-this.MAX_LOGS)}:{logs:a}})}}),this.comparePodNames=((e,t)=>{if(e.length!==t.length)return!1;var a=[...e].sort(),l=[...t].sort();return a.every((e,t)=>e===l[t])}),this.fetchInstanceInfo=(()=>{var e=this.props,t=e.dispatch,a=e.appAlias;t({type:"appControl/fetchPods",payload:{team_name:b.default.getCurrTeamName(),app_alias:a},callback:e=>{var t=[];if(e&&e.list){var a=e.list.new_pods&&e.list.new_pods.length&&e.list.new_pods||[],l=e.list.old_pods&&e.list.old_pods.length&&e.list.old_pods||[];t=[...a,...l]}t&&t.length>0&&t.map(e=>{e.name="\u5b9e\u4f8b\uff1a".concat(e.pod_name),e.container.map(e=>{e.name="\u5bb9\u5668\uff1a".concat(e.container_name)})}),t.push({name:(0,C.formatMessage)({id:"componentOverview.body.tab.log.allLogs"})});var n=t.filter(e=>e.pod_name).map(e=>e.pod_name),s=this.state.previousPodNames,i=!this.comparePodNames(n,s);this.setState({instances:t,previousPodNames:n},()=>{if(i){var e=this.state.instances;this.closeAllEventSources(),this.initializeEventSources(e,100)}})}})}),this.handleStop=(()=>{this.setState({started:!1}),this.eventSources&&this.closeAllEventSources()}),this.handleStart=(()=>{var e=this.state.instances;this.setState({started:!0}),this.initializeEventSources(e,100)}),this.onChangeCascader=(e=>{var t=this.state.instances;e&&e.length>1?this.setState({pod_name:e[0].slice(3),container_name:e[1].slice(3)},()=>{this.fetchContainerLog(),this.closeEventSource()}):this.setState({pod_name:"",container_name:"",containerLog:[]},()=>{this.closeTimer(),this.initializeEventSources(t,100)})}),this.hanleTimer=(()=>{var e=this.state.refreshValue;if(this.closeTimer(),!e)return null;this.timer=setTimeout(()=>{this.fetchContainerLog()},1e3*e)}),this.closeTimer=(()=>{this.timer&&clearInterval(this.timer)}),this.fetchContainerLog=(()=>{var e=this.state,t=e.pod_name,a=e.container_name;(0,y.getContainerLog)({team_name:b.default.getCurrTeamName(),app_alias:this.props.appAlias,pod_name:t,container_name:a}).then(e=>{if(e&&e.status_code&&200===e.status_code&&e.response_data){var t=e.response_data.split("\n");this.setState({containerLog:t||[]},()=>{this.hanleTimer()})}})}),this.onFinish=(e=>{this.setState({filter:e},()=>{var t=this.state,a=t.logs;t.pod_name;""===e?this.handleStart():(this.closeAllEventSources(),this.setLogs(a))})}),this.setLogs=(e=>{var t=this.state,a=t.filter,l=t.pod_name,n=e;n=e.filter(e=>{return""==a||-1!=e.indexOf(a)}),n=n.map(e=>{if(-1!=e.indexOf(a)){var t=e.replace(a,"\x1b[33m".concat(a,"\x1b[0m"));return t}return e}),n.length>5e3&&(n=n.slice(e.length-5e3,e.length));var s=l?{containerLog:n}:{logs:n};this.setState(s)}),this.showHistoryLogs=(()=>{this.setState({showHistoryLog:!0})}),this.hideHistoryLogs=(()=>{this.setState({showHistoryLog:!1})}),this.handleHighlightClick=(e=>{var t=this.state.showHighlighted;this.setState({showHighlighted:t===e?"":e})}),this.state={containerLog:[],logs:[],instances:[],started:!0,showHistoryLog:!1,showHighlighted:"",filter:"",pod_name:"",container_name:"",refreshValue:5,messages:[],isHistoryLogs:!1,lokiUrl:"",previousPodNames:[]},this.eventSources={},this.messageBuffer=[],this.batchUpdateTimer=null,this.MAX_LOGS=1e3}componentDidMount(){this.canView()&&(this.fetchInstanceInfo(),this.setState({isHistoryLogs:M.default.isInstallPlugin(this.props.pluginList,"rainbond-enterprise-base")},()=>{this.state.isHistoryLogs&&this.props.pluginList.forEach(e=>{"rainbond-enterprise-base"==e.name&&this.setState({lokiUrl:e.backend})})}),this.intervalTimer=setInterval(()=>{this.fetchInstanceInfo()},5e3))}componentDidUpdate(e,t){this.refs.box&&t.logs.length!==this.state.logs.length&&""===this.state.showHighlighted&&(this.refs.box.scrollTop=this.refs.box.scrollHeight)}componentWillUnmount(){this.eventSources&&this.closeAllEventSources(),this.intervalTimer&&clearInterval(this.intervalTimer),this.batchUpdateTimer&&clearTimeout(this.batchUpdateTimer)}initializeEventSources(e,t){var a=this.props,l=a.appAlias,n=a.regionName,s=a.teamName;e.forEach(e=>{if(e.pod_name){var a="/console/sse/v2/tenants/".concat(s,"/services/").concat(l,"/pods/").concat(e.pod_name,"/logs?region_name=").concat(n,"&lines=").concat(t);this.eventSources[e.pod_name]=new EventSource(a,{withCredentials:!0}),this.eventSources[e.pod_name].onmessage=(e=>{var t=e.data;this.messageBuffer.push(t),this.debouncedBatchUpdate()}),this.eventSources[e.pod_name].onerror=(t=>{console.error("".concat(e.pod_name," EventSource failed:"),t),this.closeEventSource(e.pod_name)})}})}closeEventSource(e){this.eventSources[e]&&(this.eventSources[e].close(),delete this.eventSources[e])}closeAllEventSources(){this.eventSources&&Object.keys(this.eventSources).forEach(e=>{this.closeEventSource(e)})}canView(){return _.default.canManageAppLog(this.props.appDetail)}render(){if(!this.canView())return f.default.createElement(v.default,null);var e=this.props,t=e.appAlias,a=(e.regionName,e.teamName,this.state),l=a.logs,n=(a.pod_name,a.containerLog),c=a.showHighlighted,u=a.instances,p=a.started,m=(a.refreshValue,a.showHistoryLog),h=(a.messages,a.lokiUrl);return f.default.createElement(s.default,{title:f.default.createElement(f.Fragment,null,p?f.default.createElement(d.default,{onClick:this.handleStop},f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.log.push"})):f.default.createElement(d.default,{onClick:this.handleStart},f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.log.startPushing"}))),extra:f.default.createElement(f.Fragment,null,this.state.isHistoryLogs&&f.default.createElement("a",{onClick:this.showHistoryLogs},f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.log.history"})))},f.default.createElement(r.default,{layout:"inline",name:"logFilter",style:{marginBottom:"16px"}},f.default.createElement(r.default.Item,{name:"filter",label:f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.log.text"}),style:{marginRight:"10px"}},f.default.createElement(o.default.Search,{style:{width:"300px"},placeholder:(0,C.formatMessage)({id:"componentOverview.body.tab.log.filtertext"}),onSearch:this.onFinish})),f.default.createElement(r.default.Item,{name:"container",label:f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.log.container"}),style:{marginRight:"10px"},className:w.default.podCascader},f.default.createElement(i.default,{defaultValue:["".concat((0,C.formatMessage)({id:"componentOverview.body.tab.log.allLogs"}))],fieldNames:{label:"name",value:"name",children:"container"},options:u,onChange:this.onChangeCascader,placeholder:(0,C.formatMessage)({id:"componentOverview.body.tab.log.select"})}))),f.default.createElement("div",{className:w.default.logsss,ref:"box"},n&&n.length>0&&n.map((e,t)=>{return f.default.createElement(k,{key:t,item:e,index:t,isContainer:!0})})||l&&l.length>0&&l.map((e,t)=>{return f.default.createElement(k,{key:t,log:e,index:t,logs:l,showHighlighted:c,onHighlightClick:this.handleHighlightClick,isContainer:!1})})),m&&f.default.createElement(E.default,{onCancel:this.hideHistoryLogs,appAlias:t,url:h}))}},u=p))||u);t.default=S;var k=(0,f.memo)(e=>{var t,a=e.item,l=e.log,n=e.index,s=e.logs,i=e.showHighlighted,r=e.onHighlightClick,o=e.isContainer;if(o)return f.default.createElement("div",null,f.default.createElement("span",{style:{color:"#666666"}},f.default.createElement("span",null,n+1)),f.default.createElement("span",{style:{width:"100%",color:"#FFF"}},f.default.createElement(g.default,null,a)));var d=l.indexOf(":"),c=l.substring(d-12,d),u=i===c,p=l.substring(d+1,l.length),m=l.substring(0,d),h=1===s.length||n>=1&&c!==(null===(t=s[n-1])||void 0===t?void 0:t.substring(s[n-1].indexOf(":")-12,s[n-1].indexOf(":")));return f.default.createElement("div",null,f.default.createElement("span",{style:{color:u?"#FFFF91":"#666666"}},f.default.createElement("span",null,""===l?"":"".concat(n+1))),f.default.createElement("span",{style:{color:u?"#FFFF91":"#FFF"}},f.default.createElement(g.default,null,p)),h&&f.default.createElement("span",{style:{color:u?"#FFFF91":"#bbb",cursor:"pointer",backgroundColor:c?"#666":""},onClick:()=>r(c)},f.default.createElement(g.default,null,m)))})},"+y/a":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("2qtc");var i=l(a("kLXV"));a("14J3");var r=l(a("BMrR"));a("jCWc");var o=l(a("kPKH"));a("Pwec");var d=l(a("CtXQ"));a("5Dmo");var c=l(a("3S7+"));a("y8nQ");var u,p,m,h,f=l(a("Vl3Y")),g=a("MuoO"),v=l(a("wd/R")),y=n(a("q1tI")),_=a("7DNP"),b=l(a("QDog")),E=l(a("Sw8b")),w=l(a("ctOv")),C=a("LLXN"),M=(u=(0,g.connect)(),p=f.default.create(),u(m=p((h=class extends y.PureComponent{constructor(e){var t;super(e),t=this,this.handleMore=(()=>{var e=this.props.handleMore;e&&e(!0)}),this.showLogModal=function(e,a){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=t.props,s=n.isopenLog,i=n.onLogPush;"AbnormalExited"===l||"EventTypeAbnormalExited"===l||"CrashLoopBackOff"===l?t.props.dispatch(_.routerRedux.push("/team/".concat(b.default.getCurrTeamName(),"/region/").concat(b.default.getCurrRegionName(),"/apps/").concat(b.default.getAppID(),"/overview?type=components&componentID=").concat(b.default.getSlidePanelComponentID(),"&tab=log"))):s&&i&&i(!1),t.setState({logVisible:!0,selectEventID:e,showSocket:a})},this.handleCancel=(()=>{this.setState({logVisible:!1})}),this.showUserName=(e=>{return"system"===e?y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.overview.handle.system"}):e?"@".concat(e):""}),this.jumpExpansion=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;e?t.props.dispatch(_.routerRedux.push("/team/".concat(b.default.getCurrTeamName(),"/region/").concat(b.default.getCurrRegionName(),"/apps/").concat(b.default.getAppID(),"/overview?type=components&componentID=").concat(a,"&tab=overview"))):t.props.dispatch(_.routerRedux.push("/team/".concat(b.default.getCurrTeamName(),"/region/").concat(b.default.getCurrRegionName(),"/apps/").concat(b.default.getAppID(),"/overview?type=components&componentID=").concat(b.default.getSlidePanelComponentID(),"&tab=expansion")))},this.jumpMessage=((e,t)=>{var a=/\[([\s\S]*)\]/,l=e.match(a),n=/(.+)(?=\[)/,s=e.match(n);if(t)return s&&s[1]?s[1]:"";var i=[];if(l&&l.length>1){var r=l[0];i=JSON.parse(r)}return y.default.createElement(y.default.Fragment,null,"(",s&&s[1]?s[1]:"",i&&i.length>0&&i.map((e,t)=>{return i.length>3?y.default.createElement("span",{style:{color:"#3296fa",cursor:"pointer"},onClick:()=>{this.showJumpModal(i)}},(0,C.formatMessage)({id:"componentOverview.body.tab.overview.handle.Dependent"})):y.default.createElement("span",{style:{color:"#3296fa",cursor:"pointer"},onClick:()=>{this.jumpExpansion(!0,e.serivce_alias)}},e.service_cname)}),")")}),this.showJumpModal=(e=>{this.setState({showModal:!0,showModalArr:e})}),this.hideModal=(()=>{this.setState({showModal:!1})}),this.state={logVisible:!1,selectEventID:"",showSocket:!1}}componentDidMount(){}render(){var e=this.props,t=e.logList,a=e.has_next,l=e.recordLoading,n=e.isopenLog,u=this.state,p=u.logVisible,m=u.selectEventID,h=u.showSocket,f=u.showModalArr,g=u.showModal,_=(b.default.fetchSvg("logs","#cccccc"),""),M={success:"logpassed",timeout:"logcanceled",failure:"logfailed"};return y.default.createElement(s.default,{title:y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.overview.handle.operationRecord"}),loading:l},y.default.createElement(r.default,{gutter:24},y.default.createElement(o.default,{xs:24,xm:24,md:24,lg:24,xl:24},t&&t.map(e=>{var t=e.status,a=e.final_status,l=e.user_name,s=e.opt_type,i=e.reason,r=e.message,o=e.end_time,d=e.syn_type,u=e.event_id,p=e.create_time;n&&""===a&&s&&s.indexOf("build")>-1&&""===_&&(_=u);var m=this.showUserName(l),h=b.default.fetchMessageLange(r,t,s);return y.default.createElement("div",{key:u,className:"".concat(w.default.loginfo," ").concat(w.default[M[t]||"logfored"])},y.default.createElement(c.default,{title:(0,v.default)(p).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss")},y.default.createElement("div",{style:{wordBreak:"break-word",lineHeight:"17px"}},b.default.fetchdayTime(p))),y.default.createElement("div",null,y.default.createElement(c.default,{title:"INITIATING"==s?this.jumpMessage(r,!0):h},y.default.createElement("span",{style:{color:b.default.fetchAbnormalcolor(s)}},b.default.fetchStateOptTypeText(s),"\xa0"),b.default.fetchOperation(a,t),"\xa0","failure"===t&&b.default.fetchReason(i),"Unschedulable"==s?y.default.createElement("span",null,"(",r,("\u8282\u70b9CPU\u4e0d\u8db3"==r||"\u8282\u70b9\u5185\u5b58\u4e0d\u8db3"==r)&&y.default.createElement("span",{style:{color:"#3296fa",cursor:"pointer"},onClick:()=>this.jumpExpansion(!1)},(0,C.formatMessage)({id:"componentOverview.body.tab.overview.handle.stretch"})),")"):"INITIATING"==s?this.jumpMessage(r,!1):h)),y.default.createElement("div",{className:w.default.nowarpText},y.default.createElement("span",null,y.default.createElement(c.default,{title:m},m))),y.default.createElement("div",null,y.default.createElement("span",{className:w.default.alcen},o&&p&&b.default.fetchSvg("runTime"),y.default.createElement("span",null,o&&p?b.default.fetchTime(new Date(o).getTime()?new Date(o).getTime()-new Date(p).getTime():""):""))),y.default.createElement("div",{style:{position:"static"},className:"table-wrap"},"Unschedulable"!=s&&"INITIATING"!=s&&0===d&&y.default.createElement(c.default,{visible:""===a,placement:"top",arrowPointAtCenter:!0,autoAdjustOverflow:!1,title:y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.overview.handle.lookLog"}),getPopupContainer:()=>document.querySelector(".table-wrap")},y.default.createElement("div",{style:{width:"16px"},onClick:()=>{this.showLogModal(u,""===a,s)}},b.default.fetchSvg("logs","failure"==t&&"build-service"==s?"#CE0601":"#cccccc")))))}),_&&this.showLogModal(_,!0),!t||t&&0===t.length&&y.default.createElement("div",{style:{background:"#fff",paddingBottom:"10px",textAlign:"center"}},y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.overview.handle.handler"})),a&&y.default.createElement("p",{style:{textAlign:"center",fontSize:30}},y.default.createElement(d.default,{style:{cursor:"pointer"},onClick:this.props.handleNextPage,type:"down"})))),p&&y.default.createElement(E.default,{title:y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.overview.handle.log"}),width:"90%",onOk:this.handleCancel,onCancel:this.handleCancel,showSocket:h,EventID:m,socket:this.props.socket}),y.default.createElement(i.default,{title:(0,C.formatMessage)({id:"componentOverview.body.tab.overview.handle.DependentCom"}),visible:g,onCancel:this.hideModal,footer:null},y.default.createElement("div",null,f&&f.length>0&&f.map((e,t)=>{return y.default.createElement("p",{style:{color:"#3296fa",cursor:"pointer"},onClick:()=>{this.jumpExpansion(!0,e.service_alias)}},e.service_cname)}))))}},m=h))||m)||m),S=M;t.default=S},"0//z":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("7Kak");var i=l(a("9yH6")),r=l(a("jehZ"));a("5NDa");var o=l(a("5rEg"));a("fOrg");var d=l(a("+KLJ"));a("/xke");var c=l(a("TeRw")),u=l(a("p0pE"));a("OaEy");var p=l(a("2fM7"));a("y8nQ");var m=l(a("Vl3Y"));a("Znn+");var h,f,g,v,y=l(a("ZTPi")),_=a("MuoO"),b=n(a("q1tI")),E=a("LLXN"),w=(l(a("6UP8")),a("xpXo")),C=l(a("lpA0")),M=l(a("8+Sn")),S=l(a("QDog")),k=y.default.TabPane,O=m.default.Item,x=p.default.Option,A=(h=m.default.create(),f=(0,_.connect)(),h(g=f((v=class extends b.PureComponent{constructor(e){super(e),this.changeServerType=(e=>{var t=this.props.form,a=t.getFieldValue,l=a("user_name");"oss"==e?this.setState({isFlag:!1}):this.setState({isFlag:!0}),this.setState({serverType:e,showUsernameAndPass:""!==l})}),this.checkURL=((e,t,a)=>{var l=this.getUrlCheck();l.test(t)?a():a(b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.Illegal"}))}),this.checkImage=((e,t,a)=>{/^[^\s]+$/.test(t)?a():a(b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.Illegal"}))}),this.handleSubmit=(()=>{var e=this.props,t=e.form,a=e.buildSource,l=this.state.tabValue,n=a.arch.length;t.validateFields((e,t)=>{e||("tag"==t.version_type&&(t.code_version="tag:".concat(t.code_version)),n&&2!=n&&0!=n&&(t.arch=a.arch[0]),this.props.dispatch({type:"appControl/putAppBuidSource",payload:(0,u.default)({team_name:S.default.getCurrTeamName(),service_alias:this.props.appAlias,service_source:l},t),callback:()=>{c.default.success({message:(0,E.formatMessage)({id:"notification.success.edit_deploy"})}),this.props.onOk&&this.props.onOk()}}))})}),this.hideShowKey=(()=>{this.setState({showKey:!1})}),this.handleTabs=(e=>{"2"==e?this.setState({tabValue:"docker_run"}):this.setState({tabValue:"source_code"})}),this.state={branch:this.props.branch||[],buildSource:this.props.buildSource||null,showUsernameAndPass:""!==this.props.buildSource.user,showKey:!1,isFlag:!0,tabValue:"source_code",gitUrl:this.props.buildSource.git_url,serverType:this.props.buildSource.server_type?this.props.buildSource.server_type:"git",showCode:C.default.isCodeAppByBuildSource(this.props.buildSource),showImage:C.default.isImageAppByBuildSource(this.props.buildSource),tabKey:"",language:"zh-CN"===M.default.get("language")}}componentDidMount(){C.default.isCodeAppByBuildSource(this.state.buildSource)&&this.loadBranch();var e=this.props.buildSource;"docker_image"==e.service_source||"docker_run"==e.service_source?this.setState({tabKey:"2",tabValue:"docker_run"}):this.setState({tabKey:"1",tabValue:"source_code"})}shouldComponentUpdate(){return!0}getUrlCheck(){return"svn"==this.state.serverType?/^(ssh:\/\/|svn:\/\/|http:\/\/|https:\/\/)[^\s]+$/gi:/^(git@|ssh:\/\/|svn:\/\/|http:\/\/|https:\/\/)[^\s]+$/gi}loadBranch(){(0,w.getCodeBranch)({team_name:S.default.getCurrTeamName(),app_alias:this.props.appAlias}).then(e=>{e&&this.setState({branch:e.list})})}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.appBuidSourceLoading,n=e.form,c=e.archInfo,u=n.getFieldDecorator,h=n.getFieldValue,f=this.state,g=(f.showUsernameAndPass,f.showKey,f.isFlag),v=f.tabValue,_=f.buildSource,w=f.tabKey,C=f.language,M={labelCol:{xs:{span:5},sm:{span:3}},wrapperCol:{xs:{span:10},sm:{span:16}}},S={labelCol:{xs:{span:5},sm:{span:5}},wrapperCol:{xs:{span:10},sm:{span:16}}},A=C?M:S,D=h("git_url");/(http|https):\/\/([\w.]+\/?)\S*/.test(D||"");"git"!==this.state.serverType||this.state.serverType;var F=u("server_type",{initialValue:"git"})(b.default.createElement(p.default,{getPopupContainer:e=>e.parentNode,onChange:this.changeServerType,style:{width:100}},b.default.createElement(x,{value:"git"},"Git"),b.default.createElement(x,{value:"svn"},"Svn"),b.default.createElement(x,{value:"oss"},"OSS"))),N=this.state.buildSource.code_version,T="branch";N&&0===N.indexOf("tag:")&&(T="tag",N=N.substr(4,N.length));var L=u("version_type",{initialValue:T})(b.default.createElement(p.default,{getPopupContainer:e=>e.parentNode,style:{width:100}},b.default.createElement(x,{value:"branch"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.git_branch"})),b.default.createElement(x,{value:"tag"},"Tag"))),P=_.arch.length;return b.default.createElement(s.default,{width:700,title:t,confirmLoading:l,onOk:this.handleSubmit,onCancel:a,visible:!0},b.default.createElement(d.default,{message:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.creat"}),type:"warning",closable:!0,size:"small",style:{marginBottom:"12px"}}),b.default.createElement(y.default,{defaultActiveKey:w,onChange:this.handleTabs},b.default.createElement(k,{tab:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.Source_code"}),key:"1"},"source_code"===v&&b.default.createElement(m.default,{onSubmit:this.handleSubmit},b.default.createElement(m.default.Item,(0,r.default)({},A,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.address"})}),u("git_url",{initialValue:"source_code"==_.service_source&&_.git_url?_.git_url:"",force:!0,rules:[{required:!0,message:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_address"})},{validator:this.checkURL,message:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.Illegal_address"})}]})(b.default.createElement(o.default,{addonBefore:F,placeholder:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_address"})}))),g&&b.default.createElement(m.default.Item,(0,r.default)({},A,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.version"})}),u("code_version",{initialValue:"source_code"==_.service_source&&N?N:"",rules:[{required:!0,message:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_version"})}]})(b.default.createElement(o.default,{addonBefore:L,placeholder:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_version"})}))),b.default.createElement(m.default.Item,(0,r.default)({},A,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.name"})}),u("user_name",{initialValue:"source_code"==_.service_source&&(_.user_name||_.user)?_.user_name||_.user:"",rules:[{required:!1,message:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_name"})}]})(b.default.createElement(o.default,{autoComplete:"off",placeholder:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_name"})}))),b.default.createElement(m.default.Item,(0,r.default)({},A,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.password"})}),u("password",{initialValue:"source_code"==_.service_source&&_.password?_.password:"",rules:[{required:!1,message:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_password"})}]})(b.default.createElement(o.default,{autoComplete:"new-password",type:"password",placeholder:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_password"})}))),2==P&&b.default.createElement(m.default.Item,(0,r.default)({},A,{label:(0,E.formatMessage)({id:"enterpriseColony.mgt.node.framework"})}),u("arch",{initialValue:2==P?c:1==P&&_.arch[0]})(b.default.createElement(i.default.Group,{onChange:this.onChangeCpu},b.default.createElement(i.default,{value:"amd64"},"amd64"),b.default.createElement(i.default,{value:"arm64"},"arm64")))))),b.default.createElement(k,{tab:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.image"}),key:"2"},"docker_run"===v&&b.default.createElement(m.default,{onSubmit:this.handleSubmit},b.default.createElement(O,(0,r.default)({},A,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.image_name"})}),u("image",{initialValue:"docker_image"!=_.service_source&&"docker_run"!=_.service_source||!_.image?"":_.image,rules:[{required:!0,message:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.image_name_null"})},{max:190,message:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.max"})},{validator:this.checkImage,message:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.Illegal"})}]})(b.default.createElement(o.default,{placeholder:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_image_name"})}))),b.default.createElement(O,(0,r.default)({},A,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.Start"})}),u("cmd",{initialValue:"docker_image"!=_.service_source&&"docker_run"!=_.service_source||!_.cmd?"":_.cmd})(b.default.createElement(o.default,{placeholder:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_Start"})}))),b.default.createElement(m.default.Item,(0,r.default)({},A,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.name"})}),u("user_name",{initialValue:"docker_image"!=_.service_source&&"docker_run"!=_.service_source||!_.user_name&&!_.user?"":_.user_name||_.user,rules:[{required:!1,message:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_name"})}]})(b.default.createElement(o.default,{autoComplete:"off",placeholder:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_name"})}))),b.default.createElement(m.default.Item,(0,r.default)({},A,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.ChangeBuildSource.password"})}),u("password",{initialValue:"docker_image"!=_.service_source&&"docker_run"!=_.service_source||!_.password?"":_.password,rules:[{required:!1,essage:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_password"})}]})(b.default.createElement(o.default,{autoComplete:"new-password",type:"password",placeholder:(0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.input_password"})}))),2==P&&b.default.createElement(m.default.Item,(0,r.default)({},A,{label:(0,E.formatMessage)({id:"enterpriseColony.mgt.node.framework"})}),u("arch",{initialValue:2==P?c:1==P&&_.arch[0]})(b.default.createElement(i.default.Group,{onChange:this.onChangeCpu},b.default.createElement(i.default,{value:"amd64"},"amd64"),b.default.createElement(i.default,{value:"arm64"},"arm64"))))))))}},g=v))||g)||g);t.default=A},"0oB1":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("+L6B");var i=l(a("2/Rp"));a("fOrg");var r=l(a("+KLJ"));a("/xke");var o,d,c,u=l(a("TeRw")),p=l(a("ALo4")),m=l(a("QDog")),h=a("MuoO"),f=n(a("q1tI")),g=a("LLXN"),v=(o=(0,h.connect)(e=>{var t=e.user,a=e.appControl;return{currUser:t.currentUser,appDetail:a.appDetail}}),o((c=class extends f.PureComponent{constructor(e){super(e),this.openTrace=(()=>{var e=this.props,t=e.appDetail,a=e.dispatch;a({type:"monitor/setComponsentTrace",payload:{team_name:m.default.getCurrTeamName(),app_alias:t.service.service_alias},callback:()=>{u.default.success({message:(0,g.formatMessage)({id:"notification.success.setupAssembly"})}),this.loadTraceSetting()}})}),this.closeTrace=(()=>{var e=this.props,t=e.appDetail,a=e.dispatch;a({type:"monitor/deleteComponsentTrace",payload:{team_name:m.default.getCurrTeamName(),app_alias:t.service.service_alias},callback:()=>{u.default.success({message:(0,g.formatMessage)({id:"notification.success.closeAssembly"})}),this.loadTraceSetting()}})}),this.state={trace:{}}}componentDidMount(){this.loadTraceSetting()}loadTraceSetting(){var e=this.props,t=e.appDetail,a=e.dispatch;a({type:"monitor/getComponsentTrace",payload:{team_name:m.default.getCurrTeamName(),app_alias:t.service.service_alias},callback:e=>{this.setState({trace:e.bean})}})}componentWillUnmount(){}render(){var e=this.state.trace;return f.default.createElement(f.Fragment,null,f.default.createElement(r.default,{style:{marginBottom:"16px"},message:f.default.createElement(g.FormattedMessage,{id:"componentOverview.body.tab.monitor.TraceShow.message"})}),f.default.createElement(s.default,null,e.collector_host&&!e.enable_apm&&f.default.createElement(p.default,{type:"success",description:f.default.createElement(g.FormattedMessage,{id:"componentOverview.body.tab.monitor.TraceShow.Docking"}),actions:[f.default.createElement(i.default,{type:"primary",onClick:this.openTrace},f.default.createElement(g.FormattedMessage,{id:"componentOverview.body.tab.monitor.TraceShow.open"}))]}),e.collector_host&&e.enable_apm&&f.default.createElement(p.default,{type:"success",description:f.default.createElement(g.FormattedMessage,{id:"componentOverview.body.tab.monitor.TraceShow.alreadyOpen"}),actions:[f.default.createElement(i.default,{type:"primary",onClick:this.closeTrace},f.default.createElement(g.FormattedMessage,{id:"componentOverview.body.tab.monitor.TraceShow.close"}))]}),!e.collector_host&&f.default.createElement(p.default,{type:"warning",description:f.default.createElement(g.FormattedMessage,{id:"componentOverview.body.tab.monitor.TraceShow.notDependent"})})))}},d=c))||d);t.default=v},"1+VL":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s,i=l(a("jehZ")),r=l(a("p0pE")),o=l(a("q1tI")),d=a("yP6+"),c=l(a("RFWI")),u=l(a("iPxP")),p=(n=(0,c.default)(),n(s=class extends o.default.Component{render(){var e=this.props,t=e.height,a=e.data,l=void 0===a?[]:a,n=e.forceFit,s=void 0===n||n,c=e.color,p=void 0===c?"rgba(24, 144, 255, 0.2)":c,m=e.borderColor,h=void 0===m?"#1089ff":m,f=e.scale,g=void 0===f?{}:f,v=e.borderWidth,y=void 0===v?2:v,_=e.line,b=e.xAxis,E=e.yAxis,w=e.animate,C=void 0===w||w,M=[36,5,30,5],S={x:(0,r.default)({type:"cat",range:[0,1]},g.x),y:(0,r.default)({min:0},g.y)},k=["x*y",(e,t)=>({name:e,value:t})],O=t+54;return o.default.createElement("div",{className:u.default.miniChart,style:{height:t}},o.default.createElement("div",{className:u.default.chartContent},t>0&&o.default.createElement(d.Chart,{animate:C,scale:S,height:O,forceFit:s,data:l,padding:M},o.default.createElement(d.Axis,(0,i.default)({key:"axis-x",name:"x",label:!1,line:!1,tickLine:!1,grid:!1},b)),o.default.createElement(d.Axis,(0,i.default)({key:"axis-y",name:"y",label:!1,line:!1,tickLine:!1,grid:!1},E)),o.default.createElement(d.Tooltip,{showTitle:!1,crosshairs:!1}),o.default.createElement(d.Geom,{type:"area",position:"x*y",color:p,tooltip:k,shape:"smooth",style:{fillOpacity:1}}),_?o.default.createElement(d.Geom,{type:"line",position:"x*y",shape:"smooth",color:h,size:y,tooltip:!1}):o.default.createElement("span",{style:{display:"none"}}))))}})||s);t.default=p},"18Tw":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=n(a("kLXV"));a("/xke");var i=n(a("TeRw"));a("+BJd");var r=n(a("mr32")),o=l(a("q1tI")),d=a("LLXN"),c=r.default.CheckableTag;class u extends o.PureComponent{constructor(e){super(e),this.handleOk=(()=>{var e=Object.keys(this.state.selected);e.length?this.props.onOk&&this.props.onOk(e):i.default.warning({message:(0,d.formatMessage)({id:"notification.warn.label"})})}),this.isCheck=(e=>!!this.state.selected[e]),this.handleChange=((e,t)=>{t?this.state.selected[e]=!0:delete this.state.selected[e],this.forceUpdate()}),this.state={selected:{}}}render(){var e=this.props.tags||[],t=this.props.onCancel;return o.default.createElement(s.default,{title:o.default.createElement(d.FormattedMessage,{id:"componentOverview.body.AddTag.choice"}),visible:!0,onOk:this.handleOk,onCancel:t},e&&e.length?e.map(e=>o.default.createElement(c,{onChange:t=>{this.handleChange(e.label_id,t)},checked:this.isCheck(e.label_id)},e.label_alias)):o.default.createElement("div",{style:{textAlign:"center"}},o.default.createElement(d.FormattedMessage,{id:"componentOverview.body.AddTag.Not_yet"})))}}t.default=u},"1LoT":function(e,t,a){e.exports={pie:"pie___3LoZe",chart:"chart___2Judb",hasLegend:"hasLegend___3juvk",legend:"legend___3hZB2",dot:"dot___2bXlo",line:"line___139cX",legendTitle:"legendTitle___mSQct",percent:"percent___50Noc",value:"value___1tJ_k",title:"title___32XSk",apptotal:"apptotal___19Y9j",total:"total___1pP9r",legendBlock:"legendBlock___1uu3S"}},"2RmR":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("5NDa");var i=l(a("5rEg")),r=l(a("jehZ"));a("7Kak");var o=l(a("9yH6"));a("OaEy");var d=l(a("2fM7"));a("y8nQ");var c,u,p,m=l(a("Vl3Y")),h=n(a("q1tI")),f=a("LLXN"),g=l(a("IhRX")),v=l(a("CQXj")),y=m.default.Item,_=d.default.Option,b=o.default.Group,E=(c=m.default.create(),c((p=class extends h.PureComponent{constructor(){super(...arguments),this.handleSubmit=(e=>{e.preventDefault(),this.props.form.validateFields({force:!0},(e,t)=>{e||this.props.onOk&&this.props.onOk(t)})}),this.checkPath=((e,t,a)=>{var l=this.props.form.getFieldValue("scheme");"tcp"!=l?"tcp"!=l&&t?a():a(h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.input_path"})):a()})}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.ports,n=this.props.data||{},o={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},c=this.props.form,u=c.getFieldDecorator,p=c.getFieldValue,E=p("scheme")||"tcp";return h.default.createElement(s.default,{width:700,title:t,onOk:this.handleSubmit,onCancel:a,visible:!0},h.default.createElement(m.default,{onSubmit:this.handleSubmit},h.default.createElement(y,(0,r.default)({},o,{label:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.port"})}),u("port",{initialValue:v.default.getPort(n)||(l.length?l[0].container_port:"")})(h.default.createElement(d.default,{getPopupContainer:e=>e.parentNode},l.map(e=>h.default.createElement(_,{key:e.container_port,value:e.container_port},e.container_port))))),h.default.createElement(y,(0,r.default)({},o,{label:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.agreement"})}),u("scheme",{initialValue:n.scheme||"tcp"})(h.default.createElement(b,{options:[{label:"tcp",value:"tcp"},{label:"http",value:"http"}]}))),h.default.createElement(y,(0,r.default)({},o,{label:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.http"}),style:{display:"tcp"===E?"none":""}}),u("http_header",{initialValue:n.http_header||""})(h.default.createElement(g.default,null))),h.default.createElement(y,(0,r.default)({},o,{label:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.path"}),style:{display:"tcp"===E?"none":""}}),u("path",{initialValue:n.path||"",rules:[{validator:this.checkPath}]})(h.default.createElement(i.default,{placeholder:(0,f.formatMessage)({id:"componentOverview.body.EditRunHealthCheck.Response"})}))),h.default.createElement(y,(0,r.default)({},o,{label:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.initialization"})}),u("initial_delay_second",{initialValue:n.initial_delay_second||"20",rules:[{required:!0,message:(0,f.formatMessage)({id:"componentOverview.body.EditRunHealthCheck.input_initialization"})}]})(h.default.createElement(i.default,{type:"number",style:{width:"80%"}})),h.default.createElement("span",{style:{marginLeft:8}},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.second"}))),h.default.createElement(y,(0,r.default)({},o,{label:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.time"})}),u("period_second",{initialValue:n.period_second||"3",rules:[{required:!0,message:(0,f.formatMessage)({id:"componentOverview.body.EditRunHealthCheck.input_time"})}]})(h.default.createElement(i.default,{type:"number",style:{width:"80%"}})),h.default.createElement("span",{style:{marginLeft:8}},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.second"}))),h.default.createElement(y,(0,r.default)({},o,{label:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.over_time"})}),u("timeout_second",{initialValue:n.timeout_second||"20",rules:[{required:!0,message:(0,f.formatMessage)({id:"componentOverview.body.EditRunHealthCheck.input_over_time"})}]})(h.default.createElement(i.default,{type:"number",style:{width:"80%"}})),h.default.createElement("span",{style:{marginLeft:8}},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.second"}))),h.default.createElement(y,(0,r.default)({},o,{label:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.EditRunHealthCheck.error"})}),u("failure_threshold",{initialValue:n.failure_threshold||"3",rules:[{required:!0,message:(0,f.formatMessage)({id:"componentOverview.body.EditRunHealthCheck.error_frequency"})}]})(h.default.createElement(i.default,{type:"number",style:{width:"80%"}})))))}},u=p))||u);t.default=E},"2U5Y":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV")),i=l(a("jehZ"));a("14J3");var r=l(a("BMrR"));a("jCWc");var o=l(a("kPKH"));a("sRBo");var d=l(a("kaz8"));a("+L6B");var c=l(a("2/Rp"));a("/xke");var u=l(a("TeRw"));a("y8nQ");var p,m,h,f,g=l(a("Vl3Y")),v=a("MuoO"),y=n(a("q1tI")),_=a("LLXN"),b=l(a("e6Ls")),E=g.default.Item,w=(p=(0,v.connect)(),m=g.default.create(),p(h=m((f=class extends y.PureComponent{constructor(e){super(e),this.onChange=(e=>{var t=this.props,a=t.data,l=t.form,n=l.setFieldsValue;this.setState({indeterminate:!!e.length&&e.length<a.length,checkAll:e.length===a.length}),n({graphIds:e})}),this.onCheckAllChange=(e=>{var t=this.state.allCheckedList,a=this.props.form.setFieldsValue;a({graphIds:e.target.checked?t:[]}),this.setState({indeterminate:!1,checkAll:e.target.checked})}),this.onOk=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.onOk;a.validateFields({force:!0},(e,t)=>{!e&&l&&this.handleSubmitBatchDelete(t)})}),this.handleSubmitBatchDelete=(e=>{var t=this.props,a=t.dispatch,l=t.onOk,n=t.team_name,s=t.app_alias;a({type:"monitor/batchDeleteServiceMonitorFigure",payload:{app_alias:s,team_name:n,graph_ids:e.graphIds},callback:e=>{e&&200===e.status_code&&(u.default.success({message:(0,_.formatMessage)({id:"notification.success.delete"})}),l())}})});var t=this.props.data,a=t&&t.length>0&&t.map(e=>e.graph_id);this.state={allCheckedList:a,indeterminate:!0,checkAll:!0}}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.data,n=e.form,u=e.loading,p=void 0!==u&&u,m=this.state,h=m.checkAll,f=m.indeterminate,g=l&&l.length>0&&l.map(e=>e.graph_id),v=n.getFieldDecorator,w={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}};return y.default.createElement(s.default,{title:t,visible:!0,onOk:this.onOk,onCancel:a,className:b.default.TelescopicModal,footer:[y.default.createElement(c.default,{onClick:a},"  ",y.default.createElement(_.FormattedMessage,{id:"button.cancel"})),y.default.createElement(c.default,{type:"primary",loading:p,onClick:this.onOk},y.default.createElement(_.FormattedMessage,{id:"button.determine"}))]},y.default.createElement("div",null,y.default.createElement("div",{style:{borderBottom:"1px solid #E9E9E9",paddingBottom:"10px",marginBottom:"10px"}},y.default.createElement(d.default,{indeterminate:f,onChange:this.onCheckAllChange,checked:h},y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.BatchDeleteChart.all"}))),y.default.createElement(E,(0,i.default)({},w,{label:""}),v("graphIds",{initialValue:g||[],rules:[{required:!0,message:(0,_.formatMessage)({id:"componentOverview.body.tab.BatchDeleteChart.view"})}]})(y.default.createElement(d.default.Group,{style:{width:"472px"},onChange:this.onChange},y.default.createElement(r.default,null,l.map(e=>{var t=e.title,a=e.ID,l=e.graph_id;return y.default.createElement(o.default,{span:12,key:a,style:{marginBottom:"5px"}},y.default.createElement(d.default,{value:l},t))})))))))}},h=f))||h)||h),C=w;t.default=C},"308x":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var s=l(a("2/Rp"));a("Mwp2");var i=l(a("VXEj"));a("Pwec");var r=l(a("CtXQ"));a("g9YV");var o=l(a("wCAj"));a("/xke");var d=l(a("TeRw"));a("IzEo");var c=l(a("bx4M"));a("T2oS");var u=l(a("W9HT"));a("14J3");var p=l(a("BMrR"));a("jCWc");var m=l(a("kPKH"));a("5Dmo");var h=l(a("3S7+"));a("2qtc");var f=l(a("kLXV"));a("5NDa");var g=l(a("5rEg"));a("y8nQ");var v=l(a("Vl3Y"));a("7Kak");var y=l(a("9yH6"));a("OaEy");var _,b,E,w,C,M,S,k,O,x,A,D,F=l(a("2fM7")),N=a("MuoO"),T=a("7DNP"),L=n(a("q1tI")),P=a("LLXN"),I=l(a("q76B")),R=l(a("fxb9")),V=l(a("QxhW")),B=l(a("cUW5")),z=l(a("mKRI")),H=l(a("QDog")),q=l(a("/EMh")),U=l(a("LrcT")),j=F.default.Option,K=y.default.Button,G=y.default.Group,X=v.default.Item,W=(_=v.default.create(),_((E=class extends L.PureComponent{constructor(){super(...arguments),this.handleOk=(()=>{var e=this.props.onOk;this.props.form.validateFields((t,a)=>{!t&&e&&(a.min_cpu=Number(a.min_cpu),e(a))})})}render(){var e=this.props,t=e.minCpu,a=e.memory,l=e.form,n=e.onCancel,s=l.getFieldDecorator;return L.default.createElement(f.default,{title:L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.UpdateMemory.title"}),visible:!0,onOk:this.handleOk,onCancel:n},L.default.createElement(v.default,{onSubmit:this.handleOk,layout:"horizontal"},L.default.createElement(V.default,{labelCol:{span:5},wrapperCol:{span:19},form:l,FormItem:v.default.Item,initialValue:a,setkey:"memory",getFieldDecorator:s}),L.default.createElement(v.default.Item,{label:"CPU",labelCol:{span:5},wrapperCol:{span:19}},s("min_cpu",{initialValue:t||0,rules:[{required:!0,message:(0,P.formatMessage)({id:"componentOverview.body.UpdateMemory.cpu"})},{pattern:new RegExp(/^[0-9]\d*$/,"g"),message:(0,P.formatMessage)({id:"componentOverview.body.UpdateMemory.only"})}]})(L.default.createElement(g.default,{type:"number",min:0,addonAfter:"m",placeholder:(0,P.formatMessage)({id:"componentOverview.body.UpdateMemory.inpiut_cup"})})),L.default.createElement("div",{style:{color:"#999999",fontSize:"12px"}},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.UpdateMemory.unlimited"})))))}},b=E))||b),Q=(w=v.default.create(),w((M=class extends L.PureComponent{constructor(){super(...arguments),this.onChange=((e,t)=>{var a=this.props.data;a&&a.map((a,l)=>{return t===l&&(a.attr_value=e),a}),this.props.onChange&&this.props.onChange(a),this.forceUpdate()}),this.renderItem=((e,t)=>{if("string"===e.attr_type)return L.default.createElement(X,{style:{width:"90%"},label:L.default.createElement(h.default,{title:e.attr_info||e.attr_name},L.default.createElement("div",{className:U.default.nowarpText}," ",e.attr_name,e.attr_info?L.default.createElement("span",null,"(",e.attr_info,")"):""," "))},L.default.createElement(g.default,{disabled:!e.is_change,defaultValue:e.attr_value?e.attr_value:e.attr_default_value,onChange:e=>{this.onChange(e.target.value,t)}}));if("radio"===e.attr_type){var a=e.attr_alt_value.split(",");return L.default.createElement(X,{style:{width:"90%"},label:L.default.createElement(h.default,{title:e.attr_info||e.attr_name},L.default.createElement("div",{className:U.default.nowarpText}," ",e.attr_name,e.attr_info?L.default.createElement("span",null,"(",e.attr_info,")"):""," "))},L.default.createElement(F.default,{getPopupContainer:e=>e.parentNode,onChange:e=>{this.onChange(e,t)},disabled:!e.is_change,value:e.attr_value||e.attr_default_value||""},a.map(e=>L.default.createElement(j,{key:e,value:e},e))))}if("checkbox"===e.attr_type){var l=e.attr_alt_value.split(",");return L.default.createElement(X,{style:{width:"90%"},label:L.default.createElement(h.default,{title:e.attr_info||e.attr_name},L.default.createElement("div",{className:U.default.nowarpText}," ",e.attr_name,e.attr_info?L.default.createElement("span",null,"(",e.attr_info,")"):""," "))},L.default.createElement(F.default,{getPopupContainer:e=>e.parentNode,disabled:!e.is_change,onChange:e=>{this.onChange(e.join(","),t)},value:(e.attr_value||e.attr_default_value||"").split(","),mode:"multiple"},l.map(e=>L.default.createElement(j,{key:e,value:e},e))))}})}componentWillReceiveProps(){}render(){var e=this.props.data||[];return L.default.createElement(v.default,{layout:"vertical"},L.default.createElement(p.default,null,e.map((e,t)=>L.default.createElement(m.default,{span:"8"},this.renderItem(e,t)))))}},C=M))||C);class J extends L.PureComponent{constructor(e){super(e),this.getAppByName=(e=>this.props.data.filter(t=>t.dest_service_alias===e)),this.handleAppChange=(e=>{var t=this.getAppByName(e);this.setState({currAppLoading:!0},()=>{this.setState({currApp:e,currPort:t[0].port,currAppLoading:!1})})}),this.handlePortChange=(e=>{this.setState({currAppLoading:!0},()=>{this.setState({currPort:e,currAppLoading:!1})})}),this.getCurrPorts=(()=>{var e=this.getAppByName(this.state.currApp);return e.map(e=>e.port)}),this.getCurrData=(()=>{var e=this.state.currPort,t=this.state.currApp,a=this.getAppByName(t);return a.filter(t=>t.port===e)[0]}),this.getApps=(()=>{var e=this.props.data,t=[],a=[];return e.map(e=>{-1==t.indexOf(e.dest_service_alias)&&(t.push(e.dest_service_alias),a.push({dest_service_alias:e.dest_service_alias,dest_service_cname:e.dest_service_cname,port:e.port}))}),a});var t=this.props.data;this.state={currApp:t[0].dest_service_alias,currPort:t[0].port,config_name:t[0].config_group_name,currAppLoading:!1}}render(){var e=this.getCurrData(),t=this.state,a=t.currPort,l=t.currApp,n=t.config_name,s=t.currAppLoading,i=this.getCurrPorts(),r=this.getApps();return L.default.createElement(c.default,{style:{marginBottom:24},type:"inner",title:L.default.createElement("div",null,n,L.default.createElement("span",{style:{marginRight:24,marginLeft:16}},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.getApps.app"})," ",L.default.createElement(F.default,{getPopupContainer:e=>e.parentNode,onChange:this.handleAppChange,value:l},r.map(e=>e&&L.default.createElement(j,{key:e.dest_service_alias+e.port,value:e.dest_service_alias},e.dest_service_cname))))," ",L.default.createElement("span",{style:{marginRight:24}}," ",L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.getApps.port"})," ",L.default.createElement(F.default,{getPopupContainer:e=>e.parentNode,onChange:this.handlePortChange,value:a},i.map(e=>L.default.createElement(j,{value:e},e)))," ")," ",L.default.createElement("span",{style:{marginRight:24}},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.getApps.port_agreement"}),e.protocol)," ")},s?L.default.createElement(u.default,null):L.default.createElement(Q,{onChange:this.handleOnChange,data:e.config}))}}class Y extends L.PureComponent{constructor(e){super(e),this.handlePortChange=(e=>{this.setState({currAppLoading:!0},()=>{this.setState({currPort:e,currAppLoading:!1})})}),this.getCurrData=(e=>this.props.data.filter(t=>t.port===e)[0]);var t=this.props.data;t.length>0&&(this.state={currAppLoading:!1,currPort:t[0].port,config_name:t[0].config_group_name})}render(){var e=this.props.data,t=this.state,a=t.currAppLoading,l=t.config_name,n=t.currPort,s=this.getCurrData(n);return L.default.createElement(L.default.Fragment,null,L.default.createElement(c.default,{style:{marginBottom:24},type:"inner",title:L.default.createElement("div",null,l,L.default.createElement("span",{style:{marginRight:24,marginLeft:16}},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.ConfigUpstreamPort.port"})," ",L.default.createElement(F.default,{getPopupContainer:e=>e.parentNode,onChange:this.handlePortChange,value:n},e.map(e=>L.default.createElement(j,{key:e.port,value:e.port},e.port))))," ",L.default.createElement("span",{style:{marginRight:24}}," ",L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.ConfigUpstreamPort.port_agreement"}),s.protocol," ")," ")},a?L.default.createElement(u.default,null):L.default.createElement(Q,{onChange:this.handleOnChange,data:s.config})))}}class Z extends L.PureComponent{render(){var e=this.props.data||[],t=this.props.data.config_group_name;return L.default.createElement(L.default.Fragment,null,L.default.createElement("h4",null,L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.ConfigUnDefine"})),L.default.createElement(c.default,{style:{marginBottom:24},type:"inner",title:L.default.createElement("div",null,t)},L.default.createElement(Q,{onChange:this.handleOnChange,data:e.config})))}}var $=(S=(0,N.connect)(e=>{var t=e.user,a=e.loading;return{currUser:t.currentUser,loading:a.appControl}},null,null,{withRef:!0}),S((O=class extends L.PureComponent{constructor(){super(...arguments),this.state={editStoragData:!1},this.handleSubmitStorageConfig=((e,t)=>{var a=H.default.getCurrTeamName(),l=this.props,n=l.pluginInfo,s=n.plugin_id,i=n.configs,r=n.appAlias,o=l.dispatch,c=JSON.parse(JSON.stringify(t))||{},u=JSON.parse(JSON.stringify(e))||{},p=JSON.parse(JSON.stringify(i))||{},m=c.attr_value,h=m&&JSON.parse(m)||{};if(c.volume_name=h.volume_name=u.volume_name,c.volume_path=h.volume_path=u.volume_path,c.attr_type=h.volume_type=u.volume_type,c.file_content=h.file_content=u.file_content||"",c.attr_value=h&&JSON.stringify(h),p&&p.storage_env&&p.storage_env.config){var f=p.storage_env.config;p.storage_env.config=f&&f.map(e=>{return e.attr_name===c.attr_name&&(e=c),e})}o({type:"appControl/editPluginConfigs",payload:{team_name:a,app_alias:r,plugin_id:s,data:p},callback:()=>{d.default.success({message:(0,P.formatMessage)({id:"notification.success.succeeded"})}),this.openPlugin()}})}),this.openPlugin=(()=>{var e=H.default.getCurrTeamName(),t=this.props,a=t.dispatch,l=t.pluginInfo,n=l.appAlias,s=l.pluginInfo,i=s.plugin_id,r=s.build_version;a({type:"appControl/getPluginConfigs",payload:{team_name:e,app_alias:n,plugin_id:i,build_version:r},callback:e=>{e&&(this.props.data.config=e.bean.storage_env.config,this.handleCancelAddStorageConfig())}})}),this.handleCancelAddStorageConfig=(()=>{this.setState({editStoragData:!1})}),this.handleEdit=(e=>{this.setState({editStoragData:e})})}componentDidMount(){this.openPlugin()}render(){var e=this.props.data.config,t=this.state.editStoragData,a=[];return a=e&&e.reduce((e,t)=>"config-file"===t.attr_type||"storage"===t.attr_type?[...e,t]:e,[]),a.length>0&&a.map(e=>{var t=e.attr_value,a=t&&JSON.parse(t)||{};e.volume_path=a.volume_path,e.volume_name=a.volume_name,e.attr_type=a.attr_type,e.file_content=a.file_content}),L.default.createElement(L.default.Fragment,null,L.default.createElement("h4",null,L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.handleEdit.share"})),L.default.createElement(o.default,{rowKey:(e,t)=>t,columns:[{title:(0,P.formatMessage)({id:"componentOverview.body.handleEdit.name"}),dataIndex:"volume_name"},{title:(0,P.formatMessage)({id:"componentOverview.body.handleEdit.path"}),dataIndex:"volume_path"},{title:(0,P.formatMessage)({id:"componentOverview.body.handleEdit.type"}),dataIndex:"attr_type",render(e,t){var a=t.attr_type;return"config-file"===a?L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.handleEdit.file"}):L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.handleEdit.shared_storage"})}},{title:(0,P.formatMessage)({id:"componentOverview.body.handleEdit.operation"}),dataIndex:"action",render:(e,t)=>{return L.default.createElement("a",{onClick:()=>{this.handleEdit(t)}},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.handleEdit.edit"}))}}],dataSource:a,pagination:!1}),t&&L.default.createElement(R.default,{onCancel:this.handleCancelAddStorageConfig,onSubmit:this.handleSubmitStorageConfig,data:this.state.editStoragData,editor:!0}))}},k=O))||k);class ee extends L.PureComponent{constructor(){super(...arguments),this.renderConfig=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"upstream_port"===t?L.default.createElement(Y,{data:e}):"downstream_port"===t?L.default.createElement(L.Fragment,null,L.default.createElement(J,{data:e})):"un_define"===t?L.default.createElement(L.Fragment,null,L.default.createElement(Z,{data:e})):"storage_env"===t?L.default.createElement(L.Fragment,null,L.default.createElement($,{data:e,pluginInfo:a})):null}}render(){var e=this.props.configs||{},t=e.undefine_env||{},a=e.downstream_env||[],l=e.upstream_env||[],n=e.storage_env||[];return L.default.createElement("div",{style:{padding:"20px 0"}},"{}"!==JSON.stringify(t)?this.renderConfig(t,"un_define"):null,l.length?this.renderConfig(l,"upstream_port"):null,a.length?this.renderConfig(a,"downstream_port"):null,"{}"!==JSON.stringify(n)?this.renderConfig(n,"storage_env",this.props):null)}}var te=(x=(0,N.connect)(e=>{var t=e.user,a=e.loading;return{currUser:t.currentUser,loading:a.appControl}},null,null,{withRef:!0}),x((D=class extends L.PureComponent{constructor(e){var t;super(e),t=this,this.getPlugins=(()=>{var e=H.default.getCurrTeamName(),t=this.props.appAlias;this.props.dispatch({type:"appControl/getPlugins",payload:{team_name:e,app_alias:t,category:this.state.category},callback:e=>{if(e){var t=e.bean.installed_plugins||[],a=e.bean.not_install_plugins||[];this.setState({installedList:t,unInstalledList:a}),this.isInit&&(this.isInit=!1,t.length||this.setState({type:"uninstalled"}))}}})}),this.handleCategoryChange=(e=>{this.setState({category:e.target.value},()=>{this.getPlugins()})}),this.handleTypeChange=(e=>{this.setState({type:e.target.value})}),this.handleStartPlugin=(e=>{var t=H.default.getCurrTeamName(),a=this.props.appAlias;this.props.dispatch({type:"appControl/startPlugin",payload:{team_name:t,app_alias:a,plugin_id:e.plugin_id},callback:()=>{this.getPlugins(),d.default.success({message:(0,P.formatMessage)({id:"notification.success.enable"})})}})}),this.handleStopPlugin=(e=>{var t=H.default.getCurrTeamName(),a=this.props.appAlias;this.props.dispatch({type:"appControl/stopPlugin",payload:{team_name:t,app_alias:a,plugin_id:e.plugin_id},callback:()=>{this.getPlugins(),d.default.success({message:(0,P.formatMessage)({id:"notification.success.deactivate"})})}})}),this.isOpenedPlugin=(e=>{var t=this.state.openedPlugin;return!!t[e.plugin_id]}),this.openPlugin=(e=>{var t=H.default.getCurrTeamName(),a=this.props.appAlias;this.props.dispatch({type:"appControl/getPluginConfigs",payload:{team_name:t,app_alias:a,plugin_id:e.plugin_id,build_version:e.build_version},callback:t=>{if(t){var a={};a[e.plugin_id]=t.bean||{},this.setState({openedPlugin:Object.assign({},a),pluginInfo:e})}}})}),this.closePlugin=(e=>{delete this.state.openedPlugin[e.plugin_id],this.forceUpdate()}),this.handleUpdateConfig=((e,t)=>{var a=H.default.getCurrTeamName(),l=this.props.appAlias;this.props.dispatch({type:"appControl/editPluginConfigs",payload:{team_name:a,app_alias:l,plugin_id:e,data:t},callback:()=>{d.default.success({message:(0,P.formatMessage)({id:"notification.success.modified"})})}})}),this.onUpdateMemory=(e=>{this.setState({updateMemory:e})}),this.cancelUpdateMemory=(()=>{this.setState({updateMemory:null})}),this.renderInstalled=(()=>{var e=this.state,t=e.installedList,a=e.pluginInfo,l=null===this.state.unInstalledList;return L.default.createElement(i.default,{size:"large",rowKey:"id",loading:l,pagination:!1,dataSource:t||[],renderItem:e=>L.default.createElement("div",null,L.default.createElement(i.default.Item,{actions:[this.isOpenedPlugin(e)?L.default.createElement("a",{onClick:()=>{this.closePlugin(e)},href:"javascript:;"},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderInstalled.configuration"})):L.default.createElement("a",{onClick:()=>{this.openPlugin(e)},href:"javascript:;"},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderInstalled.look"})),,z.default.isStart(e)?L.default.createElement("a",{onClick:()=>{this.handleStopPlugin(e)},href:"javascript:;"},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderInstalled.deactivate"})):L.default.createElement("a",{onClick:()=>{this.handleStartPlugin(e)},href:"javascript:;"},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderInstalled.enable"})),L.default.createElement("a",{onClick:()=>{this.onUpdateMemory(e)},href:"javascript:;"},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderInstalled.allocation"})),,L.default.createElement("a",{onClick:()=>{this.onDeletePlugin(e)},href:"javascript:;"}," ",L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderInstalled.uninstall"})," ")]},L.default.createElement(i.default.Item.Meta,{avatar:L.default.createElement(r.default,{type:"api",style:{fontSize:40,color:"rgba(0, 0, 0, 0.2)"}}),title:L.default.createElement("div",null," ",L.default.createElement(T.Link,{to:"/team/".concat(H.default.getCurrTeamName(),"/region/").concat(H.default.getCurrRegionName(),"/myplugns/").concat(e.plugin_id)},e.plugin_alias)," ",L.default.createElement("p",{style:{fontSize:12,color:"#dcdcdc"}}," ",L.default.createElement("span",{style:{marginRight:24}},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderInstalled.category"}),q.default.getCategoryCN(e.category))," ",L.default.createElement("span",{style:{marginRight:24}}," ",L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderInstalled.edition"}),e.build_version," ")," ",L.default.createElement("span",null,"  ",L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderInstalled.memory"}),e.min_memory," MB "))," "),description:e.desc})),this.isOpenedPlugin(e)?L.default.createElement(L.Fragment,null,L.default.createElement(ee,{configs:this.state.openedPlugin[e.plugin_id]||[],plugin_id:e.plugin_id,appAlias:this.props.appAlias,pluginInfo:a}),L.default.createElement("div",{style:{textAlign:"right",marginBottom:80}},L.default.createElement(s.default,{style:{marginRight:8},onClick:()=>{this.handleUpdateConfig(e.plugin_id,this.state.openedPlugin[e.plugin_id])},type:"primary"},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderInstalled.updata"})),L.default.createElement(s.default,{onClick:()=>{this.closePlugin(e)},type:"default"},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderInstalled.configuration"})))):null)})}),this.renderUnInstalled=(()=>{var e=this.state.unInstalledList,t=null===this.state.unInstalledList;return e.length?L.default.createElement(i.default,{size:"large",rowKey:"id",loading:t,pagination:!1,dataSource:e||[],renderItem:e=>L.default.createElement(i.default.Item,{actions:[L.default.createElement("a",{onClick:()=>{this.installPlugin(e)},href:"javascript:;"}," ",L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderUnInstalled.open"})," ")]},L.default.createElement(i.default.Item.Meta,{avatar:L.default.createElement(r.default,{type:"api",style:{fontSize:40,color:"rgba(0, 0, 0, 0.2)"}}),title:L.default.createElement("div",null," ",L.default.createElement(T.Link,{to:"/team/".concat(H.default.getCurrTeamName(),"/region/").concat(H.default.getCurrRegionName(),"/myplugns/").concat(e.plugin_id)},e.plugin_alias)," ",L.default.createElement("p",{style:{fontSize:12,color:"#dcdcdc"}}," ",L.default.createElement("span",{style:{marginRight:24}},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderUnInstalled.type"}),q.default.getCategoryCN(e.category))," ",L.default.createElement("span",null,"  ",L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderUnInstalled.edition"}),e.build_version," "))," "),description:e.desc}))}):L.default.createElement("center",null,L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderUnInstalled.not"})," ",L.default.createElement(T.Link,{style:{marginTop:32},to:"/team/".concat(H.default.getCurrTeamName(),"/region/").concat(H.default.getCurrRegionName(),"/myplugns")},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.renderUnInstalled.install"})))}),this.hasInstalled=(()=>{var e=this.state.installedList;return e&&!!e.length}),this.installPlugin=(e=>{var t=H.default.getCurrTeamName(),a=this.props.appAlias;this.props.dispatch({type:"appControl/installPlugin",payload:{team_name:t,app_alias:a,plugin_id:e.plugin_id,build_version:e.build_version},callback:()=>{d.default.success({message:(0,P.formatMessage)({id:"notification.success.openToUpdate"})}),this.getPlugins(),this.props.onshowRestartTips(!0)}})}),this.onDeletePlugin=(e=>{this.setState({showDeletePlugin:e})}),this.cancelDeletePlugin=(()=>{this.setState({showDeletePlugin:null})}),this.hanldeUnInstallPlugin=(()=>{var e=H.default.getCurrTeamName(),t=this.props.appAlias,a=this.state.showDeletePlugin;this.props.dispatch({type:"appControl/unInstallPlugin",payload:{team_name:e,app_alias:t,plugin_id:a.plugin_id},callback:()=>{delete this.state.openedPlugin[a.plugin_id],d.default.success({message:(0,P.formatMessage)({id:"notification.success.uninstallToUpdate"})}),this.cancelDeletePlugin(),this.getPlugins(),this.props.onshowRestartTips(!0)}})}),this.handleUpdateMemory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=H.default.getCurrTeamName(),l=t.props.appAlias,n=t.state.updateMemory;t.props.dispatch({type:"appControl/updatePluginMemory",payload:{team_name:a,app_alias:l,plugin_id:n.plugin_id,min_memory:e.memory,min_cpu:e.min_cpu},callback:()=>{t.getPlugins(),t.cancelUpdateMemory(),d.default.success({message:(0,P.formatMessage)({id:"notification.success.succeeded"})})}})},this.state={installedList:null,unInstalledList:null,category:"",type:"installed",showDeletePlugin:null,openedPlugin:{},pluginInfo:{}},this.isInit=!0}componentDidMount(){this.canView()&&this.getPlugins()}canView(){var e=this.props.componentPermissions.isPlugin;return e}render(){if(!this.canView())return L.default.createElement(B.default,null);var e=this.state.type;return L.default.createElement(c.default,null,L.default.createElement("p",{style:{overflow:"hidden"}},L.default.createElement(G,{onChange:this.handleTypeChange,value:e,style:{marginRight:16,float:"left"}},L.default.createElement(K,{value:"installed"},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.Plugin.installed"})),L.default.createElement(K,{value:"uninstalled"},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.Plugin.uninstalled"}))),L.default.createElement(G,{onChange:this.handleCategoryChange,defaultValue:"",style:{marginRight:16,float:"right"}},L.default.createElement(K,{value:""},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.Plugin.all"})),L.default.createElement(K,{value:"analysis"},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.Plugin.analysis"})),L.default.createElement(K,{value:"net_manage"},L.default.createElement(P.FormattedMessage,{id:"componentOverview.body.Plugin.net_manage"})))),"installed"===e?this.renderInstalled():this.renderUnInstalled(),this.state.showDeletePlugin&&L.default.createElement(I.default,{onOk:this.hanldeUnInstallPlugin,onCancel:this.cancelDeletePlugin,title:L.default.createElement(P.FormattedMessage,{id:"confirmModal.deldete.plugin.title"}),desc:L.default.createElement(P.FormattedMessage,{id:"confirmModal.deldete.plugin.desc"})}),this.state.updateMemory&&L.default.createElement(W,{onOk:this.handleUpdateMemory,onCancel:this.cancelUpdateMemory,minCpu:this.state.updateMemory.min_cpu,memory:this.state.updateMemory.min_memory}))}},A=D))||A);t.default=te},"3A2o":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s,i=l(a("q1tI")),r=a("MuoO"),o=a("LLXN"),d=l(a("MXRY")),c=(n=(0,r.connect)(),n(s=class extends i.default.Component{render(){var e=this.props.appAlias;return i.default.createElement(d.default,{title:i.default.createElement(o.FormattedMessage,{id:"componentOverview.body.ConnectionInformation.title"}),type:"Outer",appAlias:e})}})||s);t.default=c},"3jFV":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("T2oS");var i=l(a("W9HT"));a("5Dmo");var r=l(a("3S7+"));a("5NDa");var o=l(a("5rEg"));a("sRBo");var d=l(a("kaz8"));a("14J3");var c=l(a("BMrR"));a("jCWc");var u=l(a("kPKH")),p=l(a("jehZ"));a("+L6B");var m=l(a("2/Rp"));a("/xke");var h=l(a("TeRw")),f=l(a("p0pE"));a("OaEy");var g=l(a("2fM7"));a("y8nQ");var v,y,_,b,E=l(a("Vl3Y")),w=a("CC/n"),C=a("DrY4"),M=a("MuoO"),S=a("7DNP"),k=n(a("q1tI")),O=a("LLXN"),x=l(a("lpA0")),A=l(a("QDog")),D=l(a("qCJ4")),F=l(a("e6Ls")),N=l(a("9Qkj")),T=l(a("Kia0")),L=E.default.Item,P=g.default.Option,I=(v=E.default.create(),y=(0,M.connect)(e=>{var t=e.user,a=e.enterprise,l=e.application;return{currentUser:t.currentUser,currentEnterprise:a.currentEnterprise,groupDetail:l.groupDetail||{}}}),v(_=y((b=class extends k.PureComponent{constructor(e){super(e),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.onSelectChange=(e=>{this.handleOpenLoging();var t=this.props.form,a=this.state.userTeamList,l=t.setFieldsValue,n=a.filter(t=>t.name===e);n&&(n.length>0?this.fetchTeamApps(n[0].value[0],n[0].value[1]):(this.handleCloseLoging(),l({apps:""})))}),this.onGroupChange=(e=>{var t=this.state.checkAllList;this.setState({checkedList:e,indeterminate:!!e.length&&e.length<t.length,checkAll:e.length===t.length})}),this.onCheckAllChange=(e=>{var t=this.state.checkAllList;this.setState({checkedList:e.target.checked?t:[],indeterminate:!1,checkAll:e.target.checked})}),this.getUserTeams=(()=>{var e=this.props,t=e.dispatch,a=e.currentEnterprise;t({type:"global/fetchMyTeams",payload:{enterprise_id:a.enterprise_id,page:1,page_size:999},callback:e=>{if(e&&200===e.status_code){var t=e.list,a=[];t&&t.length>0&&t.map(e=>{e.region_list.map(t=>{var l={name:"".concat(e.team_alias," | ").concat(t.region_alias),value:[e.team_name,t.region_name]};a.push(l)})}),this.setState({userTeamList:a})}}})}),this.handleOpenLoging=(()=>{this.setState({Loading:!0,loading:!0})}),this.handleCloseLoging=(()=>{this.setState({Loading:!1,loading:!1})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.fetchCopyComponent=(()=>{var e=this.props,t=e.dispatch,a=e.groupDetail;t({type:"application/fetchCopyComponent",payload:{tenantName:A.default.getCurrTeamName(),group_id:a.app_id},callback:e=>{if(e&&200===e.status_code){var t=e.list,a=[];t&&t.length>0&&t.map((e,t)=>{a.push(t)}),this.setState({checkAllList:a,checkedList:a,dataSource:e.list,loading:!1,Loading:!1})}}})}),this.handleAddGroup=(e=>{var t=this.props.form.getFieldValue,a=this.state.userTeamList,l=t("teamRegion"),n=a.filter(e=>e.name===l),s="",i="";n.length>0&&(s=n&&n[0].value[0],i=n&&n[0].value[1]),this.handleOpenLoging(),(0,w.addGroup)((0,f.default)({team_name:s||A.default.getCurrTeamName(),region_name:i||A.default.getCurrRegionName()},e)).then(e=>{e&&(this.fetchTeamApps(s,i,e.bean.group_id),this.cancelAddGroup())}).finally(()=>{this.handleCloseLoging()})}),this.fetchTeamApps=((e,t,a)=>{var l=this.props.form,n=l.setFieldsValue;(0,C.getTeamRegionGroups)({query:"",team_name:e||A.default.getCurrTeamName(),region_name:t||A.default.getCurrRegionName(),noModels:!0}).then(t=>{var l=t&&t.list||[];e&&n({apps:a||(l.length>0?l[0].group_id:"")}),this.setState({apps:l}),this.handleCloseLoging()}).catch(()=>{this.handleCloseLoging()})}),this.handleSubmit=(()=>{var e=this.state.checkedList;this.props.form.validateFields((t,a)=>{t||(e&&e.length>20?h.default.warning({message:(0,O.formatMessage)({id:"notification.warn.app_copy_max20"})}):(this.setState({Loading:!0}),this.AddCopyTeamApps(a)))})}),this.AddCopyTeamApps=(e=>{var t=this.props,a=t.dispatch,l=t.groupDetail,n=t.onCancel,s=this.state,i=s.dataSource,r=s.checkedList,o=s.userTeamList,d={},c=e.apps,u=e.teamRegion;d.tar_group_id=c;var p=o.filter(e=>e.name===u);d.tar_team_name=p&&p[0].value[0],d.tar_region_name=p&&p[0].value[1];var m=[];r.map(e=>{var t=i[e],a=t.service_id,l=t.build_source,n=l.code_version,s=l.version,r=x.default.isCodeAppByBuildSource(l),o=r?n:s,d={service_id:a,change:{build_source:{version:o}}};m.push(d)}),d.services=m,a({type:"application/addCopyTeamApps",payload:(0,f.default)({tenantName:A.default.getCurrTeamName(),group_id:l.app_id},d),callback:e=>{if(this.handleCloseLoading(),e&&200===e.status_code){N.default.refreshPermissionsInfo(),h.default.success({message:(0,O.formatMessage)({id:"notification.success.copy"})});var t=e.bean,l=t.tar_team_name,s=t.tar_region_name,i=t.tar_group_id;setTimeout(()=>{a(S.routerRedux.push("/team/".concat(l,"/region/").concat(s,"/apps/").concat(i,"/overview")))},1e3),n()}},handleError:e=>{e&&e.data&&e.data.msg_show&&h.default.warning({message:e.data.msg_show}),this.handleCloseLoading()}})}),this.handleCloseLoading=(()=>{this.setState({Loading:!1,loading:!1})}),this.handleSave=(e=>{var t=[...this.state.dataSource],a=t.findIndex(t=>e.service_id===t.service_id),l=t[a];t.splice(a,1,(0,f.default)({},l,e)),this.setState({dataSource:t})}),this.handleOverDiv=(e=>{return k.default.createElement("div",null,e)}),this.checkTeams=((e,t,a)=>{t&&0===t.length||!t?a("\u8bf7\u9009\u62e9\u56e2\u961f/\u96c6\u7fa4"):t&&1===t.length?a("\u8bf7\u9009\u62e9\u96c6\u7fa4"):a()}),this.save=((e,t,a)=>{var l=t?"code_version":"version",n=e;n.build_source[l]=a,this.handleSave((0,f.default)({},n))}),this.state={userTeamList:[],Loading:!0,loading:!0,dataSource:[],apps:[],checkedList:[],checkAllList:[],indeterminate:!1,checkAll:!0,addGroup:!1}}componentDidMount(){this.fetchCopyComponent(),this.getUserTeams(),this.fetchTeamApps()}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.form,n=e.groupDetail,h=l.getFieldDecorator,f=this.state,v=f.userTeamList,y=f.dataSource,_=f.checkedList,b=f.apps,w=f.loading,C=f.Loading,M=f.addGroup,S=f.indeterminate,N=f.checkAll,I=v&&v.length>0&&v,R="",V=A.default.getCurrTeamName(),B=A.default.getCurrRegionName();I&&v.map(e=>{e.value[0]===V&&e.value[1]===B&&(R=e.name)});var z=b&&b.length>0&&b,H=_&&_.length>0,q={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:17}}};return k.default.createElement(s.default,{className:F.default.TelescopicModal,onOk:this.handleSubmit,title:t,width:1200,visible:!0,onCancel:a,footer:[k.default.createElement(m.default,{onClick:a}," ",(0,O.formatMessage)({id:"popover.cancel"})," "),k.default.createElement(m.default,{type:"primary",style:{marginTop:"20px"},disabled:!H,loading:C,onClick:this.handleSubmit},(0,O.formatMessage)({id:"popover.confirm"}))]},k.default.createElement(i.default,{spinning:w,tip:"Loading..."},k.default.createElement("div",{className:T.default.copyBox},M&&k.default.createElement(D.default,{copyFlag:this.props.copyFlag,isAddGroup:!1,loading:w,onCancel:this.cancelAddGroup,onOk:this.handleAddGroup}),k.default.createElement(E.default,{onSubmit:this.handleSubmit,layout:"horizontal",hideRequiredMark:!0},k.default.createElement(c.default,null,I&&k.default.createElement(u.default,{span:6},k.default.createElement(L,(0,p.default)({},q,{label:(0,O.formatMessage)({id:"confirmModal.app.label.teamRegion"})}),h("teamRegion",{initialValue:R,rules:[{required:!0,validator:this.checkTeams}]})(k.default.createElement(g.default,{getPopupContainer:e=>e.parentNode,onChange:this.onSelectChange,placeholder:(0,O.formatMessage)({id:"placeholder.copy.team_region"})},I.map(e=>{return k.default.createElement(P,{value:e.name},e.name)}))))),k.default.createElement(u.default,{span:10,style:{display:"flex",alignItems:"center"}},k.default.createElement(L,(0,p.default)({},q,{label:""}),h("apps",{initialValue:n.app_id,rules:[{required:!0,message:(0,O.formatMessage)({id:"placeholder.app"})}]})(k.default.createElement(g.default,{getPopupContainer:e=>e.parentNode,style:{width:"180px"},placeholder:(0,O.formatMessage)({id:"placeholder.app"})},z&&z.map(e=>k.default.createElement(P,{key:e.group_id,value:e.group_id},e.group_name))))),k.default.createElement(m.default,{style:{margin:"0 0 24px 10px"},onClick:this.onAddGroup},(0,O.formatMessage)({id:"popover.newApp.title"}))))),k.default.createElement("div",{className:T.default.tabTitle},k.default.createElement("div",{className:"".concat(T.default.w300," ").concat(T.default.over)},k.default.createElement(d.default,{indeterminate:S,onChange:this.onCheckAllChange,checked:N},(0,O.formatMessage)({id:"popover.newComponent.componentName"}))),k.default.createElement("div",{className:"".concat(T.default.w500," ").concat(T.default.over)},(0,O.formatMessage)({id:"confirmModal.app.label.build"})),k.default.createElement("div",{className:"".concat(T.default.w300," ").concat(T.default.over)},(0,O.formatMessage)({id:"confirmModal.app.label.editVersions"}))),k.default.createElement(d.default.Group,{style:{width:"100%"},value:_,onChange:this.onGroupChange},y.map((e,t)=>{var a=e.service_cname,l=e.build_source,n=e.service_id,s=l||{},i=s.code_version,c=s.version,u=s.image,p=s.git_url,m=s.package_name,f=s.rain_app_name,v=s.service_source,y=x.default.isImageAppByBuildSource(l),_=x.default.isMarketAppByBuildSource(l),b=x.default.isCodeAppByBuildSource(l),E=x.default.isUploadFilesAppSource(l),w=b?i:c,C="third_party"===v,M=y?u:b?p:_?f:E?m:"",S="",A=k.default.createElement(g.default,{getPopupContainer:e=>e.parentNode,style:{width:90},defaultValue:y?"Tag":"branch"},!y&&k.default.createElement(P,{value:"branch"},(0,O.formatMessage)({id:"confirmModal.app.label.branch"})),b&&k.default.createElement(P,{value:"Tag"},(0,O.formatMessage)({id:"confirmModal.app.label.tag"})));return S=y||b?k.default.createElement(L,null,h(n,{initialValue:w||"",rules:[{required:!0,message:(0,O.formatMessage)({id:"placeholder.copy.not_null"})}]})(k.default.createElement(o.default,{addonBefore:A,onPressEnter:t=>{this.save(e,b,t.target.value)},onBlur:t=>{this.save(e,b,t.target.value)},style:{width:"268px"}}))):C?"-":(0,O.formatMessage)({id:"confirmModal.app.label.not_change"}),k.default.createElement("div",{className:T.default.tabTr,key:n},k.default.createElement(r.default,{title:a},k.default.createElement("div",{className:"".concat(T.default.w300," ").concat(T.default.over)},k.default.createElement(d.default,{value:t},a))),k.default.createElement(r.default,{title:C?(0,O.formatMessage)({id:"confirmModal.app.label.third_party"}):M},k.default.createElement("div",{className:"".concat(T.default.w500," ").concat(T.default.over)},k.default.createElement("div",{style:{paddingRight:"5px",width:"100px",color:"rgba(0, 0, 0, 0.85)"}},y?(0,O.formatMessage)({id:"confirmModal.app.label.mirror_image"}):b?(0,O.formatMessage)({id:"confirmModal.app.label.sound_code"}):_?(0,O.formatMessage)({id:"confirmModal.app.label.component_library"}):C?(0,O.formatMessage)({id:"confirmModal.app.label.third_party"}):E?(0,O.formatMessage)({id:"confirmModal.app.label.local"}):""),k.default.createElement("div",{className:"".concat(T.default.w380," ").concat(T.default.over)},C?"-":M))),k.default.createElement("div",{className:"".concat(T.default.w300," ").concat(T.default.over),style:{height:"80px"}},S))})))))}},_=b))||_)||_);t.default=I},"4NES":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("R9oj");var s=n(a("ECub"));a("MXD1");var i=n(a("CFYs")),r=l(a("q1tI")),o=(n(a("ZzQo")),n(a("k3y4"))),d=a("LLXN");class c extends r.PureComponent{constructor(e){super(e),this.showName=(e=>{var t=e&&e.split("-"),a=t[t.length-1];return"".concat((0,d.formatMessage)({id:"componentOverview.body.Expansion.InstanceList.example"},{num:a}))}),this.getContainerMem=((e,t)=>{var a=this.props.method,l=0;return"vm"===a?e&&e.map(e=>{"compute"===e.container_name&&(l=e.usage_rate)}):e&&e.map(e=>{e.container_name===this.props.k8s_component_name&&(l=e.usage_rate)}),t?l:l+"%"}),this.getMemorySum=(e=>{var t=0;return e&&e.map(e=>{t+=e.memory_usage}),t.toFixed(2)}),this.state={list:this.props.list}}componentWillReceiveProps(e){e.list!==this.props.list&&this.setState({list:e.list})}componentDidMount(){}render(){var e=this.state.list;(0,d.formatMessage)({id:"componentOverview.body.Expansion.InstanceList.normal"}),(0,d.formatMessage)({id:"componentOverview.body.Expansion.InstanceList.starting"}),(0,d.formatMessage)({id:"componentOverview.body.Expansion.InstanceList.successfully"}),(0,d.formatMessage)({id:"componentOverview.body.Expansion.InstanceList.failed"}),(0,d.formatMessage)({id:"componentOverview.body.Expansion.InstanceList.unknown"});return r.default.createElement(r.default.Fragment,null,e.length>0&&e.map(e=>{return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:o.default.card},r.default.createElement("h1",null,this.showName(e.pod_name)),r.default.createElement("h2",null,this.getContainerMem(e.container)),r.default.createElement("h3",null,(0,d.formatMessage)({id:"componentOverview.body.Expansion.InstanceList.memory"})),r.default.createElement("div",null,r.default.createElement(i.default,{percent:this.getContainerMem(e.container,!0),size:"small",showInfo:!1,strokeColor:"#161616"}))))}),0===e.length&&r.default.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100px"}},r.default.createElement(s.default,{image:s.default.PRESENTED_IMAGE_SIMPLE})))}}var u=c;t.default=u},"4kmb":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var s,i,r,o=l(a("W9HT")),d=l(a("jehZ")),c=n(a("q1tI")),u=l(a("ZthY")),p=l(a("QDog")),m=a("MuoO"),h=a("LLXN"),f=l(a("8Gb5")),g=l(a("kNHq")),v=l(a("W6Xd")),y=l(a("9Qkj")),_=l(a("J1yd")),b=(s=(0,m.connect)(e=>{var t=e.user;return{currUser:t.currentUser}}),s((r=class extends c.Component{constructor(e){var t;super(e),t=this,this.getInitialTabKey=(e=>{var t=e.routePermission,a=e.argetServicesPermission,l=e.certificatePermission;return t.isAccess?"route":a.isAccess?"service":l.isAccess?"certificate":"route"}),this.handleBatchGateWay=(()=>{var e=this.props,t=e.dispatch,a=e.currUser,l=p.default.getCurrRegionName();t({type:"gateWay/getBatchGateWay",payload:{enterprise_id:a.enterprise_id,region_name:l},callback:e=>{var t;this.setState({batchGateway:!!(null===e||void 0===e?void 0:null===(t=e.list)||void 0===t?void 0:t.length),batchGatewayLoading:!0})},handleError:()=>{this.setState({batchGatewayLoading:!0})}})}),this.handleTabChange=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.state.batchGateway;t.setState({tabKey:e,open:a})},this.renderContent=(()=>{var e=this.state.open,t=this.props.permissions,a=t.routePermission,l=t.certificatePermission,n=t.argetServicesPermission,s=p.default.getAppID(),i={certificate:c.default.createElement(f.default,{open:e,permission:l,appID:s}),route:c.default.createElement(g.default,{open:e,onTabChange:this.handleTabChange,permission:a,appID:s}),service:c.default.createElement(v.default,{open:e,permission:n,appID:s})};return i[this.state.tabKey]||null}),this.handleTabList=(()=>{var e=this.props.permissions,t=e.routePermission,a=e.argetServicesPermission,l=e.certificatePermission,n=[];return t.isAccess&&n.push({key:"route",tab:(0,h.formatMessage)({id:"teamNewGateway.NewGateway.index.management"})}),a.isAccess&&n.push({key:"service",tab:(0,h.formatMessage)({id:"teamNewGateway.NewGateway.index.Services"})}),l.isAccess&&n.push({key:"certificate",tab:(0,h.formatMessage)({id:"teamNewGateway.NewGateway.index.certificate"})}),n}),this.state={permissions:e.permissions,tabKey:this.getInitialTabKey(e.permissions),batchGateway:!1,batchGatewayLoading:!1,open:!1}}componentDidMount(){this.handleBatchGateWay()}render(){var e=this.state.batchGatewayLoading,t=this.props.permissions,a=t.routePermission,l=t.argetServicesPermission,n=t.certificatePermission;return a.isAccess||l.isAccess||n.isAccess?c.default.createElement(c.default.Fragment,null,c.default.createElement(c.default.Fragment,null,e?c.default.createElement("div",{className:_.default.container},c.default.createElement(u.default,(0,d.default)({},this.props.pageHeader,{tabList:this.handleTabList(),onTabChange:this.handleTabChange,tabActiveKey:this.state.tabKey,content:(0,h.formatMessage)({id:"versionUpdata_6_2.gateway.desc"}),title:(0,h.formatMessage)({id:"teamGateway.strategy.title"})})),c.default.createElement("div",{className:_.default.content},this.renderContent())):c.default.createElement("div",{className:_.default.loadingContainer},c.default.createElement(o.default,{size:"large"})))):y.default.noPermission()}},i=r))||i);t.default=b},"59YF":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var s=l(a("2/Rp"));a("Pwec");var i=l(a("CtXQ"));a("5Dmo");var r=l(a("3S7+"));a("lUTK");var o,d,c,u=l(a("BvKs")),p=n(a("q1tI")),m=l(a("h99e")),h=l(a("QDog")),f=a("MuoO"),g=a("7DNP"),v=l(a("Zob5")),y=(l(a("2lxJ")),l(a("6KVG"))),_=l(a("Mw2C")),b=l(a("9Qkj")),E=l(a("NJpE")),w=e=>{var t=e.apps,a=e.onComponentClick;return p.default.createElement(u.default,{className:E.default.componentMenu},t.map(e=>p.default.createElement(u.default.Item,{key:e.service_alias,onClick:()=>a(e.service_alias)},e.service_cname)))},C=(o=(0,f.connect)(e=>{var t=e.teamControl;return{currentTeamPermissionsInfo:t.currentTeamPermissionsInfo}}),o((c=class extends p.Component{constructor(e){super(e),this.addPopStateListener=(()=>{window.addEventListener("popstate",this.handleUrlParams)}),this.removePopStateListener=(()=>{window.removeEventListener("popstate",this.handleUrlParams)}),this.loadComponents=(()=>{var e=this.props.dispatch;e({type:"application/fetchApps",payload:{team_name:h.default.getCurrTeamName(),region_name:h.default.getCurrRegionName(),group_id:h.default.getAppID(),page:1,page_size:1e4},callback:e=>{e&&200===e.status_code&&this.setState({apps:e.list||[],tableDataLoading:!0})}})}),this.handleUrlParams=(()=>{var e=h.default.getSlidePanelComponentID(),t=h.default.getSlidePanelType(),a=h.default.getRefresh();this.setState({componentID:e,type:t,isVisible:(""!==e||""!==t)&&!0,refresh:a})}),this.toggleVisibility=(()=>{this.setState(e=>({isVisible:!e.isVisible}))}),this.handleAppOverview=(()=>{var e=this.props.dispatch,t=h.default.getSlidePanelType();e(g.routerRedux.push("/team/".concat(h.default.getCurrTeamName(),"/region/").concat(h.default.getCurrRegionName(),"/apps/").concat(h.default.getAppID())+("app"!==t?"?type=app":"")))}),this.handleComponentOverview=(e=>{var t=this.props.dispatch;this.setState({addComponentOrAppDetail:"",type:"AppShape"});var a=this.state.apps.find(t=>t.service_alias===e);"creating"===(null===a||void 0===a?void 0:a.status)?t(g.routerRedux.push("/team/".concat(h.default.getCurrTeamName(),"/region/").concat(h.default.getCurrRegionName(),"/create/create-check/").concat(e))):t(g.routerRedux.push("/team/".concat(h.default.getCurrTeamName(),"/region/").concat(h.default.getCurrRegionName(),"/apps/").concat(h.default.getAppID(),"/overview")+"?type=components&componentID=".concat(e,"&tab=overview")))}),this.changeType=(e=>{this.setState({type:e})}),this.handleAddComponentOrAppDetail=(e=>{this.setState({addComponentOrAppDetail:e,type:"AppShape"})}),this.renderAppHeader=(()=>{var e=this.state,t=e.appPermissions,a=e.componentPermissions,l=e.isVisible;return p.default.createElement("div",{className:"".concat(E.default.headerWrapper," ").concat(l?E.default.headerHide:E.default.headerShow)},p.default.createElement(y.default,{addComponentOrAppDetail:this.state.addComponentOrAppDetail,handleAddComponentOrAppDetail:this.handleAddComponentOrAppDetail,permissions:{componentPermissions:a,appPermissions:t}}))}),this.handleChangeType=((e,t)=>{"EditorTopology"===this.state.type?(this.setState({isExiting:!0}),setTimeout(()=>{this.setState({isExiting:!1,type:e})},400)):this.setState({type:e}),"EditorTopology"===t&&document.getElementById("myframe").contentWindow.location.reload(!0)}),this.state={isVisible:!1,isDev:!1,components:[],apps:[],showIcons:!1,appPermissions:{},componentPermissions:{},addComponentOrAppDetail:"",type:"AppShape",isExiting:!1,refresh:!1,tableDataLoading:!1}}componentWillMount(){this.loadComponents()}componentDidMount(){this.getPermissionInfo(),this.handleUrlParams(),this.addPopStateListener()}componentWillUnmount(){this.removePopStateListener()}componentDidUpdate(e){this.props.location!==e.location&&this.handleUrlParams()}getPermissionInfo(){var e=this.props.currentTeamPermissionsInfo,t={};t.appPermissions=b.default.queryTeamOrAppPermissionsInfo(null===e||void 0===e?void 0:e.team,"app","app_".concat(h.default.getAppID())),t.componentPermissions=b.default.queryPermissionsInfo(null===e||void 0===e?void 0:e.team,"app_overview","app_".concat(h.default.getAppID())),this.setState(t)}render(){var e=this.state,t=e.isDev,a=e.isVisible,l=e.componentID,n=e.type,o=e.apps,d=e.addComponentOrAppDetail,c=e.isExiting,u=e.refresh,f=e.tableDataLoading,g=p.default.createElement("svg",{t:"1742983760513",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3443",width:"24",height:"24"},p.default.createElement("path",{d:"M815.8 318.8L705.9 209c-19.5-19.5-19.5-51.2 0-70.7l59.7-59.7c19.5-19.5 51.2-19.5 70.7 0l109.8 109.8c19.5 19.5 19.5 51.2 0 70.7l-59.7 59.7c-19.5 19.6-51.1 19.6-70.6 0zM751.2 453.4c18.8-18.8 23.5-44.5 10.5-57.4L628.1 262.3c-12.9-12.9-38.6-8.2-57.4 10.5L81.3 749.2c-9.4 9.4-15.3 21.4-16.5 33.5l0.2 133.8c-2.4 25.2 17.4 45 42.6 42.6l133.8 1.1c12.1-1.2 24.2-7.1 33.5-16.5l476.3-490.3zM908.9 831.7H559.8c-13.4 0-26.2 5.3-35.6 14.8-17.1 17.2-45.3 46.3-68.8 70.7-15.2 15.8-4 42.1 17.9 42.1h435.3c28 0 50.9-22.9 50.9-50.9v-26.3c-0.2-27.7-22.8-50.4-50.6-50.4z","p-id":"3444",fill:"#8383ac"}));return p.default.createElement("div",{className:E.default.container,key:u},this.renderAppHeader(),t?p.default.createElement(p.default.Fragment,null,f&&p.default.createElement(w,{apps:o,onComponentClick:this.handleComponentOverview})):p.default.createElement(p.default.Fragment,null,f&&p.default.createElement(v.default,{iframeHeight:"calc(100vh - 188px)",group_id:h.default.getAppID(),apps:o}),"EditorTopology"==n&&p.default.createElement("div",{className:"".concat(E.default.content_container," ").concat(E.default.animatedContainer," ").concat(c?E.default.exit:""),style:{width:"100%",height:"calc(100vh - 60px)"}},p.default.createElement(_.default,{iframeHeight:"calc(100vh - 148px)",group_id:h.default.getAppID(),changeType:e=>{this.changeType(e)}}))),!a&&""==d&&"EditorTopology"!=n&&p.default.createElement(r.default,{title:"\u7f16\u8f91\u6a21\u5f0f",placement:"right"},p.default.createElement("div",{className:E.default.topoBtn,onClick:()=>this.changeType("EditorTopology")},g)),"EditorTopology"==n&&p.default.createElement(s.default,{onClick:()=>this.handleChangeType("AppShape","EditorTopology"),style:{position:"absolute",top:72,right:6,zIndex:999},type:"link"},p.default.createElement(i.default,{type:"close",style:{fontSize:20}})),p.default.createElement(m.default,{isVisible:a,componentID:l,type:n}))}},d=c))||d);t.default=C},"6KVG":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("/zsF");var i=l(a("PArb"));a("14J3");var r=l(a("BMrR"));a("5Dmo");var o=l(a("3S7+"));a("jCWc");var d=l(a("kPKH"));a("+BJd");var c=l(a("mr32"));a("qVdP");var u=l(a("jsC+"));a("+L6B");var p=l(a("2/Rp"));a("Pwec");var m=l(a("CtXQ"));a("lUTK");var h=l(a("BvKs"));a("/xke");var f,g,v,y=l(a("TeRw")),_=n(a("q1tI")),b=(l(a("ZthY")),l(a("qCJ4"))),E=l(a("ri62")),w=l(a("4SMx")),C=l(a("QDog")),M=a("7DNP"),S=a("MuoO"),k=a("4/zt"),O=l(a("YCtL")),x=l(a("r+uN")),A=l(a("3jFV")),D=l(a("8+Sn")),F=a("LLXN"),N=l(a("Jxxo")),T=l(a("2lxJ")),L=l(a("i+gw")),P=l(a("ZgmS")),I=l(a("v10I")),R=l(a("wd/R")),V=l(a("he1n")),B=l(a("86vh")),z=l(a("HtlY")),H=(f=(0,S.connect)(e=>{var t=e.user,a=e.application,l=e.teamControl,n=e.enterprise,s=e.loading,i=e.global;return{buildShapeLoading:s.effects["global/buildShape"],editGroupLoading:s.effects["application/editGroup"],deleteLoading:s.effects["application/deleteGroupAllResource"],currUser:t.currentUser,apps:a.apps,groupDetail:a.groupDetail||{},currentTeam:l.currentTeam,currentRegionName:l.currentRegionName,currentEnterprise:n.currentEnterprise,rainbondInfo:i.rainbondInfo,novices:i.novices,pluginsList:l.pluginsList,groups:i.groups}}),f((v=class extends _.Component{constructor(e){var t;super(e),t=this,this.loading=(()=>{this.fetchAppDetail(),this.loadTopology(!0),this.fetchAppDetailState(),this.getOperator()}),this.handleArchCpuInfo=(()=>{var e=this.props.dispatch;e({type:"index/fetchArchOverview",payload:{region_name:C.default.getCurrRegionName(),team_name:C.default.getCurrTeamName()},callback:e=>{e&&e.bean&&this.setState({archInfo:e.list})}})}),this.handleWaitLevel=(()=>{var e=this.props.dispatch;e({type:"application/fetchToupgrade",payload:{team_name:C.default.getCurrTeamName(),group_id:C.default.getAppID()},callback:e=>{var t=e&&e.bean||{};this.setState({upgradableNumLoading:!1,upgradableNum:t&&t.upgradable_num||0})}})}),this.handleGroupAllResource=(()=>{var e=this.props.dispatch;e({type:"application/fetchGroupAllResource",payload:{team_name:C.default.getCurrTeamName(),group_id:C.default.getAppID()},callback:e=>{this.setState({resourceList:e.bean})}})}),this.fetchAppDetail=(()=>{var e=this.props.dispatch;e({type:"application/fetchGroupDetail",payload:{team_name:C.default.getCurrTeamName(),region_name:C.default.getCurrRegionName(),group_id:C.default.getAppID()},callback:e=>{e&&200===e.status_code&&this.setState({currApp:e.bean})},handleError:t=>{var a=this.state.componentTimer;if(!a)return null;t&&404===t.code&&e(M.routerRedux.push("/team/".concat(C.default.getCurrTeamName(),"/region/").concat(C.default.getCurrRegionName(),"/index")))}})}),this.fetchAppDetailState=(()=>{var e=this.props.dispatch;e({type:"application/fetchAppDetailState",payload:{team_name:C.default.getCurrTeamName(),group_id:C.default.getAppID()},callback:e=>{this.setState({resources:e.list,appStatusConfig:!0})}})}),this.getOperator=(()=>{var e=this.props.dispatch;e({type:"application/getOperator",payload:{team_name:C.default.getCurrTeamName(),group_id:C.default.getAppID()},callback:t=>{if(t&&200==t.status_code){var a=t.list.service;a&&a.length>0&&a.map(t=>{t.static?e({type:"createApp/createThirdPartyServices",payload:{team_name:C.default.getCurrTeamName(),group_id:C.default.getAppID(),service_cname:t.name,endpoints_type:"static",k8s_component_name:t.name,static:t.address},callback:e=>{if(e&&200==e.status_code){var t=e.bean.service_alias;t.length>0&&(0,k.buildApp)({team_name:C.default.getCurrTeamName(),app_alias:t,is_deploy:!0})}}}):e({type:"createApp/createThirdPartyServices",payload:{team_name:C.default.getCurrTeamName(),group_id:C.default.getAppID(),service_cname:t.name,endpoints_type:"kubernetes",k8s_component_name:t.name,namespace:t.namespace,serviceName:t.service},callback:e=>{if(e&&200==e.status_code){var t=e.bean.service_alias;t&&(0,k.buildApp)({team_name:C.default.getCurrTeamName(),app_alias:t,is_deploy:!0})}}})})}}})}),this.getStorageUsed=(()=>{var e=this.props.dispatch;e({type:"global/fetchStorageUsed",payload:{app_id:C.default.getAppID(),region_name:C.default.getCurrRegionName()},callback:e=>{e&&this.setState({storageUsed:e.bean.used_storage})}})}),this.handleError=(e=>{var t=this.state.componentTimer;if(!t)return null;e&&e.data&&e.data.msg_show&&y.default.warning({message:(0,F.formatMessage)({id:"notification.warn.error"}),description:e.data.msg_show})}),this.handleTimers=((e,t,a)=>{var l=this.state.componentTimer;if(!l)return null;this[e]=setTimeout(()=>{t()},a)}),this.closeTimer=(()=>{this.timer&&clearInterval(this.timer)}),this.toEdit=(()=>{this.setState({toEdit:!0})}),this.cancelEdit=(()=>{this.setState({toEdit:!1})}),this.handleEdit=(e=>{var t=this.props.dispatch;t({type:"application/editGroup",payload:{team_name:C.default.getCurrTeamName(),group_id:C.default.getAppID(),group_name:e.group_name,note:e.note,username:e.username,logo:e.logo,k8s_app:e.k8s_app},callback:e=>{e&&200===e.status_code&&(y.default.success({message:(0,F.formatMessage)({id:"notification.success.change"})}),t({type:"application/editGroups",payload:{team_name:C.default.getCurrTeamName(),group_id:C.default.getAppID()},callback:e=>{y.default.success({message:(0,F.formatMessage)({id:"notification.success.takeEffect"})})}})),this.handleUpDataHeader(),this.cancelEdit(),this.cancelEditAppDirector(),this.fetchAppDetail(),t({type:"global/fetchGroups",payload:{team_name:C.default.getCurrTeamName()}})}})}),this.handleUpDataHeader=(()=>{var e=this.props.dispatch;e({type:"global/IsUpDataHeader",payload:{isUpData:!0}})}),this.handleTopology=(e=>{this.setState({promptModal:!0,code:e})}),this.handlePromptModalClose=(()=>{this.setState({promptModal:!1,code:""})}),this.handlePromptModalOpen=(()=>{var e=this.state,t=e.code,a=e.serviceIds,l=this.props.dispatch;"restart"===t?batchOperation({action:t,team_name:C.default.getCurrTeamName(),serviceIds:a&&a.join(",")}).then(e=>{e&&200===e.status_code&&(y.default.success({message:(0,F.formatMessage)({id:"notification.success.reboot_success"})}),this.handlePromptModalClose()),this.loadTopology(!1)}):l({type:"global/buildShape",payload:{tenantName:C.default.getCurrTeamName(),group_id:C.default.getAppID(),action:t},callback:e=>{e&&200===e.status_code&&(y.default.success({message:e.msg_show||(0,F.formatMessage)({id:"notification.success.build_success"}),duration:"3"}),this.handlePromptModalClose()),this.loadTopology(!1)}})}),this.handleOpenRapidCopy=(()=>{this.setState({rapidCopy:!0})}),this.handleCloseRapidCopy=(()=>{this.setState({rapidCopy:!1})}),this.toDelete=(()=>{this.closeComponentTimer(),this.setState({toDelete:!0})}),this.toDeleteResource=(()=>{this.setState({toDeleteResource:!0})}),this.onShowComponentList=(()=>{this.setState({showComponentList:!0})}),this.onHideComponentList=(()=>{this.setState({showComponentList:!1})}),this.cancelDelete=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.setState({toDelete:!1,toDeleteResource:!1})},this.closeComponentTimer=(()=>{this.setState({componentTimer:!1}),this.closeTimer()}),this.handleDelete=(()=>{this.setState({toDeleteResource:!0})}),this.cancelDeleteResource=(()=>{this.setState({toDeleteResource:!1})}),this.handleOpenAddComponentOrAppDetail=(e=>{var t;"addComponent"===e?this.setState({showCreateComponentModal:!0}):(null===(t=this.props)||void 0===t||t.handleAddComponentOrAppDetail(e),this.setState({addComponentOrAppDetail:e}))}),this.handleCloseCreateComponentModal=(()=>{this.setState({showCreateComponentModal:!1})}),this.handleClose=(()=>{var e;this.setState({isExiting:!0}),null===(e=this.props)||void 0===e||e.handleAddComponentOrAppDetail(""),setTimeout(()=>{this.setState({isExiting:!1,addComponentOrAppDetail:""})},400)}),this.onCancel=(()=>{this.setState({customSwitch:!1})}),this.handleSwitch=(()=>{this.setState({customSwitch:!0})}),this.handleToEditAppDirector=(()=>{this.setState({toEditAppDirector:!0})}),this.cancelEditAppDirector=(()=>{this.setState({toEditAppDirector:!1})}),this.handleJump=(e=>{var t=this.props.dispatch;t(M.routerRedux.push("/team/".concat(C.default.getCurrTeamName(),"/region/").concat(C.default.getCurrRegionName(),"/apps/").concat(C.default.getAppID(),"/").concat(e)))}),this.handleAdvancedSettings=(()=>{var e=this.props.permissions.appPermissions,t=(e.isAppOverview,e.isAppRelease),a=e.isAppUpgrade,l=e.isAppGatewayMonitor,n=e.isAppRouteManage,s=e.isAppTargetServices,i=e.isAppCertificate,r=e.isAppResources,o=e.isAppConfigGroup,d=[{type:"button",key:"isAppRelease",text:(0,F.formatMessage)({id:"menu.app.publish"}),onClick:()=>this.handleJump("publish"),disabled:!t},{type:"button",key:"isAppGatewayMonitor",text:(0,F.formatMessage)({id:"menu.app.gateway"}),onClick:()=>this.handleJump("gateway"),disabled:!(l||n||s||i)},{type:"button",key:"isAppUpgrade",text:(0,F.formatMessage)({id:"menu.app.upgrade"}),onClick:()=>this.handleJump("upgrade"),disabled:!a},{type:"button",key:"isAppResources",text:(0,F.formatMessage)({id:"menu.app.k8s"}),onClick:()=>this.handleJump("asset"),disabled:!r},{type:"button",key:"isAppConfigGroup",text:(0,F.formatMessage)({id:"menu.app.configgroups"}),onClick:()=>this.handleJump("configgroups"),disabled:!o}],c=d.filter(e=>{return!e.disabled||this.props[e.key]});return c.length>1?_.default.createElement(u.default,{overlay:_.default.createElement(h.default,null,c.map(e=>_.default.createElement(h.default.Item,{key:e.key,onClick:e.onClick},e.text)))},_.default.createElement(p.default,{style:{marginLeft:10}},(0,F.formatMessage)({id:"teamNewGateway.NewGateway.RouteDrawer.senior"}),_.default.createElement(m.default,{type:"down"}))):_.default.createElement(_.default.Fragment,null,c.map(e=>_.default.createElement(p.default,{key:e.key,onClick:e.onClick,style:{marginLeft:10}},e.text)))}),this.state={permissions:e.permissions,componentTimer:!0,archInfo:[],upgradableNumLoading:!0,upgradableNum:0,resourceList:[],resources:[],appStatusConfig:!1,currApp:{},linkList:[],jsonDataLength:0,serviceIds:[],service_alias:[],promptModal:!1,code:"",rapidCopy:!1,toDelete:!1,toDeleteResource:!1,addComponentOrAppDetail:e.addComponentOrAppDetail,isExiting:!1,customSwitch:!1,toEditAppDirector:!1,storageUsed:{value:0,unit:"MB"},showComponentList:!1,showCreateComponentModal:!1}}componentDidMount(){this.loading(),this.handleArchCpuInfo(),this.handleWaitLevel(),this.handleGroupAllResource(),this.getStorageUsed()}componentWillUnmount(){this.closeTimer()}loadTopology(e){var t=this.props.dispatch,a=C.default.getCurrTeamName(),l=C.default.getCurrRegionName();D.default.set("team_name",a),D.default.set("region_name",l),t({type:"global/fetAllTopology",payload:{region_name:l,team_name:a,groupId:C.default.getAppID()},callback:t=>{if(t&&200===t.status_code){var a=t.bean;if("{}"===JSON.stringify(a))return;var l=[],n=[],s=a.json_data;Object.keys(s).map(e=>{l.push(e),"running"==s[e].cur_status&&1==s[e].is_internet&&n.push(s[e].service_alias)}),this.setState({jsonDataLength:Object.keys(s).length,service_alias:n,serviceIds:l},()=>{this.loadLinks(n.join("-"),e)})}}})}loadLinks(e,t){var a=this.props.dispatch;a({type:"global/queryLinks",payload:{service_alias:e,team_name:C.default.getCurrTeamName()},callback:e=>{e&&200===e.status_code&&this.setState({linkList:e.list||[]},()=>{t&&(this.handleTimers("timer",()=>{this.fetchAppDetailState(),this.fetchAppDetail(),this.loadTopology(!0),this.getOperator()},1e4),setTimeout(()=>{this.checkPermissions()},100))})},handleError:e=>{this.handleError(e),this.handleTimers("timer",()=>{this.fetchAppDetailState(),this.fetchAppDetail(),this.loadTopology(!0),this.getOperator()},2e4)}})}checkPermissions(){var e=this.state,t=e.jsonDataLength,a=e.resources,l=e.linkList,n=e.serviceIds,s=(e.resourceList,this.props),i=s.isSlidePanel,r=s.permissions,o=r.componentPermissions,d=(o.isAccess,o.isCreate),c=o.isDelete,u=o.isStart,p=o.isStop,m=o.isUpdate,h=o.isEdit,f=o.isConstruct,g=o.isCopy,v=r.appPermissions,y=(v.isAppOverview,v.isAppRelease,v.isAppUpgrade,v.isAppGatewayMonitor,v.isAppRouteManage,v.isAppTargetServices,v.isAppCertificate,v.isAppResources,v.isAppConfigGroup,!(t>0)),b=[{key:"addComponent",type:"button",text:_.default.createElement(F.FormattedMessage,{id:"appOverview.btn.addComponent",defaultMessage:"\u6dfb\u52a0\u7ec4\u4ef6"}),show:d&&!i,disabled:!1,onClick:()=>this.handleOpenAddComponentOrAppDetail("addComponent")},{key:"appDetail",type:"button",text:_.default.createElement(F.FormattedMessage,{id:"appOverview.app_detail",defaultMessage:"\u5e94\u7528\u8be6\u60c5"}),show:!i,disabled:!1,onClick:()=>this.handleOpenAddComponentOrAppDetail("appDetail")},{key:"visitor",show:l&&l.length>0,type:"component",component:_.default.createElement(O.default,{linkList:l,type:i?"primary":"default"})},{key:"update",type:"button",text:_.default.createElement(F.FormattedMessage,{id:"appOverview.btn.update",defaultMessage:"\u66f4\u65b0"}),show:m&&"CLOSED"!==a.status,onClick:()=>this.handleTopology("upgrade"),disabled:y},{key:"build",type:"button",text:_.default.createElement(F.FormattedMessage,{id:"appOverview.btn.build",defaultMessage:"\u6784\u5efa"}),show:f,onClick:()=>this.handleTopology("deploy"),disabled:y},{key:"copy",type:"button",text:_.default.createElement(F.FormattedMessage,{id:"appOverview.btn.copy",defaultMessage:"\u590d\u5236"}),show:g,disabled:y,onClick:()=>this.handleOpenRapidCopy()},{key:"start",type:"button",text:_.default.createElement(F.FormattedMessage,{id:"appOverview.btn.start",defaultMessage:"\u542f\u52a8"}),show:a.status&&"STARTING"!==a.status&&"RUNNING"!==a.status&&n&&n.length>0&&u,disabled:y,onClick:()=>this.handleTopology("start")},{key:"restart",type:"button",text:_.default.createElement(F.FormattedMessage,{id:"appOverview.btn.restart",defaultMessage:"\u91cd\u542f"}),show:a.status&&("ABNORMAL"===a.status||"PARTIAL_ABNORMAL"===a.status)&&n&&n.length>0&&m,disabled:y,onClick:()=>this.handleTopology("restart")},{key:"stop",type:"button",text:_.default.createElement(F.FormattedMessage,{id:"appOverview.btn.stop",defaultMessage:"\u505c\u6b62"}),show:a.status&&"CLOSED"!==a.status&&"STOPPING"!==a.status&&p,disabled:y,onClick:()=>this.handleTopology("stop")},{key:"delete",type:"button",text:_.default.createElement(F.FormattedMessage,{id:"appOverview.list.table.delete",defaultMessage:"\u5220\u9664"}),show:c,onClick:()=>this.toDelete()},{key:"batchOperation",type:"button",text:"\u6279\u91cf\u64cd\u4f5c",show:(u||p||m||c||h)&&t>0,onClick:()=>this.onShowComponentList()}],E=b.filter(e=>e.show);return this.renderOperations(E)}renderOperations(e){var t=[];if(e.length<=4)t=e.map((e,t)=>"button"===e.type?_.default.createElement(p.default,{type:0===t?"primary":"default",key:e.key,onClick:e.onClick,disabled:e.disabled,style:{marginRight:8}},e.text):_.default.createElement("span",{key:e.key,style:{marginLeft:8}},e.component));else{var a=e.slice(0,3),l=e.slice(3),n=_.default.createElement(h.default,null,l.map(e=>_.default.createElement(h.default.Item,{key:e.key,onClick:e.onClick,disabled:e.disabled},e.text)));t=[...a.map((e,t)=>"button"===e.type?_.default.createElement(p.default,{type:0===t?"primary":"default",key:e.key,onClick:e.onClick,disabled:e.disabled,style:{marginRight:8}},e.text):_.default.createElement("span",{key:e.key,style:{marginRight:8}},e.component)),_.default.createElement(u.default,{key:"more",overlay:n},_.default.createElement(p.default,null,(0,F.formatMessage)({id:"versionUpdata_6_2.more"})," ",_.default.createElement(m.default,{type:"down"})))]}return t}render(){var e=this.state,t=e.currApp,a=e.resources,l=e.promptModal,n=e.toEdit,u=e.rapidCopy,h=e.toDelete,f=e.toDeleteResource,g=e.resourceList,v=e.code,y=e.addComponentOrAppDetail,M=e.isExiting,S=e.customSwitch,k=e.toEditAppDirector,O=e.upgradableNumLoading,D=e.upgradableNum,H=e.storageUsed,q=this.props,U=q.deleteLoading,j=q.buildShapeLoading,K=q.editGroupLoading,G=q.groupDetail,X=q.permissions,W=X.componentPermissions.isEdit,Q=X.appPermissions,J=(Q.isAppOverview,Q.isAppRelease),Y=Q.isAppUpgrade,Z=Q.isAppGatewayMonitor,$=Q.isAppRouteManage,ee=Q.isAppTargetServices,te=Q.isAppCertificate,ae=Q.isAppResources,le=Q.isAppConfigGroup,ne=q.pluginsList,se={start:(0,F.formatMessage)({id:"appOverview.btn.start"}),restart:(0,F.formatMessage)({id:"appOverview.list.table.restart"}),stop:(0,F.formatMessage)({id:"appOverview.btn.stop"}),deploy:(0,F.formatMessage)({id:"appOverview.btn.build"}),upgrade:(0,F.formatMessage)({id:"appOverview.btn.update"})},ie=I.default.isInstallPlugin(ne,"rainbond-bill");return _.default.createElement("div",{className:V.default.container},_.default.createElement("div",{className:V.default.header_container},_.default.createElement("div",{className:V.default.header_left},_.default.createElement("div",{className:V.default.header_left_title},_.default.createElement("div",{className:V.default.header_left_title_icon},T.default.getSvg("apphome",22)),_.default.createElement("div",{className:V.default.header_left_title_name},t.group_name||"-"),W&&_.default.createElement(m.default,{style:{cursor:"pointer",marginLeft:"5px",marginRight:"12px"},onClick:this.toEdit,type:"edit"}),_.default.createElement(N.default,{AppStatus:a.status}),t.app_arch&&t.app_arch.length>0&&t.app_arch.map(e=>{return _.default.createElement(c.default,null,e)}))),_.default.createElement("div",{className:V.default.header_right},this.checkPermissions(),this.handleAdvancedSettings())),y&&_.default.createElement("div",{className:"".concat(V.default.content_container," ").concat(V.default.animatedContainer," ").concat(M?V.default.exit:""),style:{width:"100%",height:"calc(100vh - 60px)"}},_.default.createElement(p.default,{onClick:this.handleClose,style:{position:"absolute",top:12,right:6,zIndex:9999},type:"link"},_.default.createElement(m.default,{type:"close",style:{fontSize:20}})),"appDetail"===y&&_.default.createElement("div",{className:V.default.app_detail_container},_.default.createElement(r.default,null,_.default.createElement(d.default,{span:6},_.default.createElement("span",null,(0,F.formatMessage)({id:"appOverview.createTime"}),":"),_.default.createElement("span",null,t.create_time?(0,R.default)(t.create_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-")),_.default.createElement(d.default,{span:6},_.default.createElement("span",null,(0,F.formatMessage)({id:"appOverview.updateTime"}),":"),_.default.createElement("span",null,t.update_time?(0,R.default)(t.update_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-")),_.default.createElement(d.default,{span:6},_.default.createElement("span",null,(0,F.formatMessage)({id:"appOverview.govern"}),":"),_.default.createElement("span",null,!t.governance_mode||"BUILD_IN_SERVICE_MESH"!==t.governance_mode&&"KUBERNETES_NATIVE_SERVICE"!==t.governance_mode?t.governance_mode:C.default.fetchGovernanceMode(t.governance_mode)),t.governance_mode&&W&&_.default.createElement("a",{style:{marginLeft:"5px"},onClick:this.handleSwitch},(0,F.formatMessage)({id:"appOverview.btn.change"}))),_.default.createElement(d.default,{span:6},_.default.createElement("span",null,(0,F.formatMessage)({id:"appOverview.principal"}),":"),_.default.createElement("span",null,t.principal?_.default.createElement(o.default,{placement:"top",title:_.default.createElement("div",null,_.default.createElement("div",null,(0,F.formatMessage)({id:"appOverview.principal.username"}),t.username),_.default.createElement("div",null,(0,F.formatMessage)({id:"appOverview.principal.principal"}),t.principal),_.default.createElement("div",null,(0,F.formatMessage)({id:"appOverview.principal.email"}),t.email))},_.default.createElement("span",{style:{color:C.default.getPublicColor("rbd-sub-title-color")}},t.principal)):"-",W&&_.default.createElement(m.default,{style:{cursor:"pointer",marginLeft:"5px",color:C.default.getPublicColor()},onClick:this.handleToEditAppDirector,type:"edit"})))),_.default.createElement(i.default,{orientation:"left"}),_.default.createElement("div",{className:V.default.app_detail_container_row},_.default.createElement("div",null,_.default.createElement("div",null,(0,F.formatMessage)({id:"appOverview.memory"})),_.default.createElement("div",null,_.default.createElement("p",null,"".concat(a.memory<1024?a.memory:a.memory/1024),_.default.createElement("span",null,a.memory<1024?"MB":"GB")),_.default.createElement("div",{className:V.default.app_detail_container_row_memory_progress_img},_.default.createElement("svg",{t:"1743404046621",class:"icon",viewBox:"0 0 1152 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25308",width:"50",height:"50"},_.default.createElement("path",{d:"M1152.007931 191.991447V64.070516A60.464968 60.464968 0 0 0 1088.046966 0.10755H64.069516A60.464968 60.464968 0 0 0 0.10755 64.070516V191.990447H64.070516v63.961966H0.10755v703.914621a60.464968 60.464968 0 0 0 63.961966 63.960966h191.883897V895.907069h63.960965v127.921931h768.089588a60.464968 60.464968 0 0 0 63.960965-63.959966V255.952413h-63.960965V191.990447zM512.054275 959.996034h-63.961966V832.073103h63.961966v127.922931z m127.921931 0h-63.960965V832.073103h63.960965z m127.922932 0h-63.960966V832.073103h63.960966z m127.922931 0H831.860103V832.073103h63.961966z m0-255.844862h-639.869656a60.464968 60.464968 0 0 1-63.959966-63.960966V256.422412a60.464968 60.464968 0 0 1 63.959966-63.961965h640.039656a60.464968 60.464968 0 0 1 63.960965 63.961965V640.190206a60.464968 60.464968 0 0 1-63.959965 63.832966z m127.921931 255.844862h-63.960966V832.073103h63.960966z","p-id":"25309",fill:C.default.getPublicColor()}))))),_.default.createElement("div",null,_.default.createElement("div",null,(0,F.formatMessage)({id:"appOverview.cpu"})),_.default.createElement("div",null,_.default.createElement("p",null,a.cpu&&a.cpu/1e3||0,_.default.createElement("span",null,"Core")),_.default.createElement("div",{className:V.default.app_detail_container_row_cpu_progress_img},_.default.createElement("svg",{t:"1743403966601",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"22400",width:"50",height:"50"},_.default.createElement("path",{d:"M1024 339.2V256h-83.2V172.8c0-44.8-38.4-83.2-83.2-83.2H768V0h-83.2v83.2h-128V0H467.2v83.2h-128V0H256v83.2H172.8c-44.8 0-83.2 38.4-83.2 83.2V256H0v83.2h83.2v128H0v83.2h83.2v128H0V768h83.2v83.2c0 44.8 38.4 83.2 83.2 83.2H256V1024h83.2v-83.2h128V1024h83.2v-83.2h128V1024H768v-83.2h83.2c44.8 0 83.2-38.4 83.2-83.2V768H1024v-83.2h-83.2v-128H1024V467.2h-83.2v-128H1024z m-172.8 512H172.8V172.8h684.8v678.4h-6.4zM300.8 768h428.8c25.6 0 44.8-19.2 44.8-44.8V300.8c-6.4-25.6-25.6-44.8-51.2-44.8H300.8c-25.6 0-44.8 19.2-44.8 44.8v428.8c0 19.2 19.2 38.4 44.8 38.4z",fill:C.default.getPublicColor(),"p-id":"22401"}))))),_.default.createElement("div",null,_.default.createElement("div",null,(0,F.formatMessage)({id:"appOverview.disk"})),_.default.createElement("div",null,_.default.createElement("p",null,ie?"".concat(null===H||void 0===H?void 0:H.value).concat(null===H||void 0===H?void 0:H.unit):P.default.unit(a.disk||0,"KB")),_.default.createElement("div",{className:V.default.app_detail_container_row_disk_progress_img},_.default.createElement("svg",{t:"1743403446443",class:"icon",viewBox:"0 0 1335 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8371",width:"50",height:"50"},_.default.createElement("path",{d:"M250.434783 1024h834.782608C1223.546435 1024 1335.652174 909.401043 1335.652174 768H0C0 909.401043 112.105739 1024 250.434783 1024z m834.782608-170.651826h83.478261v85.303652h-83.478261v-85.303652zM1252.173913 0H83.478261L0 682.651826h1335.652174L1252.173913 0z",fill:C.default.getPublicColor(),"p-id":"8372"}))))),_.default.createElement("div",null,_.default.createElement("div",null,(0,F.formatMessage)({id:"appOverview.componentNum"})),_.default.createElement("div",null,_.default.createElement("p",null,t.service_num||0,_.default.createElement("span",null,"\u4e2a")),_.default.createElement("div",{className:V.default.app_detail_container_row_component_num_progress_img},_.default.createElement("svg",{t:"1743403832764",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"20375",width:"50",height:"50"},_.default.createElement("path",{d:"M914.5 653.5c-5.5 0-11 1.1-16 3.3l-0.2 0.1h-0.2L510.2 822.2 122.2 657h-0.2l-0.2-0.1c-5-2.1-10.3-3.3-16-3.3-23.1 0-41.8 19.3-41.8 43.1 0 18 10.7 33.3 25.8 39.8l403.9 172.1 0.4 0.1c10.2 4.4 21.8 4.4 32 0l0.2-0.1c0.1 0 0.1-0.1 0.2-0.1l403.9-172.1c15.1-6.5 25.8-21.8 25.8-39.8 0.1-23.8-18.6-43.1-41.7-43.1z m0-186.5c-7.9-0.2-16 3.2-16 3.2L510.2 635.6 121.8 470.2s-10.3-3.2-16-3.2C82.7 467 64 486.2 64 510c0 17.9 10.7 33.3 25.8 39.7l403.9 172c0.1 0 0.1 0.1 0.2 0.1l0.1 0.1c5 2.1 10.3 3.3 16 3.3 5.7 0 11.1-1.2 16-3.3l0.2-0.1c0.1 0 0.1 0 0.2-0.1l403.9-172c15.1-6.4 25.8-21.8 25.9-39.7 0.1-23.8-18.6-43-41.7-43zM89.8 363.2l403.9 172.1c0.1 0 0.1 0 0.2 0.1l0.1 0.1c5 2.1 10.3 3.2 16 3.2 5.5 0 10.9-1.1 16-3.2l0.2-0.1 0.2-0.1 403.9-172c15.1-6.5 25.8-21.8 25.9-39.7 0-18-10.7-33.3-25.8-39.8L526.5 111.6c-0.1 0-0.1 0-0.2-0.1l-0.2-0.1c-10.2-4.4-21.8-4.4-32 0l-0.1 0.1L89.8 283.7C74.7 290.1 64 305.5 64 323.5c0 17.9 10.7 33.2 25.8 39.7z",fill:C.default.getPublicColor(),"p-id":"20376"})))))),_.default.createElement(i.default,{orientation:"left"}),_.default.createElement("div",{className:V.default.app_resource_container},_.default.createElement("div",{onClick:()=>{ae&&this.handleJump("asset")}},_.default.createElement("p",null,(0,F.formatMessage)({id:"appOverview.k8s"})),_.default.createElement("h6",null,t.resources_num||0)),_.default.createElement("div",{onClick:()=>{J&&this.handleJump("publish")}},_.default.createElement("p",null,(0,F.formatMessage)({id:"appOverview.modelRelease"})),_.default.createElement("h6",null,t.share_num||0)),_.default.createElement("div",{onClick:()=>{(Z||$||ee||te)&&this.handleJump("gateway")}},_.default.createElement("p",null,(0,F.formatMessage)({id:"appOverview.gateway"})),_.default.createElement("h6",null,t.ingress_num||0)),_.default.createElement("div",{onClick:()=>{!O&&Y&&this.handleJump("upgrade")}},_.default.createElement("p",null,(0,F.formatMessage)({id:"appOverview.upgrade"})),_.default.createElement("h6",null,O?_.default.createElement(Spin,null):D)),_.default.createElement("div",{onClick:()=>{le&&this.handleJump("configgroups")}},_.default.createElement("p",null,(0,F.formatMessage)({id:"appOverview.config"})),_.default.createElement("h6",null,t.config_group_num||0)))),"addComponent"===y&&_.default.createElement("div",{className:V.default.add_component_container},_.default.createElement(L.default,{groupId:C.default.getAppID(),archInfo:t.app_arch,refreshCurrent:()=>{this.loading()},handleClose:this.handleClose}))),n&&_.default.createElement(b.default,{isAddGroup:!1,group_name:G.group_name,logo:G.logo,note:G.note,loading:K,k8s_app:G.k8s_app,title:(0,F.formatMessage)({id:"confirmModal.app.title.edit"}),onCancel:this.cancelEdit,onOk:this.handleEdit,isEditEnglishName:t.can_edit}),l&&_.default.createElement(s.default,{title:(0,F.formatMessage)({id:"confirmModal.friendly_reminder.title"}),confirmLoading:j,visible:l,onOk:this.handlePromptModalOpen,onCancel:this.handlePromptModalClose},_.default.createElement("p",null,(0,F.formatMessage)({id:"confirmModal.friendly_reminder.pages.desc"},{codeObj:se[v]}))),u&&_.default.createElement(A.default,{copyFlag:!0,on:this.handleCloseRapidCopy,onCancel:this.handleCloseRapidCopy,title:(0,F.formatMessage)({id:"confirmModal.app.title.copy"})}),h&&_.default.createElement(x.default,{onDelete:this.handleDelete,onCancel:this.cancelDelete,goBack:this.cancelDeleteResource,infoList:g,team_name:C.default.getCurrTeamName(),group_id:C.default.getAppID(),regionName:C.default.getCurrRegionName(),loading:U,isflag:f,desc:(0,F.formatMessage)({id:"confirmModal.app.delete.desc"}),subDesc:(0,F.formatMessage)({id:"confirmModal.delete.strategy.subDesc"})}),S&&_.default.createElement(E.default,{mode:t&&t.governance_mode,appID:C.default.getAppID(),onCancel:this.onCancel,onOk:this.fetchAppDetail}),k&&_.default.createElement(w.default,{teamName:C.default.getCurrTeamName(),regionName:C.default.getCurrRegionName(),group_name:G.group_name,note:G.note,loading:K,principal:t.username,onCancel:this.cancelEditAppDirector,onOk:this.handleEdit}),this.state.showComponentList&&_.default.createElement(B.default,{visible:this.state.showComponentList,onCancel:this.onHideComponentList,groupId:C.default.getAppID(),componentPermissions:this.state.permissions.componentPermissions,groups:this.props.groups}),this.state.showCreateComponentModal&&_.default.createElement(z.default,{visible:this.state.showCreateComponentModal,onCancel:this.handleCloseCreateComponentModal,dispatch:this.props.dispatch,currentEnterprise:this.props.currentEnterprise,rainbondInfo:this.props.rainbondInfo,currentUser:this.props.currUser,groups:this.props.groups}))}},g=v))||g);t.default=H},"6mLI":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("/xke");var i=l(a("TeRw"));a("+L6B");var r,o,d,c,u,p,m,h,f=l(a("2/Rp")),g=a("MuoO"),v=l(a("17x9")),y=n(a("q1tI")),_=a("LLXN"),b=l(a("0zE7")),E=a("xpXo"),w=l(a("9/bS")),C=l(a("J5jb")),M=l(a("QDog")),S=l(a("ym8O")),k=l(a("rIpq")),O=l(a("v10I")),x=l(a("zcww")),A=l(a("+iC2")),D=l(a("dL6S")),F=l(a("+y/a")),N=l(a("ye39")),T=l(a("ruXZ")),L=l(a("LrcT")),P=f.default.Group;r=(0,g.connect)(e=>{var t=e.user,a=e.appControl;return{currUser:t.currentUser,appDetail:a.appDetail}}),r((c=d=class extends y.PureComponent{constructor(e){super(e),this.showLogType=(()=>{return"ing"===this.state.status?"none":!1===this.state.opened?"none":""}),this.getSocketUrl=(()=>{var e=A.default.getTeamByTeamName(this.props.currUser,M.default.getCurrTeamName()),t=M.default.getCurrRegionName();if(e){var a=x.default.getRegionByName(e,t);if(a)return k.default.getEventWebSocketUrl(a)}return""}),this.onClose=(()=>{this.isDoing=!1}),this.onSuccess=(e=>{this.setState({resultStatus:"success"}),this.ref.querySelector(".actionresultcn").innerHTML=y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.LogItem.complete"})}),this.onTimeout=(e=>{this.setState({resultStatus:"timeout"}),this.ref.querySelector(".actionresultcn").innerHTML=y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.LogItem.timeout"}),this.ref.querySelector(".action-error-msg").innerHTML="(".concat(w.default.getFailMessage(e),")")}),this.onFail=(e=>{this.setState({resultStatus:"fail"}),this.ref.querySelector(".actionresultcn").innerHTML=y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.LogItem.fail"}),this.ref.querySelector(".action-error-msg").innerHTML="(".concat(w.default.getFailMessage(e),")")}),this.onComplete=(e=>{this.setState({status:""}),this.context.isActionIng(!1),this.close()}),this.open=(()=>{this.setState({opened:!0,logType:"info"},()=>{this.loadLog()})}),this.close=(()=>{this.setState({opened:!1})}),this.changeLogType=(e=>{e!==this.state.logType&&this.setState({logType:e,logs:[]},()=>{this.loadLog()})}),this.saveRef=(e=>{this.ref=e}),this.handleRollback=(()=>{this.context.appRolback(w.default.getRollbackVersion(this.props.data))}),this.state={status:"",resultStatus:"",opened:!1,logType:"info",logs:[]}}componentDidMount(){var e=this.props.data;e&&this.ref&&(this.ref.querySelector(".actioncn").innerHTML=w.default.getActionCN(e),w.default.isSuccess(e)&&this.onSuccess(),w.default.isFail(e)&&this.onFail(e),w.default.isTimeout(e)&&this.onTimeout(e),w.default.isActioning(e)&&(this.setState({status:"ing"}),this.ref.querySelector(".actionresultcn").innerHTML=y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.LogItem.hand"}),this.context.isActionIng(!0)),this.ref.querySelector(".action-user").innerHTML="@".concat(w.default.getActionUser(e)))}loadLog(){(0,E.getActionLogDetail)({app_alias:this.props.appAlias,level:this.state.logType,team_name:M.default.getCurrTeamName(),event_id:this.props.data.event_id}).then(e=>{e&&this.setState({logs:e.list||[]})})}createSocket(){var e=this.props.data,t=this.getSocketUrl();if(t){var a=C.default.isWebSocketOpen(t);a&&"through"===a&&(this.socket=new S.default({url:this.getSocketUrl(),eventId:e.event_id,onMessage:e=>{var t=this.state.logs;t.unshift(e),this.setState({logs:[].concat(t)})}}))}}getLogContHeight(){var e=this.state,t=e.status,a=e.opened;return"ing"!==t||a?a?"auto":0:15}getResultClass(){this.props.data;return"fail"===this.state.resultStatus?L.default.fail:"success"===this.state.resultStatus?L.default.success:""}render(){var e=this.state,t=e.status,a=e.opened,l=e.logType,n=e.logs,s=this.props.data;document.getElementById("box");return s?y.default.createElement("div",{ref:this.saveRef,className:"".concat(L.default.logItem," ").concat(this.getResultClass())},y.default.createElement("div",{className:L.default.logItemDate},y.default.createElement("span",{className:L.default.time},w.default.getActionTime(s)),y.default.createElement("span",{className:L.default.date},C.default.dateToCN(w.default.getActionDateTime(s),"yyyy-MM-dd"))),y.default.createElement("div",{className:L.default.logItemMain},y.default.createElement("div",{className:L.default.hd},y.default.createElement("label",{className:L.default.tit},y.default.createElement("span",{className:"actioncn"}),y.default.createElement("span",{className:"actionresultcn"}),y.default.createElement("span",{className:"action-error-msg"}),y.default.createElement("span",{className:"action-user"})),y.default.createElement("div",{className:L.default.btns},a?y.default.createElement("span",{onClick:this.close,className:L.default.btn},y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.LogItem.put"})):y.default.createElement("span",{onClick:this.open,className:L.default.btn},y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.LogItem.details"})))),w.default.isShowCommitInfo(s)?y.default.createElement("div",{className:L.default.codeVersion},y.default.createElement("div",{className:L.default.versionInfo},y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.LogItem.information"})," ",w.default.getCommitLog(s)),y.default.createElement("div",{className:L.default.versionAuthor},"#",w.default.getCodeVersion(s),"by ",w.default.getCommitUser(s))):"",y.default.createElement(P,{style:{display:this.showLogType()},size:"small",className:L.default.logTypeBtn},y.default.createElement(f.default,{onClick:()=>{this.changeLogType("info")},className:"info"===l?"active":"",type:"dashed"},y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.LogItem.info"})),y.default.createElement(f.default,{onClick:()=>{this.changeLogType("debug")},className:"debug"===l?"active":"",type:"dashed"},y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.LogItem.debug"})),y.default.createElement(f.default,{onClick:()=>{this.changeLogType("error")},className:"error"===l?"active":"",type:"dashed"},y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.LogItem.error"}))),y.default.createElement("div",{style:{height:this.getLogContHeight(),maxHeight:350,overflowY:"auto"},className:"".concat(L.default.logContent," logs-cont")},"ing"===t?y.default.createElement(b.default,{resover:!0,onClose:this.onClose,onComplete:this.onComplete,onSuccess:this.onSuccess,onTimeout:this.onTimeout,onFail:this.onFail,socketUrl:this.getSocketUrl(),eventId:s.event_id,opened:a,list:this.state.logs}):y.default.createElement("div",null,n&&n.length>0&&n.map((e,t)=>y.default.createElement("p",{key:t},y.default.createElement("span",{style:{marginRight:10}},C.default.format(e.time,"hh:mm:ss")),y.default.createElement("span",null,e.message))))))):null}},d.contextTypes={isActionIng:v.default.func,appRolback:v.default.func},o=c));var I=(u=(0,g.connect)(e=>{var t=e.user,a=e.appControl,l=e.teamControl;return{currUser:t.currentUser,appRequest:a.appRequest,appRequestRange:a.appRequestRange,requestTime:a.requestTime,requestTimeRange:a.requestTimeRange,appDisk:a.appDisk,appMemory:a.appMemory,pluginsList:l.pluginsList,appDetail:a.appDetail}},null,null,{withRef:!0}),u((h=m=class extends y.PureComponent{constructor(e){var t;super(e),t=this,this.load=(()=>{this.fetchPods(!0),this.fetchOperationLog(!0),this.getStorageUsed()}),this.closeTimer=(()=>{this.fetchOperationLogTimer&&clearInterval(this.fetchOperationLogTimer),this.fetchPodsTimer&&clearInterval(this.fetchPodsTimer)}),this.handleResourcesLoading=(()=>{this.setState({resourcesLoading:!1})}),this.fetchOperationLog=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.props.dispatch({type:"appControl/fetchOperationLog",payload:{team_name:M.default.getCurrTeamName(),app_alias:t.props.appAlias,target:"service",page:t.state.page,page_size:t.state.page_size},callback:l=>{l&&200===l.status_code&&t.setState({isopenLog:a,has_next:l.has_next||!1,logList:l.list||[],recordLoading:!1},()=>{e&&t.handleTimers("fetchOperationLogTimer",()=>{t.fetchOperationLog(!0)},5e3)})},handleError:e=>{t.handleError(e),t.handleTimers("fetchOperationLogTimer",()=>{t.fetchOperationLog(!0)},1e4)}})},this.handleError=(e=>{var t=this.state.componentTimers;if(!t)return null;e&&e.data&&e.data.msg_show&&i.default.warning({message:(0,_.formatMessage)({id:"notification.warn.error"}),description:e.data.msg_show})}),this.handleTimers=((e,t,a)=>{var l=this.state.componentTimers;if(!l)return null;this[e]=setTimeout(()=>{t()},a)}),this.handleNextPage=(()=>{this.setState({page:1,page_size:this.state.page_size*(this.state.page+1)},()=>{this.fetchOperationLog(!1)})}),this.handleRollback=(e=>{this.context.appRolback(e)}),this.onAction=(e=>{this.fetchOperationLog(!1),this.getVersionList()}),this.onLogPush=(e=>{this.fetchOperationLog(!1,e)}),this.handleDel=(e=>{this.props.dispatch({type:"appControl/delAppVersion",payload:{team_name:M.default.getCurrTeamName(),service_alias:this.props.appAlias,version_id:e.build_version},callback:e=>{e&&(i.default.success({message:(0,_.formatMessage)({id:"notification.success.delete"})}),this.getVersionList())}})}),this.onPageChange=(e=>{this.setState({pages:e},()=>{this.getVersionList()})}),this.onShowSizeChange=((e,t)=>{this.setState({pages:e,pageSize:t},()=>{this.getVersionList()})}),this.getVersionList=(e=>{var t=this.props,a=t.setShowUpgrade,l=t.appAlias,n=t.dispatch;e&&a();var s=this.state,i=s.pages,r=s.pageSize;n({type:"appControl/getAppVersionList",payload:{team_name:M.default.getCurrTeamName(),service_alias:l,page_num:i,page_size:r},callback:e=>{if(e&&e.bean&&e.list){var t=e.bean,a=e.list,l=e.total,n=void 0===l?0:l,s=null;a.length>0&&a.map(e=>{e.build_version===t.current_version&&(s=e)}),this.setState({current_version:t.current_version,beanData:s,dataList:a,total:n})}}})}),this.loadBuildSourceInfo=(()=>{var e=this.props.dispatch;e({type:"appControl/getAppBuidSource",payload:{team_name:M.default.getCurrTeamName(),service_alias:this.props.appAlias},callback:e=>{e&&this.setState({buildSource:e.bean&&e.bean.service_source&&e.bean.service_source})}})}),this.fetchPods=(e=>{var t=this.props,a=t.appAlias,l=t.dispatch;l({type:"appControl/fetchPods",payload:{team_name:M.default.getCurrTeamName(),app_alias:a},callback:t=>{t&&200===t.status_code&&this.setState({new_pods:t.list.new_pods,old_pods:t.list.old_pods,runLoading:!1},()=>{e&&this.handleTimers("fetchPodsTimer",()=>{this.fetchPods(!0)},5e3)})},handleError:e=>{this.handleError(e),this.handleTimers("fetchPodsTimer",()=>{this.fetchPods(!0)},1e4)}})}),this.handleMore=(e=>{this.setState({more:e})}),this.getStorageUsed=(()=>{var e,t=this.props,a=t.dispatch,l=t.appDetail;a({type:"global/fetchStorageUsed",payload:{service_id:null===l||void 0===l?void 0:null===(e=l.service)||void 0===e?void 0:e.service_id},callback:e=>{e&&this.setState({storageUsed:e.bean.used_storage})}})}),this.state={logList:[],recordLoading:!0,page:1,page_size:6,disk:0,memory:0,resourcesLoading:!0,beanData:null,dataList:[],runLoading:!0,new_pods:null,old_pods:null,more:!1,current_version:null,pages:1,pageSize:10,total:0,status:"",isopenLog:!1,buildSource:null,componentTimers:this.props.timers,storageUsed:{value:0,unit:"MB"}},this.inerval=5e3}componentDidMount(){this.mounted=!0,this.loadBuildSourceInfo(),this.fetchAppDiskAndMemory(),this.getVersionList(),this.load()}componentWillReceiveProps(e){var t=e.status,a=e.timers,l=this.props,n=l.status,s=l.timers;t!==n&&this.setState({status:t}),a!==s&&this.setState({componentTimers:a},()=>{a?this.load():this.closeTimer()})}componentWillUnmount(){this.mounted=!1,this.closeTimer()}fetchAppDiskAndMemory(){this.props.dispatch({type:"appControl/getAppResource",payload:{team_name:M.default.getCurrTeamName(),app_alias:this.props.appAlias},callback:e=>{e&&e.bean&&this.setState({disk:e.bean.disk||0,memory:e.bean.memory||0}),this.handleResourcesLoading()},handleError:e=>{this.handleResourcesLoading(),this.handleError(e)}})}getStartTime(){return(new Date).getTime()/1e3-3600}getStep(){return 60}render(){var e=this.props,t=e.status,a=e.componentPermissions,l=e.socket,n=e.appDetail,i=e.method,r=e.pluginsList,o=this.state,d=o.resourcesLoading,c=o.logList,u=o.memory,p=o.beanData,m=o.dataList,h=o.new_pods,f=o.old_pods,g=o.runLoading,v=o.more,b=o.disk,E=o.buildSource,w=o.isopenLog,C=o.recordLoading,M=o.has_next,S=o.current_version,k=o.pages,x=o.pageSize,A=o.total,L=o.storageUsed,P=O.default.isInstallPlugin(r,"rainbond-bill");return y.default.createElement(y.Fragment,null,y.default.createElement(D.default,{isThird:n&&n.is_third,buildSource:E,beanData:p,resourcesLoading:d,memory:u,disk:b,dataList:m,status:t,onPageChange:this.onPageChange,handleMore:this.handleMore,more:v,socket:l&&l,method:i,showStorageUsed:P,storageUsed:L}),v&&y.default.createElement(N.default,{componentPermissions:a,beanData:p,current_version:S,dataList:m,onPageChange:this.onPageChange,onShowSizeChange:this.onShowSizeChange,handleDel:this.handleDel,onRollback:this.handleRollback,socket:l&&l,pages:k,pageSize:x,total:A}),!v&&y.default.createElement(s.default,{loading:g,title:y.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.overview.instance.title"}),style:{margin:"20px 0",minHeight:"170px"},bodyStyle:{padding:"0",background:"#F0F2F5"}},y.default.createElement(T.default,{status:t,runLoading:g,new_pods:h,old_pods:f,appAlias:this.props.appAlias,socket:l&&l,podType:n&&n.service&&n.service.extend_method})),!v&&y.default.createElement(F.default,{socket:l&&l,isopenLog:w,onLogPush:this.onLogPush,has_next:M,logList:c,recordLoading:C,handleNextPage:this.handleNextPage}))}},m.contextTypes={isActionIng:v.default.func,appRolback:v.default.func},p=h))||p);t.default=I},"6rC9":function(e,t,a){e.exports={slidePanel:"slidePanel___qxnHp",visible:"visible___hvPtw",hidden:"hidden___31FwD"}},"760Q":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("y8nQ");var i,r,o,d=l(a("Vl3Y")),c=n(a("q1tI")),u=a("LLXN"),p=l(a("ll25")),m=d.default.Item,h=(i=d.default.create(),i((o=class extends c.PureComponent{constructor(){super(...arguments),this.onCancel=(()=>{this.props.onCancel()}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props.form;t.validateFields((e,t)=>{e||this.props.onSubmit(t)})})}render(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.actions,l=t.value;return c.default.createElement(s.default,{title:c.default.createElement(u.FormattedMessage,{id:"componentOverview.body.EditActions.edit"}),visible:!0,onOk:this.handleSubmit,maskClosable:!1,onCancel:this.onCancel},c.default.createElement(d.default,{onSubmit:this.handleSubmit},c.default.createElement(m,{label:""},e("perm_ids",{initialValue:l,rules:[{required:!0,message:(0,u.formatMessage)({id:"componentOverview.body.EditActions.not_yet"})}]})(c.default.createElement(p.default,{showGroupName:!1,hides:["".concat((0,u.formatMessage)({id:"componentOverview.body.EditActions.not_yet"}))],datas:a})))))}},r=o))||r);t.default=h},"86vh":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("IzEo");var i=l(a("bx4M"));a("g9YV");var r=l(a("wCAj"));a("y8nQ");var o=l(a("Vl3Y"));a("5NDa");var d=l(a("5rEg"));a("qVdP");var c=l(a("jsC+"));a("Pwec");var u=l(a("CtXQ"));a("lUTK");var p=l(a("BvKs"));a("P2fV");var m=l(a("NJEC"));a("+L6B");var h=l(a("2/Rp"));a("Awhp");var f=l(a("KrTs"));a("5Dmo");var g=l(a("3S7+"));a("/xke");var v,y,_,b=l(a("TeRw")),E=a("MuoO"),w=(a("7DNP"),l(a("wd/R"))),C=n(a("q1tI")),M=a("LLXN"),S=l(a("6JQQ")),k=l(a("movk")),O=(a("xpXo"),a("4/zt"),l(a("lpA0"))),x=l(a("8+Sn")),A=l(a("QDog")),D=l(a("VJda")),F=(v=(0,E.connect)(e=>{var t=e.global,a=e.loading;return{groups:t.groups,batchMoveLoading:a.effects["appControl/putBatchMove"],reStartLoading:a.effects["appControl/putReStart"],startLoading:a.effects["appControl/putStart"],stopLoading:a.effects["appControl/putStop"]}},null,null,{pure:!1}),v((_=class extends C.Component{constructor(e){super(e),this.onSelectChange=(e=>{this.setState({selectedRowKeys:e})}),this.updateApp=(()=>{this.timer&&clearInterval(this.timer),this.loadComponents();var e=this.props.clearTime;this.timer=setInterval(()=>{e||this.loadComponents()},5e3)}),this.loadComponents=(()=>{var e=this.props,t=e.dispatch,a=e.groupId,l=this.state,n=l.current,s=l.pageSize,i=l.query,r=l.sortValue,o=l.orderValue;t({type:"application/fetchApps",payload:{team_name:A.default.getCurrTeamName(),region_name:A.default.getCurrRegionName(),group_id:a,page:n,page_size:s,query:i,sort:r,order:o},callback:e=>{e&&200===e.status_code&&this.setState({apps:e.list||[],total:e.total||0,tableDataLoading:!1})}})}),this.deleteData=(()=>{var e=this.props,t=e.dispatch,a=e.groupId,l=this.state,n=l.current,s=l.pageSize,i=l.query;t({type:"application/fetchApps",payload:{team_name:A.default.getCurrTeamName(),region_name:A.default.getCurrRegionName(),group_id:a,page:n,page_size:s,query:i},callback:e=>{e&&200===e.status_code&&this.setState({apps:e.list||[],total:e.total||0},()=>{this.handleBatchDeletes(),this.hideMoveGroup()})}})}),this.handleOperation=((e,t)=>{var a=this.props.dispatch,l={putReStart:(0,M.formatMessage)({id:"notification.hint.component.putReStart"}),putStart:(0,M.formatMessage)({id:"notification.hint.component.putStart"}),putStop:(0,M.formatMessage)({id:"notification.hint.component.putStop"})};a({type:"appControl/".concat(e),payload:{team_name:A.default.getCurrTeamName(),app_alias:t.service_alias},callback:t=>{t&&b.default.success({message:l[e]})},handleError:e=>{b.default.error({message:e.data.msg_show})}})}),this.handleOperationState=(e=>{this.setState({operationState:e})}),this.handleBatchOperation=(e=>{var t=this.props.dispatch,a=this.getSelectedKeys(),l={stop:(0,M.formatMessage)({id:"notification.hint.component.putBatchStop"}),start:(0,M.formatMessage)({id:"notification.hint.component.putBatchStart"}),restart:(0,M.formatMessage)({id:"notification.hint.component.putBatchRestart"}),upgrade:(0,M.formatMessage)({id:"notification.hint.component.putBatchUpgrade"}),deploy:(0,M.formatMessage)({id:"notification.hint.component.putBatchDeploy"})};t({type:"appControl/batchOperation",payload:{action:e,team_name:A.default.getCurrTeamName(),serviceIds:a&&a.join(",")},callback:t=>{this.handleOperationState(!1),t&&l[e]&&b.default.success({message:l[e]})},handleError:e=>{b.default.error({message:e.data.msg_show})}})}),this.handleBatchDelete=(()=>{var e=this.getSelected();this.setState({batchDeleteApps:e,batchDeleteShow:!0})}),this.hideBatchDelete=(()=>{this.deleteData(),this.updateGroupMenu()}),this.handleBatchDeletes=(()=>{this.setState({batchDeleteApps:[],batchDeleteShow:!1,selectedRowKeys:[]})}),this.updateGroupMenu=(()=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:A.default.getCurrTeamName(),region_name:A.default.getCurrRegionName()}})}),this.handleBatchMove=(e=>{var t=this.getSelectedKeys(),a=this.props.dispatch;a({type:"appControl/putBatchMove",payload:{team_name:A.default.getCurrTeamName(),serviceIds:t.join(","),move_group_id:e},callback:e=>{e&&(b.default.success({message:(0,M.formatMessage)({id:"notification.hint.component.putBatchMove"})}),this.hideBatchDelete())}})}),this.hideMoveGroup=(()=>{this.setState({moveGroupShow:!1})}),this.showBatchMove=(()=>{this.setState({moveGroupShow:!0})}),this.CanBatchOperation=(()=>{var e=this.getSelected();return e&&e.length>0}),this.handelChange=(e=>{this.setState({changeQuery:e.target.value})}),this.handleSearch=(()=>{this.setState({tableDataLoading:!0,current:1,query:this.state.changeQuery},()=>{this.updateApp()})}),this.handleTableChange=((e,t,a)=>{a&&a.field&&"status_cn"==a.field?this.setState({sortValue:1,orderValue:a.order,tableDataLoading:!0},()=>{this.loadComponents()}):a&&a.field&&"min_memory"==a.field?this.setState({sortValue:2,orderValue:a.order,tableDataLoading:!0},()=>{this.loadComponents()}):a&&a.field&&"update_time"==a.field?this.setState({sortValue:3,orderValue:a.order,tableDataLoading:!0},()=>{this.loadComponents()}):this.setState({sortValue:1,orderValue:"descend",tableDataLoading:!0},()=>{this.loadComponents()})}),this.titleCase=(e=>{e=e.toLowerCase();for(var t=e.split(" "),a=0;a<t.length;a++)t[a]=t[a].substring(0,1).toUpperCase()+t[a].substring(1);return t.join(" ")}),this.state={selectedRowKeys:[],apps:[],current:1,total:0,pageSize:10,moveGroupShow:!1,batchDeleteApps:[],batchDeleteShow:!1,operationState:!1,query:"",changeQuery:"",tableDataLoading:!0,sortValue:1,orderValue:"descend",language:"zh-CN"===x.default.get("language")}}componentDidMount(){this.props.visible&&this.updateApp()}componentDidUpdate(e){this.props.visible&&!e.visible&&this.updateApp()}shouldComponentUpdate(){return!0}componentWillUnmount(){clearInterval(this.timer),this.props.dispatch({type:"application/clearApps"})}getSelectedKeys(){var e=this.getSelected();return e.map(e=>e.service_id)}getSelected(){var e=this.state,t=e.selectedRowKeys,a=e.apps,l=[];return t.map(e=>{a.map(t=>{e==t.service_id&&l.push(t)})}),l}render(){var e=this.props,t=e.visible,a=e.onCancel,l=e.componentPermissions;l=void 0===l?{}:l;var n=l.isStart,v=l.isStop,y=l.isDelete,_=l.isEdit,b=l.isUpdate,E=l.isConstruct,x=(e.componentPermissions,e.batchMoveLoading),A=e.reStartLoading,F=e.startLoading,N=e.stopLoading,T=e.groupId,L=e.groups,P=this.state,I=P.selectedRowKeys,R=P.current,V=P.total,B=P.apps,z=P.pageSize,H=P.batchDeleteShow,q=P.batchDeleteApps,U=P.moveGroupShow,j=P.operationState,K=P.tableDataLoading,G=P.language,X={selectedRowKeys:I,onChange:this.onSelectChange},W={showQuickJumper:!0,showTotal:e=>"".concat(G?"\u5171 ".concat(e," \u6761"):"Total ".concat(e," items")),pageSize:z,current:R,total:V,showSizeChanger:!0,onChange:e=>{this.setState({current:e,selectedRowKeys:[]},()=>{this.loadComponents()})},onShowSizeChange:(e,t)=>{this.setState({current:e,pageSize:t},()=>{this.loadComponents()})}},Q=[{title:(0,M.formatMessage)({id:"appOverview.list.table.btn.name"}),dataIndex:"service_cname",render:(e,t)=>C.default.createElement("span",null,t.service_source&&"third_party"===t.service_source?C.default.createElement("span",null,C.default.createElement(g.default,{title:(0,M.formatMessage)({id:"appOverview.list.table.btn.third_party"})},C.default.createElement("span",{style:{borderRadius:"50%",height:"20px",width:"20px",display:"inline-block",background:"#1890ff",verticalAlign:"top",marginRight:"3px"}},C.default.createElement("span",{style:{display:"block",color:"#FFFFFF",height:"20px",lineHeight:"20px",textAlign:"center"}},"3")),e)):C.default.createElement("span",null,e)," ")},{title:(0,M.formatMessage)({id:"appOverview.list.table.memory"}),dataIndex:"min_memory",sorter:!0,render:(e,t)=>C.default.createElement("span",null,t.service_source&&"third_party"===t.service_source?"-":"".concat(e,"MB"))},{title:(0,M.formatMessage)({id:"appOverview.list.table.status"}),dataIndex:G?"status_cn":"status",sorter:!0,render:(e,t)=>t.service_source&&"third_party"===t.service_source?C.default.createElement(f.default,{status:O.default.appStatusToBadgeStatus(t.status),text:"\u8fd0\u884c\u4e2d"===e?this.titleCase((0,M.formatMessage)({id:"status.component.health"})):"\u8fd0\u884c\u5f02\u5e38"===e?this.titleCase((0,M.formatMessage)({id:"status.component.not_health"})):"\u5df2\u5173\u95ed"===e?this.titleCase((0,M.formatMessage)({id:"status.component.off_line"})):this.titleCase(e)}):C.default.createElement(f.default,{status:O.default.appStatusToBadgeStatus(t.status),text:this.titleCase(e)})},{title:(0,M.formatMessage)({id:"appOverview.list.table.updateTime"}),dataIndex:"update_time",sorter:!0,render:e=>(0,w.default)(e).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss")},{title:(0,M.formatMessage)({id:"appOverview.list.table.operate"}),dataIndex:"action",render:(e,t)=>C.default.createElement(C.Fragment,null,t.service_source&&"third_party"!==t.service_source&&C.default.createElement(C.Fragment,null,b&&C.default.createElement(m.default,{title:(0,M.formatMessage)({id:"confirmModal.component.restart.title"}),onConfirm:()=>{this.handleOperation("putReStart",t)}},C.default.createElement(h.default,{type:"link"},(0,M.formatMessage)({id:"appOverview.list.table.restart"}))),n&&C.default.createElement(m.default,{title:(0,M.formatMessage)({id:"confirmModal.component.start.title"}),onConfirm:()=>{this.handleOperation("putStart",t)}},C.default.createElement(h.default,{type:"link"},(0,M.formatMessage)({id:"appOverview.list.table.start"}))),v&&C.default.createElement(m.default,{title:(0,M.formatMessage)({id:"confirmModal.component.stop.title"}),onConfirm:()=>{this.handleOperation("putStop",t)}},C.default.createElement(h.default,{type:"link"},(0,M.formatMessage)({id:"appOverview.btn.stop"})))))}],J=[{permissions:E,name:(0,M.formatMessage)({id:"appOverview.btn.build"}),action:"deploy"},{permissions:b,name:(0,M.formatMessage)({id:"appOverview.btn.update"}),action:"upgrade"},{permissions:b,name:(0,M.formatMessage)({id:"appOverview.list.table.restart"}),action:"restart"},{permissions:v,name:(0,M.formatMessage)({id:"appOverview.btn.stop"}),action:"stop"},{permissions:n,name:(0,M.formatMessage)({id:"appOverview.list.table.start"}),action:"start"},{permissions:_,name:(0,M.formatMessage)({id:"appOverview.list.table.move"}),action:!1,customMethods:this.showBatchMove},{permissions:y,name:(0,M.formatMessage)({id:"appOverview.list.table.delete"}),action:!1,customMethods:this.handleBatchDelete}],Y=C.default.createElement(p.default,null,J.map(e=>{var t=e.permissions,a=e.name,l=e.action,n=e.customMethods;return t&&C.default.createElement(p.default.Item,{style:{textAlign:"center"}},C.default.createElement("a",{loading:j===l&&j,onClick:()=>{l?(this.handleOperationState(l),this.handleBatchOperation(l)):n()}},a))})),Z=C.default.createElement("div",{className:D.default.tableList},C.default.createElement("div",{className:D.default.tableListOperator},C.default.createElement(c.default,{overlay:Y,trigger:["click"],placement:"topCenter",disabled:!this.CanBatchOperation()},C.default.createElement(h.default,{style:{padding:"8px 16px"}},(0,M.formatMessage)({id:"appOverview.list.table.batchOperate"})," ",C.default.createElement(u.default,{type:"down"})))));return C.default.createElement(s.default,{title:"\u7ec4\u4ef6\u6279\u91cf\u64cd\u4f5c",visible:t,onCancel:a,footer:null,width:1200,destroyOnClose:!0},C.default.createElement("div",{className:D.default.container},C.default.createElement(i.default,{style:{minHeight:400},bordered:!1,bodyStyle:{padding:"10px 10px"}},C.default.createElement(o.default,{layout:"inline",style:{marginBottom:"10px"}},C.default.createElement(o.default.Item,null,C.default.createElement(d.default,{style:{width:250},placeholder:(0,M.formatMessage)({id:"appOverview.list.input.seach.hint"}),onChange:this.handelChange,onPressEnter:this.handleSearch})),C.default.createElement(o.default.Item,null,C.default.createElement(h.default,{type:"primary",onClick:this.handleSearch,icon:"search"},(0,M.formatMessage)({id:"appOverview.list.btn.seach"})))),C.default.createElement("div",{className:D.default.list},C.default.createElement(r.default,{pagination:W,rowSelection:X,onChange:this.handleTableChange,columns:Q,loading:A||F||N||K,dataSource:B||[],rowKey:e=>e.service_id}),Z),H&&C.default.createElement(k.default,{batchDeleteApps:q,onCancel:this.hideBatchDelete,onOk:this.hideBatchDelete}),U&&C.default.createElement(S.default,{loading:x,currGroupID:T,groups:L,onOk:this.handleBatchMove,onCancel:this.hideMoveGroup}))))}},y=_))||y);t.default=F},"8Drs":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M"));a("+L6B");var s=l(a("2/Rp"));a("/xke");var i=l(a("TeRw")),r=l(a("p0pE"));a("y8nQ");var o,d,c,u,p=l(a("Vl3Y")),m=a("MuoO"),h=l(a("q1tI")),f=a("LLXN"),g=l(a("CQXj")),v=l(a("QDog")),y=l(a("Bg2k")),_=(o=(0,m.connect)(e=>{var t=e.user,a=e.appControl,l=e.teamControl;return{currUser:t.currentUser,innerEnvs:a.innerEnvs,startProbe:a.startProbe,runningProbe:a.runningProbe,ports:a.ports,baseInfo:a.baseInfo,appDetail:a.appDetail,teamControl:l,appControl:a}},null,null,{withRef:!0}),d=p.default.create(),o(c=d((u=class extends h.default.Component{constructor(e){super(e),this.handleParameter=(()=>{return{team_name:v.default.getCurrTeamName(),app_alias:this.props.appAlias}}),this.handleGetList=(()=>{var e=this.props.dispatch;e({type:"appControl/getInstanceList",payload:this.handleParameter(),callback:e=>{this.setState({list:e&&e.list||[],loading:!1})}})}),this.fetchInterface=(e=>{var t=this.props.dispatch;t({type:e,payload:this.handleParameter()})}),this.fetchBaseInfo=(()=>{this.fetchInterface("appControl/fetchBaseInfo")}),this.fetchPorts=(()=>{this.fetchInterface("appControl/fetchPorts")}),this.fetchTags=(()=>{this.fetchInterface("appControl/fetchTags")}),this.handleSubmitEdit=(e=>{this.setState({healthCheckLoading:!0});var t=this.props,a=t.startProbe,l=t.dispatch;l({type:"appControl/editStartProbe",payload:(0,r.default)({},this.handleParameter(),e,{old_mode:a.mode}),callback:e=>{this.handleCancel(),this.fetchStartProbe(),e&&e.status_code&&200===e.status_code&&i.default.info({message:(0,f.formatMessage)({id:"notification.hint.need_updata"})})}})}),this.handleCancel=(()=>{this.setState({showHealth:!1,healthCheckLoading:!1})}),this.openCancel=(()=>{this.setState({showHealth:!0})}),this.handleState=(()=>{var e=this.state.list||[{status:"-"}],t=0,a=0,l=0,n="";return e.map(e=>{var s=e.status;return"healthy"==s?t++:"unhealthy"==s?a++:"Unknown"==s||"unknown"==s?l++:n="-",e}),0!=t&&0==a&&0===l&&0===l&&""==n?h.default.createElement("span",null,"(",h.default.createElement("span",{style:{color:"green"}},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.Members.health"})),")"):0==t||0==a&&0==l?0==t&&0!=a&&0==l&&""==n?h.default.createElement("span",null,"(",h.default.createElement("span",{style:{color:"red"}},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.Members.unhealth"})),")"):0==t&&0==a&&0!=l&&""==n?h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.Members.unknown"}):"(-)":h.default.createElement("span",null,"(",h.default.createElement("span",{style:{color:"green"}},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.Members.partial_health"})),")")}),this.handleStartProbeStart=(e=>{var t=this.props,a=t.startProbe,l=t.dispatch;l({type:"appControl/editStartProbe",payload:(0,r.default)({},this.handleParameter(),a,{is_used:e}),callback:e=>{e&&e.status_code&&200===e.status_code&&i.default.info({message:(0,f.formatMessage)({id:"notification.hint.need_updata"})}),this.fetchStartProbe()}})}),this.state={showHealth:!1,loading:!0,list:[]}}componentDidMount(){this.props.dispatch({type:"teamControl/fetchAllPerm"}),this.fetchStartProbe(),this.fetchPorts(),this.fetchBaseInfo(),this.fetchTags(),this.handleGetList()}fetchStartProbe(){this.fetchInterface("appControl/fetchStartProbe")}render(){var e=this.props,t=e.baseInfo,a=e.startProbe,l=e.ports;if("boolean"!==typeof t.build_upgrade)return null;var i=this.state,r=i.showHealth,o=i.loading,d=i.healthCheckLoading,c={readiness:(0,f.formatMessage)({id:"componentOverview.body.Members.offline"}),liveness:(0,f.formatMessage)({id:"componentOverview.body.Members.restart"})},u="{}"!=JSON.stringify(a),p={width:"33%",textAlign:"center"};return h.default.createElement("div",null,a&&h.default.createElement(n.default,{loading:o,title:h.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.setting.health"}),h.default.createElement("div",null,a&&h.default.createElement(s.default,{style:{marginRight:"5px",fontSize:"14px",fontWeight:400},onClick:()=>{this.openCancel()},icon:"form"},u?h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.setting.edit"}):h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.setting.set"})),u&&g.default.isStartProbeStart(a)?h.default.createElement("a",{onClick:()=>{this.handleStartProbeStart(!1)},style:{marginRight:"5px",fontSize:"14px",fontWeight:400},href:"javascript:;"},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.setting.Disable"})):u&&h.default.createElement("a",{onClick:()=>{this.handleStartProbeStart(!0)},style:{marginRight:"5px",fontSize:"14px",fontWeight:400},href:"javascript:;"},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.setting.Enable"}))))},a&&h.default.createElement("div",{style:{display:"flex"}},h.default.createElement("div",{style:p},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.setting.state"}),this.handleState()),h.default.createElement("div",{style:p},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.setting.method"}),a.scheme||h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.setting.Not_set"})),h.default.createElement("div",{style:p},h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.setting.unhealth"}),c[a.mode]||h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.setting.Not_set"})))),r&&h.default.createElement(y.default,{title:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.setting.health"}),types:"third",ports:l,loading:d,data:a,onOk:this.handleSubmitEdit,onCancel:this.handleCancel}))}},c=u))||c)||c);t.default=_},"8N5S":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5Dmo");var s=l(a("3S7+"));a("IzEo");var i=l(a("bx4M"));a("g9YV");var r=l(a("wCAj"));a("+L6B");var o=l(a("2/Rp"));a("Pwec");var d=l(a("CtXQ"));a("14J3");var c=l(a("BMrR"));a("jCWc");var u=l(a("kPKH"));a("fOrg");var p=l(a("+KLJ"));a("/xke");var m,h,f,g=l(a("TeRw")),v=l(a("p0pE")),y=a("MuoO"),_=a("7DNP"),b=n(a("q1tI")),E=l(a("Zxzx")),w=l(a("7C1b")),C=l(a("q76B")),M=l(a("cUW5")),S=l(a("gOyy")),k=l(a("KSU3")),O=l(a("puxM")),x=a("xpXo"),A=l(a("QDog")),D=a("+n12"),F=a("LLXN"),N=l(a("8+Sn")),T=(m=(0,y.connect)(e=>{var t=e.user,a=e.appControl;return{currUser:t.currentUser,volumes:a.volumes,appBaseInfo:a.baseInfo,appDetail:a.appDetail}},null,null,{withRef:!0}),m((f=class extends b.PureComponent{constructor(e){super(e),this.onDeleteMnt=(e=>{this.setState({toDeleteMnt:e})}),this.onDeleteVolume=(e=>{this.setState({toDeleteVolume:e})}),this.onEditVolume=(e=>{this.setState({showAddVar:e,editor:e})}),this.onCancelDeleteVolume=(()=>{this.setState({toDeleteVolume:null})}),this.getVolumeTypeShowName=(e=>{var t=this.state,a=t.volumeOpts,l=t.language;return(0,D.getVolumeTypeShowName)(a,e,l)}),this.handleOpenRelyComponent=(e=>{this.setState({relyComponent:!0,relyComponentList:e})}),this.handleCloseRelyComponent=(()=>{this.setState({relyComponent:!1,relyComponentList:[]})}),this.fetchVolumes=(()=>{this.props.dispatch({type:"appControl/fetchVolumes",payload:{team_name:A.default.getCurrTeamName(),app_alias:this.props.appAlias,is_config:!1}})}),this.fetchVolumeOpts=(()=>{this.props.dispatch({type:"appControl/fetchVolumeOpts",payload:{team_name:A.default.getCurrTeamName(),app_alias:this.props.appAlias},callback:e=>{e&&this.setState({volumeOpts:e.list||[]})}})}),this.fetchBaseInfo=(()=>{var e=this.props.dispatch;e({type:"appControl/fetchBaseInfo",payload:{team_name:A.default.getCurrTeamName(),app_alias:this.props.appAlias}})}),this.loadMntList=(()=>{var e=this.state,t=e.mntPage,a=e.mntPageSize;e.mntTotal;(0,x.getMnt)({team_name:A.default.getCurrTeamName(),app_alias:this.props.appAlias,page:t,page_size:a,volume_type:["share-file","memoryfs","local"],type:"mnt"}).then(e=>{e&&this.setState({mntList:e.list||[],mntTotal:e.total||0})})}),this.handleAddVar=(()=>{this.setState({showAddVar:{new:!0}})}),this.handleCancelAddVar=(()=>{this.setState({showAddVar:null,editor:null})}),this.handleSubmitAddVar=(e=>{this.fetchBaseInfo();var t=this.state.editor;t?this.props.dispatch({type:"appControl/editorVolume",payload:{team_name:A.default.getCurrTeamName(),app_alias:this.props.appAlias,new_volume_path:e.volume_path,new_file_content:e.file_content,ID:t.ID},callback:()=>{this.fetchVolumes(),this.handleCancelAddVar(),this.props.onshowRestartTips(!0),this.remindInfo()}}):this.props.dispatch({type:"appControl/addVolume",payload:(0,v.default)({team_name:A.default.getCurrTeamName(),app_alias:this.props.appAlias},e),callback:()=>{this.fetchVolumes(),this.handleCancelAddVar(),this.props.onshowRestartTips(!0),this.remindInfo()}})}),this.remindInfo=(()=>{var e=this.props.appBaseInfo;e&&e.extend_method&&A.default.isStateComponent(e.extend_method)?g.default.warning({message:b.default.createElement("div",null,(0,F.formatMessage)({id:"notification.warn.state"}),b.default.createElement("br",null),(0,F.formatMessage)({id:"notification.warn.restart"}))}):g.default.success({message:(0,F.formatMessage)({id:"notification.success.succeeded"})})}),this.showAddRelation=(()=>{this.loadMntList(),this.setState({showAddRelation:!0})}),this.handleCancelAddRelation=(()=>{this.loadMntList(),this.setState({showAddRelation:!1})}),this.handleSubmitAddMnt=(e=>{(0,x.addMnt)({team_name:A.default.getCurrTeamName(),app_alias:this.props.appAlias,body:e}).then(e=>{e&&(this.handleCancelAddRelation(),g.default.success({message:(0,F.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0))})}),this.handleDeleteVolume=(()=>{this.props.dispatch({type:"appControl/deleteVolume",payload:{team_name:A.default.getCurrTeamName(),app_alias:this.props.appAlias,volume_id:this.state.toDeleteVolume.ID},callback:()=>{this.onCancelDeleteVolume(),this.fetchVolumes(),g.default.success({message:(0,F.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0)}})}),this.handleDeleteMnt=(()=>{this.props.dispatch({type:"appControl/deleteMnt",payload:{team_name:A.default.getCurrTeamName(),app_alias:this.props.appAlias,dep_vol_id:this.state.toDeleteMnt.dep_vol_id},callback:()=>{this.cancelDeleteMnt(),this.loadMntList(),g.default.success({message:(0,F.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0)}})}),this.cancelDeleteMnt=(()=>{this.setState({toDeleteMnt:null})}),this.handleMountFormat=(e=>{var t={"/lun":"LUN","/disk":"\u78c1\u76d8","/cdrom":"\u5149\u76d8","/filesystems":"\u6587\u4ef6\u7cfb\u7edf"};return t[e]||"-"}),this.onPageChange=((e,t)=>{this.setState({page:e,pageSize:t})}),this.onMntPageChange=((e,t)=>{this.setState({mntPage:e,mntPageSize:t})}),this.DirectoryPersistenceShow=(e=>{var t=this.state.volumesArr;t&&t.map(t=>{t.volume_name==e.volume_name&&this.setState({hostPath:t.volume_path,volumeName:t.volume_name})}),this.setState({DirectoryPersistenceShow:!this.state.DirectoryPersistenceShow,volume_path:e.volume_path,hostPath:e.volume_path,isType:"alicloud-disk-efficiency"==e.volume_type})}),this.state={showAddVar:null,showAddRelation:!1,mntList:[],toDeleteMnt:null,toDeleteVolume:null,editor:null,volumeOpts:[],relyComponent:!1,relyComponentList:[],page:1,pageSize:5,mntPage:1,mntPageSize:5,mntTotal:0,DirectoryPersistenceShow:!1,language:"zh-CN"===N.default.get("language")}}componentDidMount(){this.fetchVolumeOpts(),this.loadMntList(),this.fetchVolumes(),this.fetchBaseInfo()}canView(){var e=this.props.componentPermissions.isStorage;return e}render(){var e,t,a=this.state,l=a.mntList,n=a.relyComponent,m=a.relyComponentList,h=a.DirectoryPersistenceShow,f=a.volume_path,g=a.hostPath,v=(a.isType,a.volumeName),y=this.props,x=y.volumes,D=y.method,N=y.appDetail;if(!this.canView())return b.default.createElement(M.default,null);var T=[{title:(0,F.formatMessage)({id:"Vm.createVm.Storagename"}),dataIndex:"volume_name"},{title:(0,F.formatMessage)({id:"Vm.createVm.Storagetype"}),dataIndex:"volume_path",render:(e,t)=>{return b.default.createElement("span",null,this.handleMountFormat(e))}},{title:(0,F.formatMessage)({id:"Vm.createVm.capacity"}),dataIndex:"volume_capacity",render:(e,t)=>{return 0==e?b.default.createElement("span",null,(0,F.formatMessage)({id:"appOverview.no_limit"})):b.default.createElement("span",null,e,"GB")}},{title:(0,F.formatMessage)({id:"Vm.createVm.status"}),dataIndex:"status",render:(e,t)=>{return"not_bound"==e?b.default.createElement("span",{style:{color:"red"}},(0,F.formatMessage)({id:"status.not_mount"})):b.default.createElement("span",{style:{color:"green"}},(0,F.formatMessage)({id:"status.mounted"}))}},{title:(0,F.formatMessage)({id:"Vm.createVm.handle"}),dataIndex:"action",render:(e,t)=>{return b.default.createElement("div",null,b.default.createElement("a",{onClick:()=>{this.onDeleteVolume(t)},href:"javascript:;"},(0,F.formatMessage)({id:"componentOverview.body.mnt.deldete"})),b.default.createElement("a",{onClick:()=>{this.onEditVolume(t)},href:"javascript:;"},(0,F.formatMessage)({id:"componentOverview.body.mnt.edit"})))}}];return b.default.createElement(b.Fragment,null,b.default.createElement(c.default,null,b.default.createElement(u.default,{span:12},b.default.createElement(p.default,{showIcon:!0,message:(0,F.formatMessage)({id:"componentOverview.body.mnt.Alert.message"}),type:"info",style:{marginBottom:24}}))),"vm"!=D?b.default.createElement(i.default,{style:{marginBottom:24},title:b.default.createElement("span",null,"  ",(0,F.formatMessage)({id:"componentOverview.body.mnt.save_setting"})),extra:b.default.createElement(o.default,{onClick:this.handleAddVar},b.default.createElement(d.default,{type:"plus"}),(0,F.formatMessage)({id:"componentOverview.body.mnt.add_storage"}))},b.default.createElement(O.default,{sm:650},b.default.createElement(r.default,{pagination:{current:this.state.page,pageSize:this.state.pageSize,total:Number(x.length),onChange:this.onPageChange,onShowSizeChange:this.onPageChange,showQuickJumper:!0,showSizeChanger:!0,showTotal:e=>"\u5171 ".concat(e," \u6761"),pageSizeOptions:["5","10","20","30"],hideOnSinglePage:Number(x.length)<=5},rowKey:(e,t)=>t,columns:[{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.volume_name"}),dataIndex:"volume_name",render:(e,t)=>{return b.default.createElement("span",{style:{cursor:"pointer",color:t.dep_services&&"#1890ff"},onClick:()=>{t.dep_services&&this.handleOpenRelyComponent(t.dep_services)}},e)}},{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.volume_path"}),dataIndex:"volume_path"},{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.volume_type"}),dataIndex:"volume_type",render:e=>{return b.default.createElement("span",null,this.getVolumeTypeShowName(e))}},{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.volume_capacity"}),dataIndex:"volume_capacity",render:e=>{return 0==e?b.default.createElement("span",null,(0,F.formatMessage)({id:"componentOverview.body.mnt.unlimited"})):b.default.createElement("span",null,e,"GB")}},{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.status"}),dataIndex:"status",render:e=>{return"not_bound"==e?b.default.createElement("span",{style:{color:"red"}},(0,F.formatMessage)({id:"componentOverview.body.mnt.unmounted"})):b.default.createElement("span",{style:{color:"green"}},(0,F.formatMessage)({id:"componentOverview.body.mnt.mounted"}))}},{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.action"}),dataIndex:"action",render:(e,t)=>b.default.createElement("div",null,b.default.createElement("a",{onClick:()=>{this.onDeleteVolume(t)},href:"javascript:;"},(0,F.formatMessage)({id:"componentOverview.body.mnt.deldete"})),b.default.createElement("a",{onClick:()=>{this.onEditVolume(t)},href:"javascript:;"},(0,F.formatMessage)({id:"componentOverview.body.mnt.edit"})),"not_bound"!=t.status&&"nfs"!=t.volume_type&&b.default.createElement("a",{onClick:()=>this.DirectoryPersistenceShow(t),href:"javascript:;"},(0,F.formatMessage)({id:"componentOverview.body.DirectoryPersistence.file"})))}],dataSource:x}))):b.default.createElement(i.default,{style:{marginBottom:24},title:b.default.createElement("span",null,"  ",(0,F.formatMessage)({id:"componentOverview.body.mnt.save_setting"})),extra:b.default.createElement(o.default,{onClick:this.handleAddVar},b.default.createElement(d.default,{type:"plus"}),(0,F.formatMessage)({id:"componentOverview.body.mnt.add_storage"}))},b.default.createElement(O.default,{sm:650},b.default.createElement(r.default,{rowKey:(e,t)=>t,pagination:!1,dataSource:x,columns:T}))),"vm"!=D&&b.default.createElement(i.default,{title:b.default.createElement("span",null," ",(0,F.formatMessage)({id:"componentOverview.body.mnt.share"})," "),extra:b.default.createElement(s.default,{title:"state_multiple"===(null===N||void 0===N?void 0:null===(e=N.service)||void 0===e?void 0:e.extend_method)?"\u6709\u72b6\u6001\u7ec4\u4ef6\u4e0d\u5141\u8bb8\u6302\u8f7d\u5176\u4ed6\u7ec4\u4ef6\u5b58\u50a8":""},b.default.createElement(o.default,{onClick:this.showAddRelation,disabled:"state_multiple"===(null===N||void 0===N?void 0:null===(t=N.service)||void 0===t?void 0:t.extend_method)},b.default.createElement(d.default,{type:"plus"}),(0,F.formatMessage)({id:"componentOverview.body.mnt.mount"})))},b.default.createElement(O.default,{sm:850},b.default.createElement(r.default,{pagination:{current:this.state.mntPage,pageSize:this.state.mntPageSize,total:Number(this.state.mntTotal),onChange:this.onMntPageChange,onShowSizeChange:this.onMntPageChange,showQuickJumper:!0,showSizeChanger:!0,showTotal:e=>"\u5171 ".concat(e," \u6761"),pageSizeOptions:["5","10","20","30"],hideOnSinglePage:Number(this.state.mntTotal)<=5},rowKey:(e,t)=>t,columns:[{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.local_vol_path"}),dataIndex:"local_vol_path",key:"1",width:"20%",render:e=>b.default.createElement(s.default,{title:e},b.default.createElement("span",{style:{wordBreak:"break-all",wordWrap:"break-word"}},e))},{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.dep_vol_name"}),dataIndex:"dep_vol_name",key:"2",width:"15%",render:e=>b.default.createElement(s.default,{title:e},b.default.createElement("span",{style:{wordBreak:"break-all",wordWrap:"break-word"}},e))},{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.dep_vol_path"}),dataIndex:"dep_vol_path",key:"3",width:"15%",render:e=>b.default.createElement(s.default,{title:e},b.default.createElement("span",{style:{wordBreak:"break-all",wordWrap:"break-word"}},e))},{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.dep_vol_type"}),dataIndex:"dep_vol_type",key:"4",width:"10%",render:e=>{return b.default.createElement("span",null,this.getVolumeTypeShowName(e))}},{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.dep_app_name"}),dataIndex:"dep_app_name",key:"5",width:"10%",render:(e,t)=>b.default.createElement(_.Link,{to:"/team/".concat(A.default.getCurrTeamName(),"/region/").concat(A.default.getCurrRegionName(),"/apps/").concat(t.dep_group_id,"/overview?type=components&componentID=").concat(t.dep_app_alias,"&tab=overview")},e)},{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.dep_app_group"}),dataIndex:"dep_app_group",key:"6",width:"15%",render:(e,t)=>b.default.createElement(_.Link,{to:"/team/".concat(A.default.getCurrTeamName(),"/region/").concat(A.default.getCurrRegionName(),"/apps/").concat(t.dep_group_id,"/overview")},e)},{title:(0,F.formatMessage)({id:"componentOverview.body.mnt.action"}),dataIndex:"action",key:"7",width:"15%",render:(e,t)=>b.default.createElement("a",{onClick:()=>{this.onDeleteMnt(t)},href:"javascript:;"},(0,F.formatMessage)({id:"componentOverview.body.mnt.unmount"}))}],dataSource:l}))),this.state.showAddVar&&b.default.createElement(E.default,{onCancel:this.handleCancelAddVar,onSubmit:this.handleSubmitAddVar,data:this.state.showAddVar,volumeOpts:this.state.volumeOpts,editor:this.state.editor,method:D}),this.state.showAddRelation&&b.default.createElement(w.default,{appAlias:this.props.appAlias,onCancel:this.handleCancelAddRelation,onSubmit:this.handleSubmitAddMnt,volume_type:["share-file","memoryfs","local"]}),this.state.toDeleteMnt&&b.default.createElement(C.default,{title:b.default.createElement(F.FormattedMessage,{id:"confirmModal.deldete.Unmount.title"}),desc:b.default.createElement(F.FormattedMessage,{id:"confirmModal.deldete.Unmount.desc"}),onCancel:this.cancelDeleteMnt,onOk:this.handleDeleteMnt}),this.state.toDeleteVolume&&b.default.createElement(C.default,{title:b.default.createElement(F.FormattedMessage,{id:"confirmModal.deldete.storage.title"}),desc:b.default.createElement(F.FormattedMessage,{id:"confirmModal.deldete.storage.desc"}),onCancel:this.onCancelDeleteVolume,onOk:this.handleDeleteVolume}),n&&b.default.createElement(S.default,{title:b.default.createElement(F.FormattedMessage,{id:"componentOverview.body.RelyComponentModal.title"}),relyComponentList:m,onCancel:this.handleCloseRelyComponent,onOk:this.handleCloseRelyComponent}),h&&b.default.createElement(k.default,{isShow:this.DirectoryPersistenceShow,appAlias:this.props.appAlias,volumePath:f,hostPath:g,isType:!0,volumeName:v}))}},h=f))||h);t.default=T},"8tPE":function(e,t,a){e.exports={tableBox:"tableBox___3PRbM",storageContent:"storageContent___oUsHQ",serviceName:"serviceName___2ncTl",volumeName:"volumeName___1clXc",tags:"tags___iCo-m",titleDesc:"titleDesc___3xF3_",componentName:"componentName___29uYk",storageName:"storageName___2cwlN",configGroups:"configGroups___3v-7o",k8sResources:"k8sResources___2z1_o",tableNameSpan:"tableNameSpan___2heQ9",content:"content___29Pam",inner:"inner___100Gv",icon:"icon___2Ma8s",desc:"desc___1cSSj"}},"9/bS":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a("LLXN"),n=((0,l.formatMessage)({id:"utils.app-action-log-util.deploy"}),(0,l.formatMessage)({id:"utils.app-action-log-util.restart"}),(0,l.formatMessage)({id:"utils.app-action-log-util.delete"}),(0,l.formatMessage)({id:"utils.app-action-log-util.stop"}),(0,l.formatMessage)({id:"utils.app-action-log-util.HorizontalUpgrade"}),(0,l.formatMessage)({id:"utils.app-action-log-util.VerticalUpgrade"}),(0,l.formatMessage)({id:"utils.app-action-log-util.callback"}),(0,l.formatMessage)({id:"utils.app-action-log-util.create"}),(0,l.formatMessage)({id:"utils.app-action-log-util.own_money"}),(0,l.formatMessage)({id:"utils.app-action-log-util.expired"}),(0,l.formatMessage)({id:"utils.app-action-log-util.share-ys"}),(0,l.formatMessage)({id:"utils.app-action-log-util.share-yb"}),(0,l.formatMessage)({id:"utils.app-action-log-util.reboot"}),(0,l.formatMessage)({id:"utils.app-action-log-util.git-change"}),(0,l.formatMessage)({id:"utils.app-action-log-util.imageUpgrade"}),{isActioning(e){return!("complete"===e.final_status||"timeout"===e.final_status||!e.event_id)},getActionCN(e){return e.type_cn||""},getActionResultCN(e){var t,a={success:(0,l.formatMessage)({id:"utils.app-action-log-util.deploy"}),failure:(0,l.formatMessage)({id:"utils.app-action-log-util.failure"}),timeout:(0,l.formatMessage)({id:"utils.app-action-log-util.timeout"}),abnormal:(0,l.formatMessage)({id:"utils.app-action-log-util.abnormal"})},n={complate:(0,l.formatMessage)({id:"utils.app-action-log-util.complate"}),timeout:(0,l.formatMessage)({id:"utils.app-action-log-util.timeout"}),failure:(0,l.formatMessage)({id:"utils.app-action-log-util.failure"}),abnormal:(0,l.formatMessage)({id:"utils.app-action-log-util.abnormal"})};return t="complete"==e.final_status?a[e.status]:"timeout"==e.final_status?n[e.final_status]:"".concat((0,l.formatMessage)({id:"utils.app-action-log-util.ongoing"})),t},getActionUser(e){return e.user_name||""},isFail(e){return!(!this.isComplete(e)||"failure"!==e.status)},isTimeout(e){return!(!this.isComplete(e)||"timeout"!==e.status)},isSuccess(e){return!(!this.isComplete(e)||"success"!==e.status)},isComplete(e){return"complete"===e.final_status},getFailMessage(e){return e.message||""},getCommitUser(e){return e.code_version?e.code_version.user:""},getCodeVersion(e){return e.code_version?e.code_version.code_version:""},getCommitLog(e){return e.code_version?e.code_version.commit:""},isDeploy(e){return"deploy"===e.type},isShowCommitInfo(e){return this.isDeploy(e)&&e.code_version},canRollback(e){return!(this.isFail(e)||!this.isDeploy(e)||!e.code_version||!e.code_version.rollback)},getRollbackVersion(e){return e},getActionTime(e){return(e.start_time||"").split(" ")[1]},getActionDate(e){return(e.start_time||"").split(" ")[0]},getActionDateTime(e){return e.start_time||""}}),s=n;t.default=s},AFhn:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("g9YV");var i=l(a("wCAj"));a("14J3");var r=l(a("BMrR"));a("+L6B");var o=l(a("2/Rp"));a("jCWc");var d=l(a("kPKH"));a("fOrg");var c=l(a("+KLJ"));a("/xke");var u,p,m,h=l(a("TeRw")),f=l(a("p0pE")),g=l(a("QDog")),v=l(a("H6Z4")),y=l(a("q76B")),_=l(a("puxM")),b=l(a("hMqj")),E=a("MuoO"),w=a("LLXN"),C=n(a("q1tI")),M=(u=(0,E.connect)(e=>{var t=e.loading,a=e.teamControl,l=e.enterprise;return{deleteServiceMonitorLoading:t.effects["monitor/deleteServiceMonitor"],updateServiceMonitorLoading:t.effects["monitor/updateServiceMonitor"],addServiceMonitorLoading:t.effects["monitor/addServiceMonitor"],currentRegionName:a.currentRegionName,currentEnterprise:l.currentEnterprise,currentTeamPermissionsInfo:a.currentTeamPermissionsInfo}}),u((m=class extends C.PureComponent{constructor(e){super(e),this.onAddCustomMonitor=(()=>{this.setState({addCustomMonitor:!0})}),this.fetchServiceMonitor=(()=>{var e=this.props.dispatch,t=this.handleParameter();e({type:"monitor/fetchServiceMonitor",payload:t,callback:e=>{if(e&&200===e.status_code){var t=e.list;this.setState({loading:!1,monitors:t}),t&&0===t.length&&this.onAddCustomMonitor()}}})}),this.handlePermissions=(e=>{var t=this.props.currentTeamPermissionsInfo;return b.default.querySpecifiedPermissionsInfo(t,e)}),this.cancelAddCustomMonitor=(()=>{this.setState({addCustomMonitor:!1,editorData:{}})}),this.handleDelete=(e=>{this.setState({dleCustomMonitor:e})}),this.handleDeleteCustomMonitor=(()=>{var e=this.props.dispatch,t=this.state.dleCustomMonitor,a=this.handleParameter();e({type:"monitor/deleteServiceMonitor",payload:(0,f.default)({},a,{name:t}),callback:e=>{e&&(h.default.success({message:(0,w.formatMessage)({id:"notification.success.delete"})}),this.fetchServiceMonitor(),this.cancelDeleteCustomMonitor())}})}),this.cancelDeleteCustomMonitor=(()=>{this.setState({dleCustomMonitor:!1})}),this.handleEditor=(e=>{this.setState({editorData:e,addCustomMonitor:!0})}),this.handleAddCustomMonitor=(e=>{var t=this.props.dispatch,a=this.state.editorData,l=this.handleParameter();t({type:a.name?"monitor/updateServiceMonitor":"monitor/addServiceMonitor",payload:(0,f.default)({},l,e),callback:e=>{e&&(h.default.success({message:a.name?(0,w.formatMessage)({id:"notification.success.save"}):(0,w.formatMessage)({id:"notification.success.add"})}),this.fetchServiceMonitor(),this.cancelAddCustomMonitor())}})}),this.handleParameter=(()=>{var e=this.props.appDetail;return{team_name:g.default.getCurrTeamName(),app_alias:e.service.service_alias}}),this.state={monitors:[],addCustomMonitor:!1,loading:!0,editorData:{},dleCustomMonitor:!1}}componentDidMount(){this.fetchServiceMonitor()}render(){var e=this.props,t=e.deleteServiceMonitorLoading,a=e.updateServiceMonitorLoading,l=e.addServiceMonitorLoading,n=e.onCancel,u=this.state,p=u.monitors,m=u.loading,h=u.editorData,f=u.addCustomMonitor,g=u.dleCustomMonitor;return C.default.createElement("div",null,C.default.createElement(r.default,null,C.default.createElement(d.default,{span:12},C.default.createElement(c.default,{message:C.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.MonitoryPoint.standard"}),type:"info",showIcon:!0})),C.default.createElement(o.default,{type:"primary",icon:"plus",style:{float:"right",marginBottom:"20px"},onClick:this.onAddCustomMonitor},C.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.MonitoryPoint.add"})),C.default.createElement(o.default,{style:{float:"right",margin:"0 10px 20px 0"},onClick:n},C.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.MonitoryPoint.back"}))),f&&C.default.createElement(v.default,{parameter:this.handleParameter(),data:h,loading:a||l,onCancel:this.cancelAddCustomMonitor,onOk:this.handleAddCustomMonitor}),C.default.createElement(s.default,{loading:m},g&&C.default.createElement(y.default,{ttitle:C.default.createElement(w.FormattedMessage,{id:"confirmModal.deldete.configure.title"}),desc:C.default.createElement(w.FormattedMessage,{id:"confirmModal.deldete.configure.desc"}),loading:t,onCancel:this.cancelDeleteCustomMonitor,onOk:this.handleDeleteCustomMonitor}),C.default.createElement(_.default,{sm:800},C.default.createElement(i.default,{pagination:!1,rowKey:(e,t)=>t,dataSource:p,columns:[{title:(0,w.formatMessage)({id:"componentOverview.body.tab.monitor.MonitoryPoint.name"}),dataIndex:"name"},{title:(0,w.formatMessage)({id:"componentOverview.body.tab.monitor.MonitoryPoint.collect"}),dataIndex:"service_show_name",align:"center"},{title:(0,w.formatMessage)({id:"componentOverview.body.tab.monitor.MonitoryPoint.path"}),dataIndex:"path",align:"center"},{title:(0,w.formatMessage)({id:"componentOverview.body.tab.monitor.MonitoryPoint.port"}),dataIndex:"port",align:"center"},{title:(0,w.formatMessage)({id:"componentOverview.body.tab.monitor.MonitoryPoint.time"}),dataIndex:"interval",align:"center"},{title:(0,w.formatMessage)({id:"componentOverview.body.tab.monitor.MonitoryPoint.handle"}),width:"200px",dataIndex:"backup_record_num",align:"center",render:(e,t)=>C.default.createElement(C.Fragment,null,C.default.createElement("a",{onClick:()=>this.handleDelete(t.name),style:{margintRight:10}},C.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.MonitoryPoint.delete"})),C.default.createElement("a",{onClick:()=>{this.handleEditor(t)},style:{margintRight:10}},C.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.MonitoryPoint.edit"})))}]}))))}},p=m))||p);t.default=M},AipW:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV")),i=l(a("jehZ"));a("OaEy");var r=l(a("2fM7"));a("y8nQ");var o,d,c,u,p=l(a("Vl3Y")),m=a("MuoO"),h=n(a("q1tI")),f=a("LLXN"),g=l(a("QDog")),v=l(a("ll25")),y=p.default.Item,_=(o=(0,m.connect)(e=>{var t=e.teamControl;return{teamControl:t}}),d=p.default.create(),o(c=d((u=class extends h.PureComponent{constructor(){super(...arguments),this.handleSubmit=(()=>{var e=this.props,t=e.onOk,a=e.form;a.validateFields((e,a)=>{!e&&t&&t(a)})}),this.loadMembers=(()=>{var e=this.props.dispatch;e({type:"teamControl/fetchMember",payload:{team_name:g.default.getCurrTeamName(),region_name:g.default.getCurrRegionName(),page_size:200}})})}componentDidMount(){this.loadMembers()}render(){var e=this.props,t=e.onCancel,a=e.actions,l=e.form,n=l.getFieldDecorator,o={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},d=a||[],c=this.props.members||[];return h.default.createElement(s.default,{title:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.SetMemberAppAction.member"}),visible:!0,width:800,onOk:this.handleSubmit,onCancel:t,maskClosable:!1},h.default.createElement(p.default,{onSubmit:this.handleSubmit},h.default.createElement(y,(0,i.default)({},o,{label:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.SetMemberAppAction.Select_member"}),hasFeedback:!0}),n("user_ids",{rules:[{required:!0,message:(0,f.formatMessage)({id:"componentOverview.body.SetMemberAppAction.team_memner"})}]})(h.default.createElement(r.default,{getPopupContainer:e=>e.parentNode,mode:"multiple"},c.map((e,t)=>{return h.default.createElement(r.default.Option,{key:t,value:e.user_id},e.user_name)})))),h.default.createElement(y,(0,i.default)({},o,{label:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.SetMemberAppAction.mode"})}),n("perm_ids",{initialValue:[],rules:[{required:!0,message:(0,f.formatMessage)({id:"componentOverview.body.SetMemberAppAction.palce_mode"})}]})(h.default.createElement(v.default,{showGroupName:!1,hides:["".concat((0,f.formatMessage)({id:"componentOverview.body.SetMemberAppAction.team"}))],datas:d})))))}},c=u))||c)||c),b=_;t.default=b},AySi:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fOrg");var s=l(a("+KLJ"));a("cWXX");var i=l(a("/ezw")),r=l(a("jehZ"));a("T2oS");var o=l(a("W9HT"));a("qVdP");var d=l(a("jsC+"));a("lUTK");var c=l(a("BvKs"));a("+L6B");var u=l(a("2/Rp"));a("5Dmo");var p=l(a("3S7+"));a("Awhp");var m=l(a("KrTs"));a("+BJd");var h=l(a("mr32"));a("Pwec");var f=l(a("CtXQ")),g=l(a("p0pE"));a("5NDa");var v=l(a("5rEg"));a("2qtc");var y=l(a("kLXV"));a("/xke");var _=l(a("TeRw"));a("7Kak");var b=l(a("9yH6"));a("OaEy");var E=l(a("2fM7"));a("y8nQ");var w,C,M,S,k,O,x,A,D,F,N,T,L,P,I,R,V=l(a("Vl3Y")),B=a("MuoO"),z=a("7DNP"),H=l(a("17x9")),q=n(a("q1tI")),U=l(a("q76B")),j=l(a("e6Ls")),K=l(a("iPMB")),G=l(a("hJQD")),X=l(a("ZthY")),W=a("xpXo"),Q=l(a("lpA0")),J=l(a("DPVJ")),Y=l(a("WTXe")),Z=(l(a("puxM")),a("vSx2"),l(a("J5jb"))),$=l(a("QDog")),ee=l(a("rIpq")),te=(l(a("9Qkj")),l(a("zcww"))),ae=l(a("+iC2")),le=l(a("3A2o")),ne=l(a("sC1O")),se=l(a("ZwJH")),ie=l(a("GK43")),re=l(a("+aXB")),oe=l(a("8Drs")),de=(l(a("8N5S")),l(a("YoF6"))),ce=l(a("6mLI")),ue=l(a("hIb5")),pe=l(a("dhX0")),me=l(a("Szue")),he=l(a("CklV")),fe=l(a("vX3j")),ge=l(a("v10I")),ve=a("WDw0"),ye=a("LLXN"),_e=V.default.Item,be=E.default.Option,Ee=b.default.Group,we=(w=V.default.create(),C=(0,B.connect)(null,null,null,{withRef:!0}),w(M=C((S=class extends q.PureComponent{constructor(){super(...arguments),this.onCancel=(()=>{this.props.onCancel()}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.currGroup;a.validateFields((e,t)=>{e||(t.group_id!==l?this.props.onOk(t):_.default.warning({message:(0,ye.formatMessage)({id:"notification.warn.cannot_select"})}))})})}render(){var e=this.props,t=e.groups,a=void 0===t?[]:t,l=e.currGroup,n=e.form,s=e.loading,i=void 0!==s&&s,r=n.getFieldDecorator,o=l.toString();return q.default.createElement(y.default,{title:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.MoveGroup.edit"}),visible:!0,className:j.default.TelescopicModal,onOk:this.handleSubmit,onCancel:this.onCancel,confirmLoading:i},q.default.createElement(V.default,{onSubmit:this.handleSubmit},q.default.createElement(_e,{label:""},r("group_id",{initialValue:o||"",rules:[{required:!0,message:(0,ye.formatMessage)({id:"componentOverview.MoveGroup.edit"})}]})(q.default.createElement(E.default,{getPopupContainer:e=>e.parentNode},a&&a.length>0&&a.map(e=>{return q.default.createElement(be,{key:e.group_id,value:e.group_id.toString()},e.group_name)}))))))}},M=S))||M)||M),Ce=(k=V.default.create(),O=(0,B.connect)(null,null,null,{withRef:!0}),k(x=O((A=class extends q.PureComponent{constructor(){super(...arguments),this.onCancel=(()=>{this.props.onCancel()}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props.form;t.validateFields((e,t)=>{e||this.props.onOk(t)})}),this.handleValiateNameSpace=((e,t,a)=>{if(!t)return a(new Error("".concat((0,ye.formatMessage)({id:"componentOverview.EditName.input_en_name"}))));if(t&&t.length<=32){var l=/^[a-z]([-a-z0-9]*[a-z0-9])?$/;if(!l.test(t))return a(new Error("".concat((0,ye.formatMessage)({id:"componentOverview.EditName.only"}))));a()}return t.length>32?a(new Error("".concat((0,ye.formatMessage)({id:"componentOverview.EditName.Cannot"})))):void 0})}render(){var e=this.props,t=e.title,a=e.name,l=e.loading,n=void 0!==l&&l,s=e.form,i=e.k8sComponentName,r=e.isEditEnglishName,o="closed"===r||"undeploy"===r,d=s.getFieldDecorator;return q.default.createElement(y.default,{title:t||q.default.createElement(ye.FormattedMessage,{id:"componentOverview.EditName.edit"}),visible:!0,className:j.default.TelescopicModal,confirmLoading:n,onOk:this.handleSubmit,onCancel:this.onCancel},q.default.createElement(V.default,{onSubmit:this.handleSubmit},q.default.createElement(_e,{label:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.EditName.name"})},d("service_cname",{initialValue:a||"",rules:[{required:!0,message:(0,ye.formatMessage)({id:"componentOverview.EditName.not_null"})},{max:24,message:(0,ye.formatMessage)({id:"componentOverview.EditName.max"})}]})(q.default.createElement(v.default,{placeholder:t?(0,ye.formatMessage)({id:"componentOverview.EditName.input_new_name"}):(0,ye.formatMessage)({id:"componentOverview.EditName.input_new_app_name"})}))),q.default.createElement(_e,{label:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.EditName.en_name"}),extra:(0,ye.formatMessage)({id:"componentOverview.EditName.close"})},d("k8s_component_name",{initialValue:i||"",rules:[{required:!0,validator:this.handleValiateNameSpace}]})(q.default.createElement(v.default,{placeholder:(0,ye.formatMessage)({id:"componentOverview.EditName.placeholder"}),disabled:!o})))))}},x=A))||x)||x),Me=(D=V.default.create(),F=(0,B.connect)(e=>{var t=e.user,a=e.appControl,l=e.global,n=e.teamControl,s=e.enterprise,i=e.loading;return{currUser:t.currentUser,appDetail:a.appDetail,pods:a.pods,groups:l.groups,build_upgrade:a.build_upgrade,currentTeam:n.currentTeam,currentRegionName:n.currentRegionName,currentEnterprise:s.currentEnterprise,deleteAppLoading:i.effects["appControl/deleteApp"],reStartLoading:i.effects["appControl/putReStart"],startLoading:i.effects["appControl/putStart"],stopLoading:i.effects["appControl/putStop"],moveGroupLoading:i.effects["appControl/moveGroup"],editNameLoading:i.effects["appControl/editName"],updateRollingLoading:i.effects["appControl/putUpdateRolling"],deployLoading:i.effects["appControl/putUpgrade"],buildInformationLoading:i.effects["appControl/getBuildInformation"],pluginList:n.pluginsList}},null,null,{withRef:!0}),D(N=F((L=T=class extends q.PureComponent{constructor(e){var t,a;super(e),t=this,this.onDeleteApp=(()=>{this.setState({showDeleteApp:!0})}),this.getStatus=(e=>{var t=this.props.dispatch,a=this.state.componentTimer,l=this.fetchParameter(),n=l.team_name,s=l.app_alias;t({type:"appControl/fetchComponentState",payload:{team_name:n,app_alias:s},callback:t=>{t&&200===t.status_code&&this.setState({status:t.bean},()=>{e&&a&&this.handleTimers("timer",()=>{this.getStatus(!0)},5e3)})},handleError:t=>{this.handleError(t),e&&a&&404!==t.status&&this.handleTimers("timer",()=>{this.getStatus(!0)},1e4)}})}),this.getChildCom=(()=>{return this.ref?this.ref.getWrappedInstance({}):null}),this.handleTeamPermissions=(e=>{var t=this.props.currUser,a=ae.default.getTeamByTeamPermissions(t.teams,$.default.getCurrTeamName());a&&0!==a.length?e():this.closeComponentTimer()}),this.handleError=(e=>{var t=this.state.componentTimer,a=this.props.dispatch,l=this.fetchParameter(),n=l.group_id;return this.handleTeamPermissions(()=>{return t?e&&404===e.status?(this.closeComponentTimer(),this.destroy||a(z.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps/").concat(n))),null):void(e&&e.data&&e.data.msg_show&&_.default.warning({message:(0,ye.formatMessage)({id:"notification.warn.error"}),description:e.data.msg_show})):null}),null}),this.handleTimers=((e,t,a)=>{var l=this.state.componentTimer;if(!l)return null;this[e]=setTimeout(()=>{t()},a)}),this.handleTabChange=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.app_alias;this.setState({activeTab:e},()=>{t(z.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps/").concat($.default.getAppID(),"/overview?type=components&componentID=").concat(l,"&tab=").concat(e)))})}),this.closeTimer=(()=>{this.timer&&clearInterval(this.timer)}),this.loadBuildState=((e,t)=>{var a=this.fetchParameter(),l=a.team_name,n=(a.serviceAlias,this.props.dispatch);t&&this.setState({BuildState:null}),e&&e.service&&"market"===e.service.service_source&&e.service.service_alias&&n({type:"appControl/getBuildInformation",payload:{team_name:l,app_alias:e.service.service_alias},callback:e=>{e&&200===e.status_code&&this.setState({BuildState:e.list&&e.list.length>0?e.list.length:null})}})}),this.fetchPrefixUrl=(()=>{var e=this.fetchParameter(),t=e.team_name,a=e.region_name;return"/team/".concat(t,"/region/").concat(a,"/")}),this.loadDetail=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.app_alias,n=a.team_name,s=a.group_id,i=a.serviceAlias,r=this.fetchPrefixUrl();t({type:"appControl/fetchDetail",payload:{team_name:n,app_alias:l},callback:a=>{this.fetchAppDetail();var l=$.default.getSlidePanelTab();e?this.loadBuildState(a,e):this.loadBuildState(a),a.service.service_source&&this.setState({isShowThirdParty:!!a.is_third&&a.is_third,tabsShow:!0},()=>{this.setState({routerSwitch:!1,activeTab:l||(this.state.isShowThirdParty?"thirdPartyServices":"overview")})}),Q.default.isCreateComplete(a)||Q.default.isMarketApp(a)?this.getStatus(!1):a.service&&"complete"===a.service.create_status?(this.getStatus(!1),setTimeout(()=>{this.setState({routerSwitch:!1})},100)):Q.default.isCreateFromCompose(a)?t(z.routerRedux.replace("".concat(r,"create/create-compose-check/").concat(s,"/").concat(a.service.compose_id))):(this.setState({routerSwitch:!1}),i&&t(z.routerRedux.replace("".concat(r,"create/create-check/").concat(i)))),this.getWebSocketUrl(a.service.service_id)},handleError:e=>{var a=this.state.componentTimer;return a?(404===e.status&&t(z.routerRedux.push("".concat(r,"exception/404"))),null):null}})}),this.fetchParameter=(()=>{var e=this.props,t=e.appDetail,a=(e.match,t&&t.service),l=$.default.getSlidePanelComponentID();return{app_alias:l,team_name:$.default.getCurrTeamName(),region_name:$.default.getCurrRegionName(),serviceAlias:a&&a.service_alias,group_id:a&&a.group_id,group_name:a&&a.group_name,service_cname:a&&a.service_cname,k8s_component_name:a&&a.k8s_component_name}}),this.fetchAppDetail=(()=>{var e=this.props,t=e.dispatch,a=e.appDetail,l=this.fetchParameter(),n=l.team_name,s=l.region_name,i=a&&a.service&&a.service.group_id;t({type:"application/fetchGroupDetail",payload:{team_name:n,region_name:s,group_id:i||$.default.getAppID()},callback:e=>{e&&200===e.status_code&&this.setState({groupDetail:e.bean,loadingDetail:!1})},handleError:e=>{e&&404===e.code&&t(z.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps")))}})}),this.handleshowDeployTips=(e=>{this.setState({showDeployTips:e})}),this.handleDeploy=(e=>{this.setState({showDeployTips:!1,showreStartTips:!1});var t=this.props,a=t.build_upgrade,l=t.dispatch,n=t.appDetail;if(this.state.actionIng)_.default.warning({message:(0,ye.formatMessage)({id:"notification.warn.executing"})});else{var s=this.fetchParameter(),i=s.team_name,r=s.app_alias;l({type:e?"appControl/putUpgrade":"appControl/putDeploy",payload:{team_name:i,app_alias:r,group_version:e||"",is_upgrate:a},callback:e=>{if(e){this.handleCancelBuild(),this.loadBuildState(n),_.default.success({message:(0,ye.formatMessage)({id:"notification.success.deployment"})});var t=this.getChildCom();t&&t.onLogPush&&t.onLogPush(!0),t&&t.onAction&&t.onAction(e.bean)}this.handleOffHelpfulHints()}})}}),this.handleRollback=(e=>{if(this.state.actionIng)_.default.warning({message:(0,ye.formatMessage)({id:"notification.warn.executing"})});else{var t=this.fetchParameter(),a=t.team_name,l=t.app_alias;(0,W.rollback)({team_name:a,app_alias:l,deploy_version:e.build_version?e.build_version:e.deploy_version?e.deploy_version:"",upgrade_or_rollback:e.upgrade_or_rollback?e.upgrade_or_rollback:-1}).then(t=>{if(t){_.default.success({message:e.upgrade_or_rollback&&1==e.upgrade_or_rollback?(0,ye.formatMessage)({id:"notification.success.upgrade"}):(0,ye.formatMessage)({id:"notification.success.rollback"})});var a=this.getChildCom();a&&a.onAction&&a.onAction(t.bean)}})}}),this.handleshowRestartTips=(e=>{this.setState({showreStartTips:e})}),this.saveRef=(e=>{this.ref=e}),this.handleDropClick=(e=>{"deleteApp"===e&&(this.closeComponentTimer(),this.onDeleteApp()),"moveGroup"===e&&this.showMoveGroup(),"restart"===e&&this.setState({promptModal:"restart"})}),this.closeComponentTimer=(()=>{this.setState({componentTimer:!1}),this.closeTimer()}),this.openComponentTimer=(()=>{this.setState({componentTimer:!0},()=>{this.getStatus(!0)})}),this.cancelDeleteApp=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.setState({showDeleteApp:!1}),e&&t.openComponentTimer()},this.handleDeleteApp=(()=>{var e=this.props.dispatch,t=this.fetchParameter(),a=t.team_name,l=t.app_alias,n=t.group_id;e({type:"appControl/deleteApp",payload:{team_name:a,app_alias:l},callback:()=>{this.closeComponentTimer(),this.cancelDeleteApp(!1),e({type:"global/fetchGroups",payload:{team_name:a}}),document.getElementById("myframe").contentWindow.location.reload(!0),e(z.routerRedux.replace("".concat(this.fetchPrefixUrl(),"apps/").concat(n,"/overview")))}})}),this.showEditName=(()=>{this.setState({showEditName:!0})}),this.hideEditName=(()=>{this.setState({showEditName:!1})}),this.handleEditName=(e=>{var t=this.fetchParameter(),a=t.team_name,l=t.serviceAlias,n=t.group_id,s=this.props.dispatch;s({type:"appControl/editName",payload:(0,g.default)({team_name:a,app_alias:l},e),callback:()=>{s({type:"application/editGroups",payload:{team_name:a,group_id:n},callback:e=>{_.default.success({message:(0,ye.formatMessage)({id:"notification.success.takeEffect"})})}}),this.handleUpDataHeader(),this.loadDetail(),this.hideEditName();var e=(new Date).getTime();setTimeout(()=>{s(z.routerRedux.push("/team/".concat($.default.getCurrTeamName(),"/region/").concat($.default.getCurrRegionName(),"/apps/").concat($.default.getAppID(),"/overview")+"?type=components&componentID=".concat(l,"&tab=").concat(this.state.activeTab,"&refresh=").concat(e)))},50)}})}),this.handleUpDataHeader=(()=>{var e=this.props.dispatch;e({type:"global/IsUpDataHeader",payload:{isUpData:!0}})}),this.showMoveGroup=(()=>{this.setState({showMoveGroup:!0})}),this.hideMoveGroup=(()=>{this.setState({showMoveGroup:!1})}),this.handleMoveGroup=(e=>{var t=this.fetchParameter(),a=t.team_name,l=t.serviceAlias,n=this.props.dispatch;n({type:"appControl/moveGroup",payload:(0,g.default)({team_name:a,app_alias:l},e),callback:()=>{this.hideMoveGroup(),this.loadDetail(),n({type:"global/fetchGroups",payload:{team_name:a}}),_.default.success({message:(0,ye.formatMessage)({id:"notification.warn.restart"})})}})}),this.handleOperation=((e,t)=>{var a=this.props.dispatch,l=this.state.actionIng;if("putUpdateRolling"===e?this.setState({showDeployTips:!1,showreStartTips:!1}):"putReStart"===e&&this.setState({showreStartTips:!1}),l)_.default.warning({message:(0,ye.formatMessage)({id:"notification.warn.executing"})});else{var n={putReStart:(0,ye.formatMessage)({id:"notification.success.operationRestart"}),putStart:(0,ye.formatMessage)({id:"notification.success.operationStart"}),putStop:(0,ye.formatMessage)({id:"notification.success.operationClose"}),putUpdateRolling:(0,ye.formatMessage)({id:"notification.success.operationUpdata"})},s=this.fetchParameter(),i=s.team_name,r=s.app_alias;a({type:"appControl/".concat(e),payload:{team_name:i,app_alias:r},callback:a=>{if(a){_.default.success({message:n[e]});var l=this.getChildCom();l&&l.onAction&&l.onAction(a.bean),t&&t()}this.handleOffHelpfulHints()}})}}),this.handleChecked=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.team_name,n=a.app_alias;t({type:"appControl/changeApplicationState",payload:{build_upgrade:e,team_name:l,app_alias:n},callback:e=>{e&&_.default.info({message:(0,ye.formatMessage)({id:"notification.success.modified"})})}})}),this.handleOkBuild=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.group_id;this.props.form.validateFields((a,n)=>{a||("build"===e?this.handleDeploy(n.group_version):"upgrade"===e&&t(z.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps/").concat(l,"/upgrade"))))})}),this.handleVm=(()=>{var e=this.props,t=(e.appDetail,e.dispatch),a=this.fetchParameter(),l=a.team_name,n=a.serviceAlias,s=this.state.status;t({type:"appControl/vmPause",payload:{team_name:l,app_alias:n,type:"paused"==s.status?"unpause":"pause"},callback:e=>{e&&200===e.status_code&&_.default.success({message:(0,ye.formatMessage)({id:"Vm.createVm.handleSuccess"})})},handleError:e=>{_.default.warning({message:(0,ye.formatMessage)({id:"notification.warn.error"})})}})}),this.handleOpenBuild=(()=>{var e=this.props,t=e.appDetail,a=e.dispatch,l=t.service.service_source,n=t.rain_app_name,s=this.state.status,i=this.fetchParameter(),r=i.team_name,o=i.serviceAlias;"market"===l&&s&&"undeploy"!==s.status?a({type:"appControl/getBuildInformation",payload:{team_name:r,app_alias:o},callback:e=>{e&&200===e.status_code&&this.setState({BuildList:e.list,visibleBuild:!0,BuildText:n,BuildState:e.list&&e.list.length>0?e.list.length:null,showApp:{details:!1,group_name:n}})}}):this.handleOpenHelpfulHints("deploy")}),this.handleCancelBuild=(()=>{this.setState({visibleBuild:null,BuildText:""})}),this.hideMarketAppDetail=(()=>{this.setState({showMarketAppDetail:null})}),this.hideMarketOpenAppDetail=(()=>{this.setState({showMarketAppDetail:!0})}),this.handleOpenHelpfulHints=(e=>{this.setState({promptModal:e})}),this.handleOffHelpfulHints=(()=>{this.setState({promptModal:null})}),this.handleJumpAgain=(()=>{var e=this.state.promptModal;if("deploy"===e)return this.handleDeploy(),null;var t="stop"===e?"putStop":"start"===e?"putStart":"restart"===e?"putReStart":"rolling"===e?"putUpdateRolling":"";this.handleOperation(t)}),this.toWebConsole=(()=>{var e=this.props.dispatch,t=this.fetchParameter(),a=t.serviceAlias;e(z.routerRedux.replace("".concat(this.fetchPrefixUrl(),"components/").concat(a,"/webconsole")))}),this.state={actionIng:!1,groupDetail:{},loadingDetail:!0,status:{},showDeleteApp:!1,showEditName:!1,showMoveGroup:!1,visibleBuild:null,BuildText:"",BuildList:[],showMarketAppDetail:null,showApp:{},BuildState:null,isShowThirdParty:!1,promptModal:null,websocketURL:"",componentTimer:!0,tabsShow:!1,routerSwitch:!0,componentPermissions:(null===(a=this.props)||void 0===a?void 0:a.permissions)||{},activeTab:"",isShowUpdate:!1},this.socket=null,this.destroy=!1}getChildContext(){return{isActionIng:e=>{this.setState({actionIng:e})},appRolback:e=>{this.handleRollback(e)}}}componentDidMount(){this.loadDetail(),setTimeout(()=>{this.getStatus(!0)},5e3)}componentWillUnmount(){this.closeComponentTimer(),this.props.dispatch({type:"appControl/clearPods"}),this.props.dispatch({type:"appControl/clearDetail"}),this.socket&&(this.socket.destroy(),this.socket=null),this.destroy=!0}getWebSocketUrl(e){var t=ae.default.getTeamByTeamName(this.props.currUser,$.default.getCurrTeamName()),a=$.default.getCurrRegionName();if(t){var l=te.default.getRegionByName(t,a);if(l){var n=ee.default.getNewWebSocketUrl(l,e);this.setState({websocketURL:n},()=>{this.createSocket()})}}}createSocket(){var e=this.props.appDetail,t=this.state.websocketURL;if(t){var a=Z.default.isWebSocketOpen(t);a&&"through"===a&&(this.socket=new J.default({url:t,serviceId:e.service.service_id,isAutoConnect:!0,destroyed:!1}))}}renderTitle(e){var t=this.props.appDetail,a=this.state,l=(a.status,a.groupDetail),n=(a.loadingDetail,this.props.permissions),s=(n.isRestart,n.isStop,n.isDelete,n.isEdit),i=JSON.parse(window.sessionStorage.getItem("name"))||"-",r=(l&&l.app_type&&l.app_type,t.service&&t.service.arch);return q.default.createElement(q.Fragment,null,q.default.createElement("div",null,q.default.createElement("div",{className:ie.default.contentTitle},i||"-",s&&q.default.createElement(f.default,{style:{cursor:"pointer",marginRight:"12px"},onClick:this.showEditName,type:"edit"}),q.default.createElement(h.default,null,r))))}checkPermissions(){var e,t,a,l,n,s=this.props,i=s.appDetail,r=s.buildInformationLoading,o=s.permissions,d=o.isAccess,c=o.isStart,u=o.isVisitWebTerminal,p=o.isConstruct,m=o.isUpdate,h=o.isRestart,f=o.isStop,g=o.isDelete,v=o.isEdit,y=this.state,_=y.status,b=y.isShowThirdParty,E=y.loadingDetail,w=null===i||void 0===i?void 0:null===(e=i.service)||void 0===e?void 0:e.extend_method,C="helm"===(null===(t=this.state.groupDetail)||void 0===t?void 0:t.app_type),M=b?q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.right.update"}):q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.right.update.roll"}),S=q.default.createElement(G.default,{timers:this.state.componentTimer,btntype:"primary",app_alias:$.default.getSlidePanelComponentID()}),k="vm"!==w&&m&&!["undeploy","closed","stopping","succeeded"].includes(null===_||void 0===_?void 0:_.status);this.setState({isShowUpdate:k});var O=[{key:"visit",show:("market"===(null===i||void 0===i?void 0:null===(a=i.service)||void 0===a?void 0:a.service_source)||"market"!==(null===i||void 0===i?void 0:null===(l=i.service)||void 0===l?void 0:l.service_source))&&Y.default.canVisit(_)&&!b&&d||b&&d,type:"component",component:S},{key:"start",show:c&&!Y.default.canStop(_),type:"button",text:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.right.start"}),disabled:!Y.default.canStart(_),onClick:()=>this.handleOpenHelpfulHints("start")},{key:"build",show:"vm"!==w&&!b&&p,type:"button",text:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.right.build"}),loading:r,onClick:this.handleOpenBuild,badge:this.state.BuildState&&{status:"success",text:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.isShowThirdParty.updata"}),tooltip:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.isShowThirdParty.New_version"})}},{key:"webTerminal",show:"vm"!==w&&u&&!b,type:"link",text:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.right.web"}),path:"".concat(this.fetchPrefixUrl(),"components/").concat($.default.getSlidePanelComponentID(),"/webconsole"),target:"_blank"},{key:"vmWeb",show:"vm"===w&&i.vm_url,type:"link",text:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.right.web"}),path:i.vm_url,target:"_blank"},{key:"vm",show:"vm"===w&&(null===_||void 0===_?void 0:_.status),type:"button",text:"paused"===(null===_||void 0===_?void 0:_.status)?"\u6062\u590d":"\u6302\u8d77",onClick:()=>this.handleVm()},{key:"update",show:"vm"!==w&&m&&!["undeploy","closed","stopping","succeeded"].includes(null===_||void 0===_?void 0:_.status),type:"button",text:M,onClick:()=>this.handleOpenHelpfulHints("rolling")},{key:"restart",show:(null===_||void 0===_?void 0:_.status)&&!i.is_third&&h&&!Y.default.canStart(_)||f&&"succeeded"===(null===_||void 0===_?void 0:_.status),type:"button",text:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.left.reset"}),disabled:!Y.default.canRestart(_),onClick:()=>this.handleDropClick("restart")},{key:"stop",show:(null===_||void 0===_?void 0:_.status)&&f&&!Y.default.canStart(_)||f&&(null===_||void 0===_?void 0:_.status)&&("upgrade"===_.status||"succeeded"===_.status),type:"button",text:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.left.turnoff"}),disabled:!Y.default.canStop(_),onClick:()=>this.handleOpenHelpfulHints("stop")},{key:"moveGroup",show:(null===_||void 0===_?void 0:_.status)&&v&&!E&&!C,type:"button",text:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.left.edit"}),onClick:()=>this.handleDropClick("moveGroup")},{key:"delete",show:(null===_||void 0===_?void 0:_.status)&&g&&!("running"===_.status&&"cronjob"===(null===i||void 0===i?void 0:null===(n=i.service)||void 0===n?void 0:n.extend_method)),type:"button",text:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.left.delete"}),onClick:()=>this.handleDropClick("deleteApp")}],x=O.filter(e=>e.show);return this.renderOperations(x)}renderOperations(e){var t=[];if(e.length<=3)t=e.map((e,t)=>"button"===e.type?q.default.createElement(u.default,{type:0===t?"primary":"default",key:e.key,onClick:e.onClick,disabled:e.disabled,loading:e.loading,style:{marginRight:8}},e.badge?q.default.createElement(p.default,{title:e.badge.tooltip},q.default.createElement(m.default,{className:ie.default.badge,status:e.badge.status,text:"",count:e.badge.text,title:e.badge.text})):null,e.text):"link"===e.type?q.default.createElement(u.default,null,q.default.createElement(z.Link,{key:e.key,to:e.path,target:e.target,style:{marginRight:8},className:"ant-btn"},e.text)):q.default.createElement("span",{key:e.key,style:{marginLeft:8}},e.component));else{var a=e.slice(0,2),l=e.slice(2),n=q.default.createElement(c.default,null,l.map(e=>"link"===e.type?q.default.createElement(c.default.Item,{key:e.key},q.default.createElement(z.Link,{to:e.path,target:e.target},e.text)):q.default.createElement(c.default.Item,{key:e.key,onClick:e.onClick,disabled:e.disabled},e.text)));t=[...a.map((e,t)=>"button"===e.type?q.default.createElement(u.default,{type:0===t?"primary":"default",key:e.key,onClick:e.onClick,disabled:e.disabled,loading:e.loading,style:{marginRight:8}},e.badge?q.default.createElement(p.default,{title:e.badge.tooltip},q.default.createElement(m.default,{className:ie.default.badge,status:e.badge.status,text:"",count:e.badge.text,title:e.badge.text})):null,e.text):"link"===e.type?q.default.createElement(u.default,null,q.default.createElement(z.Link,{key:e.key,to:e.path,target:e.target},e.text)):q.default.createElement("span",{key:e.key,style:{marginRight:8}},e.component)),q.default.createElement(d.default,{key:"more",overlay:n},q.default.createElement(u.default,null,(0,ye.formatMessage)({id:"versionUpdata_6_2.more"})," ",q.default.createElement(f.default,{type:"down"})))]}return t}render(){var e=this.props,t=e.appDetail,a=(e.currentEnterprise,e.currentTeam,e.currentRegionName,e.groups),l=void 0===a?[]:a,n=e.form,d=e.deleteAppLoading,c=e.reStartLoading,p=e.startLoading,m=e.stopLoading,h=e.moveGroupLoading,f=e.editNameLoading,g=e.updateRollingLoading,v=e.deployLoading,_=(e.buildInformationLoading,e.pluginList),E=e.permissions,w=e.permissions,C=(w.isAccess,w.isStart,w.isVisitWebTerminal,w.isServiceMonitor,w.isConstruct),M=w.isUpdate,S=(w.isTelescopic,w.isEnv,w.isRely,w.isStorage,w.isPort,w.isPlugin,w.isSource,w.isOtherSetting,ge.default.segregatePluginsByHierarchy(_,"Component")),k=this.state,O=k.BuildList,x=k.componentTimer,A=k.isShowThirdParty,D=k.status,F=k.promptModal,N=k.showDeleteApp,T=k.showEditName,L=k.showMoveGroup,P=k.groupDetail,I=k.tabsShow,R=k.routerSwitch,B=k.activeTab,z=n.getFieldDecorator,H=t&&t.service&&t.service.extend_method,W=A?q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.right.update"}):q.default.createElement(ye.FormattedMessage,{id:"componentOverview.header.right.update.roll"}),Q={start:(0,ye.formatMessage)({id:"componentOverview.header.right.start"}),restart:(0,ye.formatMessage)({id:"componentOverview.header.left.reset"}),stop:(0,ye.formatMessage)({id:"componentOverview.header.left.turnoff"}),deploy:(0,ye.formatMessage)({id:"componentOverview.header.right.build"}),rolling:W};if(R)return q.default.createElement("div",{style:{width:"100%",height:"100%"}},q.default.createElement(X.default,(0,r.default)({action:q.default.createElement(o.default,null)},this.props.pageHeader,{title:"-",content:(0,ye.formatMessage)({id:"versionUpdata_6_2.componentSettings.desc"})})),q.default.createElement("div",{style:{marginTop:40}},q.default.createElement(i.default,{active:!0})),q.default.createElement("div",{style:{marginTop:40}},q.default.createElement(i.default,{active:!0})),q.default.createElement("div",{style:{marginTop:40}},q.default.createElement(i.default,{active:!0})));t&&t.service&&t.service.service_cname&&window.sessionStorage.setItem("name",JSON.stringify(t.service.service_cname));var J=this.fetchParameter(),Y=(J.serviceAlias,J.app_alias),Z=J.group_id,ee=(J.group_name,J.service_cname),te=J.k8s_component_name,ae=(G.default,D&&D.status&&this.checkPermissions()),ie=()=>[{key:"overview",tab:(0,ye.formatMessage)({id:"componentOverview.body.tab.bar.overview"}),auth:!0},{key:"log",tab:(0,ye.formatMessage)({id:"componentOverview.body.tab.bar.log"}),auth:!0}],_e=e=>[{key:"expansion",tab:(0,ye.formatMessage)({id:"componentOverview.body.tab.bar.expansion"}),auth:["isTelescopic"],condition:e=>{var t,a;return"job"!==(null===e||void 0===e?void 0:null===(t=e.service)||void 0===t?void 0:t.extend_method)&&"cronjob"!==(null===e||void 0===e?void 0:null===(a=e.service)||void 0===a?void 0:a.extend_method)}},{key:"monitor",tab:(0,ye.formatMessage)({id:"componentOverview.body.tab.bar.monitor"}),auth:["isServiceMonitor"]},{key:"environmentConfiguration",tab:(0,ye.formatMessage)({id:"componentOverview.body.tab.bar.environmentConfiguration"}),auth:["isEnv"],condition:()=>"vm"!==e},{key:"relation",tab:(0,ye.formatMessage)({id:"componentOverview.body.tab.bar.relation"}),auth:["isRely"]},{key:"advancedSettings",tab:(0,ye.formatMessage)({id:"versionUpdata_6_2.advancedSettings"}),auth:["isStorage","isPort","isPlugin","isSource","isOtherSetting"]}],be=e=>[{key:"thirdPartyServices",tab:e({id:"componentOverview.body.tab.bar.overview"})},{key:"port",tab:e({id:"componentOverview.body.tab.bar.port"})},{key:"connectionInformation",tab:e({id:"componentOverview.body.tab.bar.connectionInformation"})},{key:"members",tab:e({id:"componentOverview.body.tab.bar.members"})}],Me=ie();if(!A){var Se=_e(H);Se.forEach(e=>{var a=!e.auth||e.auth.some(e=>E[e]);!a||e.condition&&!e.condition(t)||Me.push(e)}),(null===S||void 0===S?void 0:S.length)>0&&S.forEach(e=>{Me.push({key:e.name,tab:e.display_name})})}var ke=A?be(ye.formatMessage):Me,Oe=[{key:"overview",tab:(0,ye.formatMessage)({id:"componentOverview.body.tab.bar.overview"})},{key:"port",tab:(0,ye.formatMessage)({id:"componentOverview.body.tab.bar.port"})},{key:"connectionInformation",tab:(0,ye.formatMessage)({id:"componentOverview.body.tab.bar.connectionInformation"})},{key:"members",tab:(0,ye.formatMessage)({id:"componentOverview.body.tab.bar.members"})}],xe={thirdPartyServices:fe.default,connectionInformation:le.default,members:oe.default,overview:A?fe.default:ce.default,monitor:de.default,log:re.default,port:pe.default,relation:me.default,expansion:se.default,environmentConfiguration:ne.default,advancedSettings:ue.default};S&&S.length>0&&S.forEach(e=>{xe[e.name]=he.default});var Ae=xe[B],De={labelCol:{span:1},wrapperCol:{span:23}},Fe={appAlias:$.default.getSlidePanelComponentID(),regionName:$.default.getCurrRegionName(),teamName:$.default.getCurrTeamName(),type:B};return q.default.createElement(ve.ResumeContext.Provider,{value:{loadBuildState:this.loadDetail}},q.default.createElement(X.default,(0,r.default)({action:ae},this.props.pageHeader,{title:this.renderTitle(ee),onTabChange:this.handleTabChange,tabActiveKey:B,tabList:I?ke:Oe,content:(0,ye.formatMessage)({id:"versionUpdata_6_2.componentSettings.desc"})})),this.state.showMarketAppDetail&&q.default.createElement(K.default,{onOk:this.hideMarketAppDetail,onCancel:this.hideMarketAppDetail,app:this.state.showApp}),F&&q.default.createElement(y.default,{title:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.tips"}),visible:F,className:j.default.TelescopicModal,onOk:this.handleJumpAgain,onCancel:this.handleOffHelpfulHints,confirmLoading:"restart"===F?c:"stop"===F?m:"start"===F?p:"deploy"===F?v:"rolling"===F?g:!F},q.default.createElement("p",{style:{textAlign:"center"}},q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.determine"}),Q[F],q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.Current"}))),q.default.createElement(y.default,{title:[q.default.createElement("span",null,q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.Upgrade"}))],className:j.default.TelescopicModal,visible:this.state.visibleBuild,onOk:this.handleOkBuild,onCancel:this.handleCancelBuild,afterClose:()=>{this.setState({BuildList:[]})},footer:O&&O.length>0&&C?[q.default.createElement(u.default,{onClick:()=>{this.handleCancelBuild()}},q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.cancel"})),q.default.createElement(u.default,{type:"primary",loading:v,onClick:()=>{this.handleOkBuild("upgrade")}},q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.build"}))]:C&&[q.default.createElement(u.default,{onClick:()=>{this.handleCancelBuild()}},q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.cancel"})),q.default.createElement(u.default,{type:"primary",loading:v,onClick:()=>{this.handleOkBuild("build")}},q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.Force_build"}))]},q.default.createElement("div",null,O&&O.length>0&&M?q.default.createElement(V.default,{onSubmit:this.handleOkBuild},q.default.createElement(s.default,{message:[q.default.createElement("span",null," ",q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.app"})),q.default.createElement("a",{onClick:()=>{this.hideMarketOpenAppDetail()}},this.state.BuildText),q.default.createElement("span",null,q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.app_build"}))],type:"success",style:{marginBottom:"5px"}}),q.default.createElement(V.default.Item,(0,r.default)({},De,{label:""}),z("group_version",{initialValue:O[0],rules:[{required:!0,message:(0,ye.formatMessage)({id:"componentOverview.promptModal.choice"})}]})(q.default.createElement(Ee,null,O.map((e,t)=>{return q.default.createElement("div",null,q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.version"}),"\xa0",q.default.createElement(b.default,{key:t,value:e},q.default.createElement("a",null,e),q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.updata"})))}))))):q.default.createElement(s.default,{message:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.cloud"}),type:"success",style:{marginBottom:"5px"}}))),q.default.createElement("div",{style:{width:"100%",height:"calc(100% - 150px)",overflow:"auto",scrollbarWidth:"none","-ms-overflow-style":"none","&::-webkit-scrollbar":{display:"none"}}},Ae?q.default.createElement(Ae,(0,r.default)({key:B,method:H,groupDetail:P,componentPermissions:E,timers:x,status:D,ref:this.saveRef},Fe,this.props,{onshowDeployTips:e=>{this.handleshowDeployTips(e)},onshowRestartTips:e=>{this.handleshowRestartTips(e)},handleOperation:(e,t)=>{this.handleOperation(e,t)},socket:this.socket,onChecked:this.handleChecked,isShowUpdate:this.state.isShowUpdate})):q.default.createElement(ye.FormattedMessage,{id:"componentOverview.promptModal.error"})),N&&q.default.createElement(U.default,{onOk:this.handleDeleteApp,onCancel:this.cancelDeleteApp,loading:d,title:q.default.createElement(ye.FormattedMessage,{id:"confirmModal.assembly.delete.title"}),desc:q.default.createElement(ye.FormattedMessage,{id:"confirmModal.assembly.delete.desc"}),subDesc:q.default.createElement(ye.FormattedMessage,{id:"confirmModal.assembly.delete.subDesc"})}),T&&q.default.createElement(Ce,{loading:f,name:ee,onOk:this.handleEditName,onCancel:this.hideEditName,title:q.default.createElement(ye.FormattedMessage,{id:"componentOverview.EditName.title"}),k8sComponentName:te,isEditEnglishName:D.status}),L&&q.default.createElement(we,{loading:h,currGroup:Z,groups:l,onOk:this.handleMoveGroup,onCancel:this.hideMoveGroup}))}},T.childContextTypes={isActionIng:H.default.func,appRolback:H.default.func},N=L))||N)||N),Se=(P=V.default.create(),I=(0,B.connect)(e=>{var t=e.teamControl,a=e.appControl;return{currentTeamPermissionsInfo:t.currentTeamPermissionsInfo,appDetail:a.appDetail}},null,null,{pure:!1,withRef:!0}),P(R=I(R=class extends q.PureComponent{constructor(e){super(e),this.id="",this.state={show:!0}}render(){return q.default.createElement(Me,(0,r.default)({},this.props,this.state))}})||R)||R);t.default=Se},BBei:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("5NDa");var i=l(a("5rEg")),r=l(a("jehZ"));a("fOrg");var o=l(a("+KLJ"));a("OaEy");var d=l(a("2fM7"));a("y8nQ");var c,u,p,m=l(a("Vl3Y")),h=a("7DNP"),f=n(a("q1tI")),g=l(a("QDog")),v=a("LLXN"),y=l(a("8+Sn")),_=m.default.Item,b=d.default.Option,E=(c=m.default.create(),c((p=class extends f.PureComponent{constructor(e){super(e),this.handleSubmit=(e=>{e.preventDefault(),this.props.form.validateFields({force:!0},(e,t)=>{e||(t.certificate_id&&(t.certificate_id=t.certificate_id.key),this.props.onOk&&this.props.onOk(t))})}),this.handleCancel=(()=>{this.props.onCancel&&this.props.onCancel()}),this.checkKey=((e,t,a)=>{var l=this.props.form.getFieldValue("protocol");a()}),this.state={language:"zh-CN"===y.default.get("language")}}render(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldValue,l=this.state.language,n={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}}},c={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:16}}},u=l?n:c,p=a("protocol")||"http",y=this.props,E=(y.isAddLicense,y.certificates);y.addLicense;return f.default.createElement(s.default,{title:f.default.createElement(v.FormattedMessage,{id:"componentOverview.body.AddDomain.title"}),onOk:this.handleSubmit,visible:!0,onCancel:this.handleCancel},f.default.createElement(o.default,{style:{textAlign:"center",marginBottom:16},message:f.default.createElement(v.FormattedMessage,{id:"componentOverview.body.AddDomain.message"}),type:"warning"}),f.default.createElement(m.default,{onSubmit:this.handleSubmit},f.default.createElement(_,(0,r.default)({},u,{label:f.default.createElement(v.FormattedMessage,{id:"componentOverview.body.AddDomain.title"})}),t("protocol",{initialValue:"http",rules:[{required:!0,message:(0,v.formatMessage)({id:"componentOverview.body.AddDomain.label_protocol.required"})}]})(f.default.createElement(d.default,{getPopupContainer:e=>e.parentNode},f.default.createElement(b,{value:"http"},"HTTP"),f.default.createElement(b,{value:"https"},"HTTPS"),f.default.createElement(b,{value:"httptohttps"},f.default.createElement(v.FormattedMessage,{id:"componentOverview.body.AddDomain.httptohttps"})),f.default.createElement(b,{value:"httpandhttps"},f.default.createElement(v.FormattedMessage,{id:"componentOverview.body.AddDomain.httpandhttps"}))))),f.default.createElement(_,(0,r.default)({},u,{label:f.default.createElement(v.FormattedMessage,{id:"componentOverview.body.AddDomain.label_protocol.domain"})}),t("domain",{rules:[{required:!0,message:(0,v.formatMessage)({id:"componentOverview.body.AddDomain.label_protocol.requireds"})},{pattern:/^(?=^.{3,255}$)[a-zA-Z0-9*][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/,message:(0,v.formatMessage)({id:"componentOverview.body.AddDomain.label_protocol.pattern"})}]})(f.default.createElement(i.default,{placeholder:(0,v.formatMessage)({id:"componentOverview.body.AddDomain.label_protocol.placeholder"})}))),"http"==p?"":f.default.createElement(_,(0,r.default)({},u,{label:(0,v.formatMessage)({id:"componentOverview.body.AddDomain.lable_certificate_id"}),title:f.default.createElement(v.FormattedMessage,{id:"componentOverview.body.AddDomain.lable_certificate_id"})}),t("certificate_id",{initialValue:"",rules:[{required:!0,message:(0,v.formatMessage)({id:"componentOverview.body.AddDomain.callback"})},{validator:this.checkKey}]})(f.default.createElement(d.default,{showSearch:!0,allowClear:!0,labelInValue:!0,optionFilterProp:"children",filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0,placeholder:(0,v.formatMessage)({id:"componentOverview.body.AddDomain.select.placeholder"})},E.map(e=>f.default.createElement(b,{key:e.id,value:e.id},e.alias)))),f.default.createElement("p",null,f.default.createElement(v.FormattedMessage,{id:"componentOverview.body.AddDomain.no_available"}),f.default.createElement("a",{onClick:()=>{this.props.onCreateKey()},href:"javascript:;"},f.default.createElement(v.FormattedMessage,{id:"componentOverview.body.AddDomain.new"})))),f.default.createElement("div",null,f.default.createElement(v.FormattedMessage,{id:"componentOverview.body.AddDomain.setting"}),f.default.createElement(h.Link,{to:"/team/".concat(g.default.getCurrTeamName(),"/region/").concat(g.default.getCurrRegionName(),"/gateway/control/http/true"),style:{wordBreak:"break-all",wordWrap:"break-word",color:"#1890ff"}},f.default.createElement(v.FormattedMessage,{id:"componentOverview.body.AddDomain.into"})))))}},u=p))||u);t.default=E},Bg2k:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV")),i=l(a("jehZ"));a("5NDa");var r=l(a("5rEg"));a("7Kak");var o=l(a("9yH6"));a("OaEy");var d=l(a("2fM7"));a("y8nQ");var c,u,p,m=l(a("Vl3Y")),h=n(a("q1tI")),f=l(a("IhRX")),g=l(a("CQXj")),v=a("LLXN"),y=l(a("8+Sn")),_=m.default.Item,b=d.default.Option,E=o.default.Group,w=r.default.TextArea,C=(c=m.default.create(),c((p=class extends h.PureComponent{constructor(e){super(e),this.onChanges=(e=>{var t=e.target.value,a=this.props.form.setFieldsValue,l=this.handleUnhealthyTreatment(t),n={mode:t};l&&(n.success_threshold="1"),a(n),this.setState({isRestart:l})}),this.handleUnhealthyTreatment=(e=>{return"liveness"===e}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.onOk;a.validateFields({force:!0},(e,t)=>{!e&&l&&l(t)})}),this.checkPath=((e,t,a)=>{var l=this.props.form.getFieldValue("scheme");"tcp"!==l&&"cmd"!==l&&("tcp"===l&&"cmd"===l||!t)?a("".concat((0,v.formatMessage)({id:"componentOverview.body.EditHealthCheck.input_path"}))):a()}),this.checkNums=((e,t,a)=>{t&&t<1?a("".concat((0,v.formatMessage)({id:"componentOverview.body.EditHealthCheck.min"}))):a()}),this.handleHeavyList=(e=>{var t=[];return e.map(e=>{t.push(e.container_port)}),t}),this.handleList=(e=>{if(null!=e||""!==e){var t=this.state.list?this.state.list:[];if(e&&t.unshift("".concat(e)),!(t&&t.length>0&&"null"===t[0]||""===t[0])){for(var a=[t[0]],l=1;l<t.length;l++){for(var n=!1,s=0;s<a.length;s++)if(t[l]==a[s]){n=!0;break}n||a.push(t[l])}this.setState({list:a}),this.props.form.setFieldsValue({port:e})}}});var t=this.props,a=t.ports,l=t.data,n=a?this.handleHeavyList(a):[];this.state={isRestart:this.handleUnhealthyTreatment(l&&l.mode),list:n,prolist:n,showHTTP:"http"===l.scheme,language:"zh-CN"===y.default.get("language"),showCmd:"cmd"===l.scheme}}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.form,n=e.types,c=e.loading,u=void 0!==c&&c,p=this.props.data||{},y={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},C={labelCol:{xs:{span:24},sm:{span:9}},wrapperCol:{xs:{span:24},sm:{span:15}}},M=l.getFieldDecorator,S=l.getFieldValue,k=this.state,O=k.list,x=k.prolist,A=k.isRestart,D=k.showHTTP,F=k.language,N=k.showCmd,T=F?y:C,L=(S("scheme"),h.default.createElement("span",{style:{marginLeft:8}},h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.second"}))),P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h.default.createElement(r.default,{disabled:e,type:"number",min:1,style:{width:"80%"}})},I=[{validator:this.checkNums}];return h.default.createElement(s.default,{width:700,title:t,onOk:this.handleSubmit,maskClosable:!1,onCancel:a,visible:!0,confirmLoading:u},h.default.createElement(m.default,{onSubmit:this.handleSubmit},h.default.createElement(_,(0,i.default)({},T,{label:h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.EditHealthCheck.port"})}),M("port",{initialValue:g.default.getPort(p)||(O&&O.length?O[0]:""),rules:[{required:!0,message:(0,v.formatMessage)({id:"componentOverview.body.EditHealthCheck.input"})}]})(h.default.createElement(d.default,{getPopupContainer:e=>e.parentNode,showSearch:!(x&&x.length>0),onSearch:e=>{this.handleList(e)}},O&&O.map(e=>h.default.createElement(b,{key:e,value:e},e))))),h.default.createElement(_,(0,i.default)({},T,{label:h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.EditHealthCheck.agreement"})}),M("scheme",{initialValue:p.scheme||"tcp"})(h.default.createElement(E,{onChange:e=>{this.setState({showHTTP:"http"===e.target.value,showCmd:"cmd"===e.target.value})},options:[{label:"tcp",value:"tcp"},{label:"http",value:"http"},{label:"cmd",value:"cmd"}]}))),h.default.createElement(_,(0,i.default)({},T,{label:h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.EditHealthCheck.unhealth"})}),M("mode",{initialValue:p.mode||"readiness",rules:[{required:!0,message:(0,v.formatMessage)({id:"componentOverview.body.EditHealthCheck.select"})}]})(h.default.createElement(E,{onChange:this.onChanges},h.default.createElement(o.default,{value:"readiness"},h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.EditHealthCheck.Offline"})),!n&&h.default.createElement(o.default,{value:"liveness"},h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.EditHealthCheck.restart"}))))),N&&h.default.createElement(_,(0,i.default)({},T,{label:(0,v.formatMessage)({id:"teamAdd.create.image.docker_cmd"})}),M("cmd",{initialValue:p.cmd||""})(h.default.createElement(w,null))),h.default.createElement(_,(0,i.default)({style:{display:D?"":"none"}},T,{label:h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.EditHealthCheck.http"})}),M("http_header",{initialValue:p.http_header||""})(h.default.createElement(f.default,null))),h.default.createElement(_,(0,i.default)({style:{display:D?"":"none"}},T,{label:h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.EditHealthCheck.path"})}),M("path",{initialValue:p.path||"",rules:[{validator:this.checkPath}]})(h.default.createElement(r.default,{placeholder:(0,v.formatMessage)({id:"componentOverview.body.EditHealthCheck.Response"})}))),h.default.createElement(_,(0,i.default)({},T,{label:h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.EditHealthCheck.initialization"})}),M("initial_delay_second",{initialValue:p.initial_delay_second||"2",rules:[{required:!0,message:(0,v.formatMessage)({id:"componentOverview.body.EditHealthCheck.input_initialization"})},...I]})(P()),L),h.default.createElement(_,(0,i.default)({},T,{label:h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.EditHealthCheck.time"})}),M("period_second",{initialValue:p.period_second||"3",rules:[{required:!0,message:(0,v.formatMessage)({id:"componentOverview.body.EditHealthCheck.input_time"})},...I]})(P()),L),h.default.createElement(_,(0,i.default)({},T,{label:h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.EditHealthCheck.over_time"})}),M("timeout_second",{initialValue:p.timeout_second||"20",rules:[{required:!0,message:(0,v.formatMessage)({id:"componentOverview.body.EditHealthCheck.input_over_time"})},...I]})(P()),L),h.default.createElement(_,(0,i.default)({},T,{label:h.default.createElement(v.FormattedMessage,{id:"componentOverview.body.EditHealthCheck.success"})}),M("success_threshold",{initialValue:A?"1":p.success_threshold||"1",rules:[{required:!0,message:(0,v.formatMessage)({id:"componentOverview.body.EditHealthCheck.success_frequency"})},...I]})(P(A)))))}},u=p))||u);t.default=C},Bqs9:function(e,t,a){e.exports={radar:"radar___1FPjx",legend:"legend___1kSGR",legendItem:"legendItem___3ksgs",dot:"dot___cjsOO"}},CQXj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l={getInitWaitTime(e){return e.initial_delay_second},getIntervalTime(e){return e.period_second},getTimeoutTime(e){return e.timeout_second},getSuccessTimes(e){return e.success_threshold},getFailTimes(e){return e.failure_threshold},getPort(e){return e.port},getProtocol(e){return e.scheme},getHeaders(e){return e.http_header},getPath(e){return e.path},getcnName(e){return"readiness"===e.mode?"\u542f\u52a8\u65f6\u68c0\u6d4b":"liveness"===e.mode?"\u8fd0\u884c\u65f6\u68c0\u6d4b":""},isStartProbeUsed(e){return"readiness"===e.mode||"liveness"===e.mode},isStartProbeStart(e){return!0===e.is_used},isRunningProbeUsed(e){return"liveness"===e.mode},isRunningProbeStart(e){return!0===e.is_used},isUsed(e){return e.is_used}},n=l;t.default=n},CklV:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("q1tI")),i=l(a("dZOw"));l(a("QDog"));class r extends s.Component{render(){return s.default.createElement("div",null,s.default.createElement(i.default,{isCom:!0}))}}t.default=r},DXno:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("g9YV");var i=l(a("wCAj"));a("14J3");var r=l(a("BMrR"));a("jCWc");var o=l(a("kPKH"));a("5Dmo");var d=l(a("3S7+"));a("Pwec");var c=l(a("CtXQ"));a("+L6B");var u,p,m,h=l(a("2/Rp")),f=a("KTCi"),g=l(a("puxM")),v=l(a("QDog")),y=l(a("YM/Z")),_=l(a("rIpq")),b=l(a("zcww")),E=l(a("+iC2")),w=a("MuoO"),C=l(a("ZhIB")),M=n(a("q1tI")),S=a("LLXN"),k=(h.default.Group,u=(0,w.connect)(e=>{var t=e.user,a=e.appControl;return{currUser:t.currentUser,appDetail:a.appDetail,onlineNumber:a.onlineNumber,onlineNumberRange:a.onlineNumberRange,appRequest:a.appRequest,appRequestRange:a.appRequestRange,requestTime:a.requestTime,requestTimeRange:a.requestTimeRange}}),u((m=class extends M.PureComponent{constructor(e){super(e),this.getSocketUrl=(()=>{var e=E.default.getTeamByTeamName(this.props.currUser,v.default.getCurrTeamName()),t=v.default.getCurrRegionName();if(e){var a=b.default.getRegionByName(e,t);if(a)return _.default.getMonitorWebSocketUrl(a)}return""}),this.inerval=5e3,this.state={logs:[]}}componentDidMount(){this.mounted=!0,this.fetchRequestTime(),this.fetchRequestTimeRange(),this.fetchRequest(),this.fetchRequestRange(),this.fetchOnlineNumber(),this.fetchOnlineNumberRange(),this.createSocket()}componentWillUnmount(){this.mounted=!1,this.props.dispatch({type:"appControl/clearOnlineNumberRange"}),this.props.dispatch({type:"appControl/clearRequestTime"}),this.props.dispatch({type:"appControl/clearRequestTimeRange"}),this.props.dispatch({type:"appControl/clearRequest"}),this.props.dispatch({type:"appControl/clearRequestRange"}),this.props.dispatch({type:"appControl/clearOnlineNumber"});var e=this.props.socket;e&&e.closeMonitorMessage()}getStartTime(){return(new Date).getTime()/1e3-3600}getStep(){return 60}fetchRequestTime(){this.mounted&&this.props.dispatch({type:"appControl/fetchRequestTime",payload:{team_name:v.default.getCurrTeamName(),app_alias:this.props.appAlias,serviceId:this.props.appDetail.service.service_id},complete:()=>{this.mounted&&setTimeout(()=>{this.fetchRequestTime()},this.inerval)}})}fetchRequestTimeRange(){this.mounted&&this.props.dispatch({type:"appControl/fetchRequestTimeRange",payload:{team_name:v.default.getCurrTeamName(),app_alias:this.props.appAlias,start:this.getStartTime(),serviceId:this.props.appDetail.service.service_id,step:this.getStep()},complete:()=>{this.mounted&&setTimeout(()=>{this.fetchRequestTimeRange()},this.inerval)}})}fetchRequest(){this.mounted&&this.props.dispatch({type:"appControl/fetchRequest",payload:{team_name:v.default.getCurrTeamName(),app_alias:this.props.appAlias,serviceId:this.props.appDetail.service.service_id},complete:()=>{this.mounted&&setTimeout(()=>{this.fetchRequest()},this.inerval)}})}fetchRequestRange(){this.mounted&&this.props.dispatch({type:"appControl/fetchRequestRange",payload:{team_name:v.default.getCurrTeamName(),app_alias:this.props.appAlias,start:this.getStartTime(),serviceId:this.props.appDetail.service.service_id,step:this.getStep()},complete:()=>{this.mounted&&setTimeout(()=>{this.fetchRequestRange()},this.inerval)}})}fetchOnlineNumber(){this.mounted&&this.props.dispatch({type:"appControl/fetchOnlineNumber",payload:{team_name:v.default.getCurrTeamName(),app_alias:this.props.appAlias,serviceId:this.props.appDetail.service.service_id},complete:()=>{this.mounted&&setTimeout(()=>{this.fetchOnlineNumber()},this.inerval)}})}fetchOnlineNumberRange(){this.mounted&&this.props.dispatch({type:"appControl/fetchOnlineNumberRange",payload:{team_name:v.default.getCurrTeamName(),app_alias:this.props.appAlias,start:this.getStartTime(),serviceId:this.props.appDetail.service.service_id,step:this.getStep()},complete:()=>{this.mounted&&setTimeout(()=>{this.fetchOnlineNumberRange()},this.inerval)}})}createSocket(){var e=this.props.socket;e&&e.setOnMonitorMessage(e=>{this.updateTable(e)})}updateTable(e){try{e=JSON.parse(e)}catch(e){}this.setState({logs:e})}render(){var e={xs:24,sm:12,md:12,lg:12,xl:8,style:{marginBottom:24}};return M.default.createElement(M.Fragment,null,M.default.createElement(r.default,{gutter:24},M.default.createElement(o.default,e,M.default.createElement(f.ChartCard,{title:M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.now.time"}),action:M.default.createElement(d.default,{title:M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.now.averageTime"})}," ",M.default.createElement(c.default,{type:"info-circle-o"})," "),total:(0,C.default)(y.default.queryTog2(this.props.requestTime)).format("0,0"),footer:M.default.createElement(f.Field,{label:"",value:""}),contentHeight:46},M.default.createElement(f.MiniArea,{color:"#975FE4",data:y.default.queryRangeTog2(this.props.requestTimeRange)}))),M.default.createElement(o.default,e,M.default.createElement(f.ChartCard,{title:M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.now.throughput"}),action:M.default.createElement(d.default,{title:M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.now.NumberOfRequests"})}," ",M.default.createElement(c.default,{type:"info-circle-o"})," "),total:(0,C.default)(y.default.queryTog2(this.props.appRequest)).format("0,0"),footer:M.default.createElement(f.Field,{label:"",value:""}),contentHeight:46},M.default.createElement(f.MiniArea,{color:"#4593fc",data:y.default.queryRangeTog2(this.props.appRequestRange)}))),M.default.createElement(o.default,e,M.default.createElement(f.ChartCard,{title:M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.now.onlineNumber"}),action:M.default.createElement(d.default,{title:M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.now.independent"})}," ",M.default.createElement(c.default,{type:"info-circle-o"})," "),total:(0,C.default)(y.default.queryTog2(this.props.onlineNumber)).format("0,0"),footer:M.default.createElement(f.Field,{label:"",value:""}),contentHeight:46},M.default.createElement(f.MiniBar,{data:y.default.queryRangeTog2(this.props.onlineNumberRange)})))),M.default.createElement(s.default,{title:M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.now.ranking"})},M.default.createElement(g.default,{sm:700},M.default.createElement(i.default,{rowKey:(e,t)=>t,columns:[{title:"Url",dataIndex:"Key"},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.monitor.now.cumulativeTime"}),dataIndex:"CumulativeTime",width:150},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.monitor.now.AverageTime"}),dataIndex:"AverageTime",width:150},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.monitor.now.requests"}),dataIndex:"Count",width:100},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.monitor.now.abnormalTimes"}),dataIndex:"AbnormalCount",width:100}],pagination:!1,dataSource:this.state.logs}))))}},p=m))||p);t.default=k},EhlT:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("g9YV");var i=l(a("wCAj"));a("+L6B");var r=l(a("2/Rp"));a("Pwec");var o=l(a("CtXQ"));a("/xke");var d,c,u,p=l(a("TeRw")),m=a("MuoO"),h=a("7DNP"),f=n(a("q1tI")),g=l(a("8hm0")),v=(l(a("MXRY")),l(a("cUW5")),l(a("puxM"))),y=a("xpXo"),_=l(a("QDog")),b=a("LLXN"),E=l(a("oRox")),w=(d=(0,m.connect)(null,null,null,{withRef:!0}),d((u=class extends f.PureComponent{constructor(e){super(e),this.onPageChange=((e,t)=>{this.setState({page:e,pageSize:t},()=>{this.loadRelationedApp()})}),this.loadRelationedApp=(()=>{var e=this.state,t=e.page,a=e.pageSize;(0,y.getRelatumApp)({team_name:_.default.getCurrTeamName(),app_alias:this.props.appAlias,page:t,pageSize:a}).then(e=>{if(e){var t=e.bean.port_list;e.list&&e.list.length>0&&e.list.map(e=>{var a=e.ports_list;return t=t.concat(a),e}),t=this.isRepeat(t),this.setState({relationList:e.list||[],showText:t,total:e.bean.total,serviceId:e.bean.service_id})}})}),this.isRepeat=(e=>{var t={};for(var a in e){if(t[e[a]])return!0;t[e[a]]=!0}return!1}),this.showAddRelation=(()=>{this.setState({showAddRelation:!0})}),this.handleCancelAddRelation=(()=>{this.setState({showAddRelation:!1})}),this.handleSubmitAddRelation=(e=>{var t=this.props,a=t.dispatch,l=t.appAlias,n=e.join(",");a({type:"appControl/addReverseDependency",payload:{team_name:_.default.getCurrTeamName(),app_alias:l,be_dep_service_ids:n},callback:e=>{e&&(p.default.info({message:(0,b.formatMessage)({id:"notification.hint.toUpdata"})}),this.loadRelationedApp(),this.handleCancelAddRelation())}})}),this.handleRemoveRelationed=(e=>{var t=this.state.serviceId;(0,y.removeRelationedApp)({team_name:_.default.getCurrTeamName(),app_alias:e.service_alias,dep_service_id:t}).then(e=>{e&&this.loadRelationedApp()})}),this.state={showAddRelation:!1,relationList:[],viewRelationInfo:null,showText:null,page:1,pageSize:5,total:0,serviceId:""}}componentDidMount(){this.loadRelationedApp()}render(){var e=this.state,t=(e.showText,e.relationList),a=this.props;a.appAlias,a.method;return f.default.createElement(f.Fragment,null,f.default.createElement(s.default,{title:f.default.createElement(f.default.Fragment,null,f.default.createElement("span",null,(0,b.formatMessage)({id:"componentOther.relationMnt.desc_reverse_relation"})),f.default.createElement("span",{className:E.default.desc},(0,b.formatMessage)({id:"componentOther.relationMnt.desc_reverse"}))),extra:f.default.createElement(r.default,{onClick:this.showAddRelation},f.default.createElement(o.default,{type:"plus"})," ",f.default.createElement(b.FormattedMessage,{id:"componentOverview.body.Relation.EnvironmentVariable.add"})),style:{borderRadius:5,marginTop:"20px"}},f.default.createElement(v.default,{sm:650},f.default.createElement(i.default,{rowKey:(e,t)=>t,pagination:{current:this.state.page,pageSize:this.state.pageSize,total:this.state.total,onChange:this.onPageChange,onShowSizeChange:this.onPageChange,showQuickJumper:!0,showSizeChanger:!0,showTotal:e=>"\u5171 ".concat(e," \u6761"),pageSizeOptions:["5","10","20","30"],hideOnSinglePage:Number(this.state.total)<=5},columns:[{title:(0,b.formatMessage)({id:"componentOverview.body.Relation.table.service_cname"}),dataIndex:"service_cname",render:(e,t)=>f.default.createElement(h.Link,{to:"/team/".concat(_.default.getCurrTeamName(),"/region/").concat(_.default.getCurrRegionName(),"/apps/").concat(t.group_id,"/overview?type=components&componentID=").concat(t.service_alias,"&tab=overview")},e)},{title:(0,b.formatMessage)({id:"componentOverview.body.Relation.table.group_name"}),dataIndex:"group_name",render:(e,t)=>f.default.createElement(h.Link,{to:"/team/".concat(_.default.getCurrTeamName(),"/region/").concat(_.default.getCurrRegionName(),"/apps/").concat(t.group_id,"/overview")},e)},{title:(0,b.formatMessage)({id:"componentOverview.body.Relation.table.operation"}),dataIndex:"var",render:(e,t)=>f.default.createElement(f.Fragment,null,f.default.createElement("a",{onClick:()=>{this.handleRemoveRelationed(t)},href:"javascript:;",style:{margintRight:10}},f.default.createElement(b.FormattedMessage,{id:"componentOverview.body.Relation.table.cancel"})))}],dataSource:t}))),this.state.showAddRelation&&f.default.createElement(g.default,{type:"relatum",appAlias:this.props.appAlias,onCancel:this.handleCancelAddRelation,onSubmit:this.handleSubmitAddRelation}))}},c=u))||c);t.default=w},"FLM/":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s,i=l(a("q1tI")),r=a("yP6+"),o=l(a("RFWI")),d=r.Guide.Arc,c=r.Guide.Html,u=r.Guide.Line,p=e=>{switch(e){case"2":return"\u5dee";case"4":return"\u4e2d";case"6":return"\u826f";case"8":return"\u4f18";default:return""}};r.Shape.registerShape("point","pointer",{drawShape(e,t){var a=e.points[0];a=this.parsePoint(a);var l=this.parsePoint({x:0,y:0});return t.addShape("line",{attrs:{x1:l.x,y1:l.y,x2:a.x,y2:a.y,stroke:e.color,lineWidth:2,lineCap:"round"}}),t.addShape("circle",{attrs:{x:l.x,y:l.y,r:6,stroke:e.color,lineWidth:3,fill:"#fff"}})}});var m=(n=(0,o.default)(),n(s=class extends i.default.Component{render(){var e=this.props,t=e.title,a=e.height,l=e.percent,n=e.forceFit,s=void 0===n||n,o=e.formatter,m=void 0===o?p:o,h=e.color,f=void 0===h?"#2F9CFF":h,g=e.bgColor,v=void 0===g?"#F0F2F5":g,y={value:{type:"linear",min:0,max:10,tickCount:6,nice:!0}},_=[{value:l/10}];return i.default.createElement(r.Chart,{height:a,data:_,scale:y,padding:[-16,0,16,0],forceFit:s},i.default.createElement(r.Coord,{type:"polar",startAngle:-1.25*Math.PI,endAngle:.25*Math.PI,radius:.8}),i.default.createElement(r.Axis,{name:"1",line:null}),i.default.createElement(r.Axis,{line:null,tickLine:null,subTickLine:null,name:"value",zIndex:2,gird:null,label:{offset:-12,formatter:m,textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",textAlign:"center"}}}),i.default.createElement(r.Guide,null,i.default.createElement(u,{start:[3,.905],end:[3,.85],lineStyle:{stroke:f,lineDash:null,lineWidth:2}}),i.default.createElement(u,{start:[5,.905],end:[5,.85],lineStyle:{stroke:f,lineDash:null,lineWidth:3}}),i.default.createElement(u,{start:[7,.905],end:[7,.85],lineStyle:{stroke:f,lineDash:null,lineWidth:3}}),i.default.createElement(d,{zIndex:0,start:[0,.965],end:[10,.965],style:{stroke:v,lineWidth:10}}),i.default.createElement(d,{zIndex:1,start:[0,.965],end:[_[0].value,.965],style:{stroke:f,lineWidth:10}}),i.default.createElement(c,{position:["50%","95%"],html:()=>{return'\n                <div style="width: 300px;text-align: center;font-size: 12px!important;">\n                  <p style="font-size: 14px; color: rgba(0,0,0,0.43);margin: 0;">'.concat(t,'</p>\n                  <p style="font-size: 24px;color: rgba(0,0,0,0.85);margin: 0;">\n                    ').concat(10*_[0].value,"%\n                  </p>\n                </div>")}})),i.default.createElement(r.Geom,{line:!1,type:"point",position:"value*1",shape:"pointer",color:f,active:!1}))}})||s);t.default=m},Fqoj:function(e,t,a){e.exports={desc:"desc___3biFj"}},GK43:function(e,t,a){e.exports={contentTitle:"contentTitle___3KnnA"}},GUlx:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=n(a("kLXV")),i=n(a("jehZ"));a("+L6B");var r=n(a("2/Rp"));a("y8nQ");var o=n(a("Vl3Y")),d=l(a("q1tI")),c=n(a("CQXj")),u=o.default.Item;class p extends d.PureComponent{render(){var e=this.props,t=e.title,a=e.onCancel,l=this.props.data||{},n={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return d.default.createElement(s.default,{title:t,visible:!0,onCancel:a,footer:[d.default.createElement(r.default,{onClick:a}," ",d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.close"})," ")]},d.default.createElement(o.default,null,d.default.createElement(u,(0,i.default)({},n,{label:d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.Monitoring_port"})}),d.default.createElement("span",null,l.port)),d.default.createElement(u,(0,i.default)({},n,{label:d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.agreement"})}),d.default.createElement("span",null,l.scheme)),d.default.createElement(u,(0,i.default)({},n,{label:d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.unhealth"})}),d.default.createElement("span",null,"readiness"==l.mode?d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.OfflineOffline"}):"liveness"==l.mode?d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.restart"}):d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.setting"}))),"http"===l.scheme?d.default.createElement(d.Fragment,null,d.default.createElement(u,(0,i.default)({},n,{label:d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.http"})}),d.default.createElement("span",null,c.default.getHeaders(l))),d.default.createElement(u,(0,i.default)({},n,{label:d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.path"})}),d.default.createElement("span",null,c.default.getPath(l)))):null,d.default.createElement(u,(0,i.default)({},n,{label:d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.initialization"})}),d.default.createElement("span",null,c.default.getInitWaitTime(l),d.default.createElement("span",{style:{marginLeft:8}},d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.second"})))),d.default.createElement(u,(0,i.default)({},n,{label:d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.testing_time"})}),d.default.createElement("span",null,c.default.getIntervalTime(l),d.default.createElement("span",{style:{marginLeft:8}},d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.second"})))),d.default.createElement(u,(0,i.default)({},n,{label:d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.overtime"})}),d.default.createElement("span",null,c.default.getTimeoutTime(l),d.default.createElement("span",{style:{marginLeft:8}},d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.second"})))),d.default.createElement(u,(0,i.default)({},n,{label:d.default.createElement(FormattedMessage,{id:"componentOverview.body.ViewHealthCheck.success"})}),d.default.createElement("span",null,c.default.getSuccessTimes(l)))))}}t.default=p},H6Z4:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(a("jehZ"));a("5NDa");var i=l(a("5rEg"));a("/xke");var r=l(a("TeRw")),o=l(a("p0pE"));a("2qtc");var d=l(a("kLXV"));a("OaEy");var c=l(a("2fM7"));a("y8nQ");var u,p,m,h,f=l(a("Vl3Y")),g=a("MuoO"),v=n(a("q1tI")),y=a("LLXN"),_=l(a("8+Sn")),b=l(a("e6Ls")),E=f.default.Item,w=c.default.Option,C=d.default.confirm,M=(u=f.default.create(),p=(0,g.connect)(),u(m=p((h=class extends v.PureComponent{constructor(e){super(e),this.onOk=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.onOk,n=this.state,s=n.unit,i=n.portList;n.language;a.validateFields({force:!0},(e,t)=>{if(!e&&l){t.interval+="".concat(s),t.port=Number(t.port);var a=i.filter(e=>{return"".concat(t.port)==="".concat(e.container_port)})[0];a.is_outer_service||a.is_inner_service?l(t):this.handleOpenInner(t)}})}),this.handleOpenInner=(e=>{var t=this.props,a=t.dispatch,l=t.parameter,n=t.onOk;C({title:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.port"}),content:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.Internally"}),okText:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.Open"}),cancelText:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.cancel"}),onOk(){return new Promise((t,s)=>{a({type:"appControl/openPortInner",payload:(0,o.default)({},l,{port:e.port}),callback:()=>{n(e),r.default.success({message:(0,y.formatMessage)({id:"notification.success.opened_successfully"})}),d.default.destroyAll()}}),setTimeout(Math.random()>.5?t:s,2e3)})},onCancel(){}})}),this.handleChange=(e=>{this.setState({unit:e})}),this.handlePorts=(()=>{var e=this.props,t=e.dispatch,a=e.parameter;t({type:"appControl/fetchPorts",payload:a,callback:e=>{e&&this.setState({portList:e.list})}})}),this.checkContent=((e,t,a)=>{var l=Number(t);if(l||0===l){if(l<1)return void a("".concat((0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.min"})));if(l>65535)return void a("".concat((0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.max"})))}a()});var t=this.props.data;this.state={portList:[],unit:t.interval?t.interval.slice(t.interval.length-1):"s",language:"zh-CN"===_.default.get("language")}}componentDidMount(){this.handlePorts()}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.form,n=e.data,r=void 0===n?{}:n,o=e.loading,u=void 0!==o&&o,p=this.state,m=p.unit,h=p.portList,g=p.language,_=l.getFieldDecorator,C={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},M={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},S=g?C:M,k=v.default.createElement(c.default,{getPopupContainer:e=>e.parentNode,defaultValue:m,style:{width:80},onChange:this.handleChange},v.default.createElement(w,{value:"s"},(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.second"})),v.default.createElement(w,{value:"m"},(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.minute"})),v.default.createElement(w,{value:"h"},(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.hour"}))),O="";r.interval&&(O=r.interval.slice(0,r.interval.length-1));var x={pattern:/^[a-zA-Z]+$/,message:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.Only"})},A={max:40,message:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.Maximum"})};return v.default.createElement(d.default,{title:t||r.name?(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.edit"}):(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.add"}),visible:!0,confirmLoading:u,className:b.default.TelescopicModal,onCancel:a,onOk:this.onOk,okText:r.name?(0,y.formatMessage)({id:"button.save"}):(0,y.formatMessage)({id:"button.add"})},v.default.createElement(f.default,{onSubmit:this.onOk},v.default.createElement(E,(0,s.default)({},S,{label:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.name"})}),_("name",{initialValue:r.name||"",rules:[{required:!0,message:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.input_name"})},x,A]})(v.default.createElement(i.default,{disabled:r.name,placeholder:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.input_name"})}))),v.default.createElement(E,(0,s.default)({},S,{label:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.collect"})}),_("service_show_name",{initialValue:r.service_show_name||"",rules:[{required:!0,message:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.collect_name"})},x,A]})(v.default.createElement(i.default,{placeholder:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.collect_name"})}))),v.default.createElement(E,(0,s.default)({},S,{label:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.collect_time"})}),_("interval",{initialValue:O||"10",rules:[{required:!0,message:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.collect_time"})},{validator:this.checkContent}]})(v.default.createElement(i.default,{type:"number",min:1,max:65535,addonAfter:k,defaultValue:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.collect_time"})}))),v.default.createElement(E,(0,s.default)({},S,{label:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.path"})}),_("path",{initialValue:r.path||"/metrics",rules:[{required:!0,message:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.input_path"})},{max:255,message:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.Maximum_length"})}]})(v.default.createElement(i.default,{placeholder:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.input_path"})}))),v.default.createElement(E,(0,s.default)({},S,{label:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.port_num"})}),_("port",{initialValue:r.port||(h.length>0?h[0].container_port:""),rules:[{required:!0,message:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.input_port"})}]})(v.default.createElement(c.default,{placeholder:(0,y.formatMessage)({id:"componentOverview.body.tab.AddCustomMonitor.input_port"}),getPopupContainer:e=>e.parentNode},h.map(e=>{var t=e.container_port,a=e.ID;return v.default.createElement(w,{value:t,key:a},t)}))))))}},m=h))||m)||m);t.default=M},IJET:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,i,r,o,d,c,u,p=l(a("qIgq")),m=l(a("PVCE")),h=l(a("SQvw")),f=(l(a("WkMh")),n(a("q1tI"))),g=a("yP6+"),v=l(a("cQSq")),y=l(a("fqkP")),_=l(a("UjoV")),b=l(a("TSYQ")),E=l(a("RFWI")),w=l(a("Rg9O")),C="https://gw.alipayobjects.com/zos/rmsportal/gWyeGLCdFFRavBGIDzWk.png",M=(s=(0,E.default)(),i=(0,_.default)(),r=(0,y.default)(500),s((u=class extends f.Component{constructor(){super(...arguments),this.state={dv:null},this.resize=(()=>{this.renderChart()}),this.saveRootRef=(e=>{this.root=e}),this.initTagCloud=(()=>{function e(e){return Object.assign({},{fillOpacity:e.opacity,fontSize:e.origin._origin.size,rotate:e.origin._origin.rotate,text:e.origin._origin.text,textAlign:"center",fontFamily:e.origin._origin.font,fill:e.color,textBaseline:"Alphabetic"},e.style)}g.Shape.registerShape("point","cloud",{drawShape(t,a){var l=e(t);return a.addShape("text",{attrs:Object.assign(l,{x:t.x,y:t.y})})}})}),(0,m.default)(this,"renderChart",c,this)}componentDidMount(){this.initTagCloud(),this.renderChart(),window.addEventListener("resize",this.resize)}componentWillReceiveProps(e){JSON.stringify(e.data)!==JSON.stringify(this.props.data)&&this.renderChart(e)}componentWillUnmount(){this.isUnmount=!0,window.removeEventListener("resize",this.resize)}render(){var e=this.props,t=e.className,a=e.height,l=this.state,n=l.dv,s=l.w,i=l.h;return f.default.createElement("div",{className:(0,b.default)(w.default.tagCloud,t),style:{width:"100%",height:a},ref:this.saveRootRef},n&&f.default.createElement(g.Chart,{width:s,height:i,data:n,padding:0,scale:{x:{nice:!1},y:{nice:!1}}},f.default.createElement(g.Coord,{reflect:"y"}),f.default.createElement(g.Geom,{type:"point",position:"x*y",color:"text",shape:"cloud"})))}},d=u,c=(0,h.default)(d.prototype,"renderChart",[i,r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{var t=e||this.props,a=t.data,l=t.height;if(!(a.length<1)&&this.root){var n=4*l,s=4*this.root.offsetWidth,i=()=>{var e=(new v.default.View).source(a),t=e.range("value"),l=(0,p.default)(t,2),i=l[0],r=l[1];e.transform({type:"tag-cloud",fields:["name","value"],imageMask:this.imageMask,font:"Verdana",size:[s,n],padding:5,timeInterval:5e3,rotate(){return 0},fontSize(e){return 50*Math.pow((e.value-i)/(r-i),2)+20}}),this.isUnmount||this.setState({dv:e,w:s,h:n})};this.imageMask?i():(this.imageMask=new Image,this.imageMask.crossOrigin="",this.imageMask.src=C,this.imageMask.onload=i)}}}}),o=d))||o),S=M;t.default=S},IhRX:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var s=n(a("BMrR"));a("+L6B");var i=n(a("2/Rp"));a("jCWc");var r=n(a("kPKH"));a("5NDa");var o=n(a("5rEg")),d=l(a("q1tI")),c=a("LLXN");class u extends d.Component{constructor(e){super(e),this.add=(()=>{var e=this.state.values;this.setState({values:e.concat({key:"",value:""})})}),this.remove=(e=>{var t=this.state.values;t.splice(e,1),this.setValues(t),this.triggerChange(t)}),this.onKeyChange=((e,t)=>{var a=this.state.values;a[e].key=t.target.value,this.triggerChange(a),this.setValues(a)}),this.onValueChange=((e,t)=>{var a=this.state.values;a[e].value=t.target.value,this.triggerChange(a),this.setValues(a)}),this.state={values:[{key:"",value:""}]},this.initFromProps()}componentWillReceiveProps(e){if("value"in e){var t=e.value;this.initFromProps(t)}}initFromProps(e){e=e||this.props.value;if(e){for(var t=[],a=e.split(","),l=0;l<a.length;l++)""!==a[l].split("=")[0]&&t.push({key:a[l].split("=")[0],value:a[l].split("=")[1]});this.setValues(t)}}setValues(e){e=e||[],e.length||e.push({key:"",value:""}),this.setState({values:e})}triggerChange(e){for(var t=[],a=0;a<e.length;a++)""!==e[a].key&&t.push("".concat(e[a].key,"=").concat(e[a].value));var l=this.props.onChange;l&&l(t.join(","))}render(){var e=this.props.keyPlaceholder||(0,c.formatMessage)({id:"placeholder.contiguration.msg.key"}),t=this.props.valuePlaceholder||(0,c.formatMessage)({id:"placeholder.contiguration.msg.value"}),a=this.state.values;return d.default.createElement("div",null,a.map((a,l)=>{return d.default.createElement(s.default,{key:l},d.default.createElement(r.default,{span:8},d.default.createElement(o.default,{name:"key",onChange:this.onKeyChange.bind(this,l),value:a.key,placeholder:e})),d.default.createElement(r.default,{span:2,style:{textAlign:"center"}},"="),d.default.createElement(r.default,{span:8},d.default.createElement(o.default,{name:"value",onChange:this.onValueChange.bind(this,l),value:a.value,placeholder:t})),d.default.createElement(r.default,{span:6,style:{textAlign:"center"}},0==l?d.default.createElement(i.default,{onClick:this.add,type:"primary"},"\u6dfb\u52a0"):d.default.createElement(i.default,{onClick:this.remove.bind(this,l)},"\u5220\u9664")))}))}}var p=u;t.default=p},J1yd:function(e,t,a){e.exports={container:"container___2aanE",content:"content___xljF9",loadingContainer:"loadingContainer___38eu-"}},JChg:function(e,t,a){e.exports={headerBox:"headerBox___3ahLq",icons:"icons___21iNz",verticalCen:"verticalCen___3ErRr",tabsStyle:"tabsStyle___3YbuW",tabs:"tabs___gDbju",pageHeader:"pageHeader___QfWbF",close:"close___3SotN",detail:"detail___1XL8s",row:"row___BXu-8",breadcrumb:"breadcrumb___zUWy2",title:"title___2562R",title_svg:"title_svg___o_f7I",action:"action___1yjLM",content:"content___Trk3u",extraContent:"extraContent___6bNvd",main:"main___2hsY3",logo:"logo___cVcNn",Plugin_Icon:"Plugin_Icon___3J196",title_style:"title_style___33J9A"}},JnT6:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("/zsF");var s,i,r,o,d,c,u=l(a("PArb")),p=l(a("SQvw")),m=n(a("q1tI")),h=a("yP6+"),f=a("cQSq"),g=l(a("TSYQ")),v=l(a("Jssm")),y=l(a("fqkP")),_=l(a("UjoV")),b=l(a("RFWI")),E=l(a("1LoT")),w=(s=(0,b.default)(),i=(0,_.default)(),r=(0,y.default)(300),s((c=class extends m.Component{constructor(){super(...arguments),this.state={legendData:[],legendBlock:!1},this.getG2Instance=(e=>{this.chart=e}),this.getLengendData=(()=>{if(this.chart){var e=this.chart.getAllGeoms()[0],t=e.get("dataArray")||[],a=t.map(e=>{var t=e[0]._origin;return t.color=e[0].color,t.checked=!0,t});this.setState({legendData:a})}}),this.handleRoot=(e=>{this.root=e}),this.handleLegendClick=((e,t)=>{var a=e;a.checked=!a.checked;var l=this.state.legendData;l[t]=a;var n=l.filter(e=>e.checked).map(e=>e.x);this.chart&&this.chart.filter("x",e=>n.indexOf(e)>-1),this.setState({legendData:l})})}componentDidMount(){this.getLengendData(),this.resize(),window.addEventListener("resize",this.resize)}componentWillReceiveProps(e){this.props.data!==e.data&&this.getLengendData()}componentWillUnmount(){window.removeEventListener("resize",this.resize),this.resize.cancel()}resize(){var e=this.props.hasLegend;e&&this.root?this.root.parentNode.clientWidth<=380?this.state.legendBlock||this.setState({legendBlock:!0}):this.state.legendBlock&&this.setState({legendBlock:!1}):window.removeEventListener("resize",this.resize)}render(){var e,t=this.props,a=t.valueFormat,l=t.subTitle,n=t.total,s=t.hasLegend,i=void 0!==s&&s,r=t.className,o=t.style,d=t.height,c=t.forceFit,p=void 0===c||c,y=t.percent,_=void 0===y?0:y,b=t.color,w=t.inner,C=void 0===w?.75:w,M=t.animate,S=void 0===M||M,k=t.colors,O=t.lineWidth,x=void 0===O?1:O,A=t.types,D=void 0===A?"app":A,F=this.state,N=F.legendData,T=F.legendBlock,L=(0,g.default)(E.default.pie,r,{[E.default.hasLegend]:!!i,[E.default.legendBlock]:T}),P=k,I=this.props.data||[],R=this.props.selected||!0,V=this.props.tooltip||!0,B={x:{type:"cat",range:[0,1]},y:{min:0}};_&&(R=!1,V=!1,e=(e=>{return"\u5360\u6bd4"===e?b||"rgba(24, 144, 255, 0.85)":"#C2C7D9"}),I=[{x:"\u5360\u6bd4",y:parseFloat(_)},{x:"\u53cd\u6bd4",y:100-parseFloat(_)}]);var z=["x*percent",(e,t)=>({name:e,value:"".concat((100*t).toFixed(2),"%")})],H=[0,0,0,0],q=new f.DataView;return q.source(I).transform({type:"percent",field:"y",dimension:"x",as:"percent"}),m.default.createElement("div",{ref:this.handleRoot,className:L,style:o},m.default.createElement(v.default,{maxFontSize:25},m.default.createElement("div",{className:E.default.chart},m.default.createElement(h.Chart,{scale:B,height:d,forceFit:p,data:q,padding:H,animate:S,onGetG2Instance:this.getG2Instance},!!V&&m.default.createElement(h.Tooltip,{showTitle:!1}),m.default.createElement(h.Coord,{type:"theta",innerRadius:C}),m.default.createElement(h.Geom,{style:{lineWidth:x,stroke:"#fff"},tooltip:V&&z,type:"intervalStack",position:"percent",color:["x",_?e:P],selected:R})),(l||n)&&m.default.createElement("div",{className:"app"===D?E.default.apptotal:E.default.total},l&&m.default.createElement("h4",{className:"pie-sub-title"},l),n&&m.default.createElement("div",{className:"pie-stat",dangerouslySetInnerHTML:{__html:n}})))),i&&m.default.createElement("ul",{className:E.default.legend},N.map((e,t)=>m.default.createElement("li",{key:e.x,onClick:()=>this.handleLegendClick(e,t)},m.default.createElement("span",{className:E.default.dot,style:{backgroundColor:e.checked?e.color:"#aaa"}}),m.default.createElement("span",{className:E.default.legendTitle},e.x),m.default.createElement(u.default,{type:"vertical"}),m.default.createElement("span",{className:E.default.percent},"".concat((isNaN(e.percent)?0:100*e.percent).toFixed(2),"%")),m.default.createElement("span",{className:E.default.value,dangerouslySetInnerHTML:{__html:a?a(e.y):e.y}})))))}},d=c,(0,p.default)(d.prototype,"resize",[i,r],Object.getOwnPropertyDescriptor(d.prototype,"resize"),d.prototype),o=d))||o);t.default=w},KSU3:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var s=l(a("5rEg"));a("2qtc");var i=l(a("kLXV"));a("T2oS");var r=l(a("W9HT"));a("R9oj");var o=l(a("ECub"));a("5Dmo");var d=l(a("3S7+"));a("14J3");var c=l(a("BMrR"));a("jCWc");var u=l(a("kPKH"));a("qVdP");var p=l(a("jsC+"));a("DZo9");var m=l(a("8z0m")),h=l(a("jehZ"));a("+L6B");var f=l(a("2/Rp"));a("OaEy");var g=l(a("2fM7"));a("lUTK");var v=l(a("BvKs"));a("Pwec");var y=l(a("CtXQ")),_=l(a("d6i3")),b=l(a("1l/V"));a("/xke");var E=l(a("TeRw"));a("ozfa");var w,C,M,S=l(a("MJZm")),k=n(a("q1tI")),O=a("MuoO"),x=a("LLXN"),A=l(a("QDog")),D=l(a("mJtp")),F=(l(a("nyIC")),l(a("vDqi")),l(a("zRno"))),N=l(a("baTW")),T=l(a("8+Sn")),L=S.default.TreeNode,P=(S.default.DirectoryTree,w=(0,O.connect)(e=>{var t=e.appControl;return{appDetail:t.appDetail}}),w((M=class extends k.Component{constructor(e){var t;super(e),t=this,this.fetchUserInfo=(()=>{this.props.dispatch({type:"user/fetchCurrent",payload:{team_name:A.default.getCurrTeamName()},callback:e=>{e&&this.setState({userName:e.bean.user_name})}})}),this.fetchInstanceInfo=(()=>{var e=this.props.dispatch;e({type:"appControl/fetchPods",payload:{team_name:A.default.getCurrTeamName(),app_alias:this.props.appAlias},callback:e=>{e&&e.list&&this.setState({podsList:e.list.new_pods,selectDefaultValue:e.list.new_pods&&e.list.new_pods[0]&&e.list.new_pods[0].pod_name,containerName:e.list.new_pods&&e.list.new_pods[0]&&e.list.new_pods[0].container[0]&&e.list.new_pods[0].container[0].container_name,selectLoading:!0},()=>{this.getListFiles()})}})}),this.getListFiles=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.props.dispatch({type:"appControl/getListFiles",payload:{team_name:A.default.getCurrTeamName(),group_id:t.props.appAlias,region_name:A.default.getCurrRegionName(),pod_name:t.state.selectDefaultValue,host_path:t.state.hostPath,container_name:t.state.containerName,extend_method:t.props.appDetail&&t.props.appDetail.service&&t.props.appDetail.service.extend_method},callback:e=>{if(e&&e.bean&&t.setState({nameSpace:e.bean.namespace}),e&&e.list){e.list.map((e,t)=>{e.key=t,e.isLeaf=e.is_leaf});var a="".concat(window.location.protocol).concat(e.bean&&e.bean.ws_url&&e.bean.ws_url.substring(e.bean.ws_url.indexOf("/")));t.setState({treeData:e.list,showData:t.sortShowData(e.list),treeDataLoading:!0,downOrUploadPath:a,showDataLoading:!0})}},handleError:e=>{e&&(E.default.error({message:(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.error"})}),t.setState({showData:[],treeData:[],showDataLoading:!0}))}})},this.onLoadData=(e=>new Promise(t=>{e.props.children?t():(this.setState({showDataLoading:!1}),setTimeout(()=>{this.props.dispatch({type:"appControl/getListFiles",payload:{team_name:A.default.getCurrTeamName(),group_id:this.props.appAlias,region_name:A.default.getCurrRegionName(),pod_name:this.state.selectDefaultValue,container_name:this.state.containerName,host_path:"".concat(this.state.hostPath,"/").concat(this.state.path),extend_method:this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.extend_method},callback:a=>{if(a)if(a.list&&0==a.list.length)this.setState({treeData:[...this.state.treeData],showData:this.sortShowData(a.list),showDataLoading:!0}),e.props.dataRef.children=[],t();else{var l=a.list;l.map((t,a)=>{t.key="".concat(e.props.eventKey,"-").concat(a),t.isLeaf=t.is_leaf}),e.props.dataRef.children=l,this.setState({treeData:[...this.state.treeData],showData:this.sortShowData(a.list),showDataLoading:!0}),t()}}})},100))})),this.renderTreeNodes=(e=>e&&e.map((e,t)=>{return e.isLeaf?k.default.createElement(L,{title:e.title,key:e.key,dataRef:e},this.renderTreeNodes(e.children)):null})),this.onSelect=((e,t)=>{if(e&&0==e.length)return null;if(t){var a=t.selectedNodes,l=a[0].props,n=l.dataRef;this.setState({selectedKeys:e,expandedKeys:this.state.expandedKeys.includes(e[0])?[...this.state.expandedKeys]:[...this.state.expandedKeys,...e],showData:this.sortShowData(n.children)||this.sortShowData(this.state.showData),dowloadArr:[],pathArr:[],path:""},()=>{this.getPath()})}else this.setState({selectedKeys:e,expandedKeys:this.state.expandedKeys.includes(e[0])?[...this.state.expandedKeys]:[...this.state.expandedKeys,...e],dowloadArr:[],pathArr:[],path:""},()=>{this.getPath()})}),this.onLoad=(e=>{this.setState({loadedKeys:e})}),this.onExpand=((e,t)=>{var a=this.state.loadedKeys;this.state.expandedKeys.length>e.length&&(a=this.state.loadedKeys.filter(t=>e.includes(t))),this.setState({expandedKeys:e,selectedKeys:["".concat(t.node.props.dataRef.key)],showData:this.sortShowData(t.node.props.dataRef.children),loadedKeys:a},()=>{this.getPath()})}),this.getSvgIcon=(e=>{if(e){var t=e.substr(e.lastIndexOf(".")+1);return"".concat(t)}}),this.folderClick=(e=>{e&&e.children&&e.children.length>0?this.setState({expandedKeys:[...this.state.expandedKeys,...["".concat(e.key)]],selectedKeys:["".concat(e.key)],showData:this.sortShowData(e.children),dowloadArr:[]},()=>{this.getPath()}):this.setState({expandedKeys:[...this.state.expandedKeys,...["".concat(e.key)]],selectedKeys:["".concat(e.key)],showData:[],dowloadArr:[]},()=>{this.getPath()})}),this.getShowData=(e=>{var t=this.state.selectedKeys;e.map(a=>{var l=a.key,n=a.children;l==t[0]&&this.setState({showData:this.sortShowData(e)}),n&&n.length>0&&this.getShowData(n)})}),this.getPathData=(e=>{var t=this.state,a=(t.treeData,t.keyArr);e.map(e=>{var t=e.title,l=e.children;if(-1!=a.indexOf("".concat(e.key))){var n=this.state.pathArr;n.push(t),this.setState({pathArr:n})}l&&l.length>0&&this.getPathData(l)})}),this.getPath=(()=>{var e=this.state,t=e.selectedKeys,a=e.treeData;e.pathArr;if(0!=t.length){if(t&&t[0]){for(var l=t[0],n=l.split("-"),s=[],i=0;i<n.length+1;i++){var r=n.slice(0,i),o=r.join("-");s.push(o)}s.shift(),this.setState({keyArr:s,pathArr:[]},()=>{this.getPathData(a)}),setTimeout(()=>{var e=this.state.pathArr.join("/");this.setState({path:e})},100)}}else this.setState({path:""})}),this.goBack=(()=>{var e=this.state.selectedKeys;void 0!=e[0]&&(-1==e[0].indexOf("-")?this.setState({selectedKeys:[],showData:this.sortShowData(this.state.treeData),dowloadArr:[]},()=>{this.getPath()}):(this.getShowData(this.state.treeData),this.setState({selectedKeys:["".concat(e[0].substring(0,e[0].lastIndexOf("-")))],dowloadArr:[]},()=>{this.getPath()})))}),this.dowloadTitle=(e=>{var t=this.state.dowloadArr;setTimeout(()=>{if(t.includes(e)){var a=[];t.map(t=>{t!=e&&a.push(t)}),this.setState({dowloadArr:[...a]})}else{var l=[];l.push(e),this.setState({dowloadArr:[...this.state.dowloadArr,...l]})}},10)}),this.selectChange=(e=>{this.setState({selectDefaultValue:e},()=>{this.getListFiles()})}),this.fileDownload=(()=>{var e=this.state.dowloadArr;0==e.length?E.default.info({message:(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.download"})}):e.map(e=>{this.fileDownloadApi(e)}),setTimeout(()=>{this.setState({dowloadArr:[]})},100)}),this.fileDownloadApi=(e=>{var t=this.state,a=t.downOrUploadPath,l=t.nameSpace,n=t.containerName,s=this.state.path?"".concat(this.state.hostPath,"/").concat(encodeURIComponent(this.state.path)):"".concat(this.state.hostPath),i=s.replace(/\/+$/,""),r="".concat(a,"/v2/file-operate/download/").concat(encodeURIComponent(e),"?path=").concat(i,"&pod_name=").concat(this.state.selectDefaultValue,"&namespace=").concat(l,"&fileName=").concat(encodeURIComponent(e),"&container_name=").concat(n);(0,D.default)("".concat(r),e,{},!0)}),this.uploadChange=(e=>{var t=this.state,a=(t.path,t.selectedKeys);this.setState({uploading:!0}),e&&e.file&&"done"===e.file.status?(this.setState({uploading:!1}),E.default.success({message:(0,x.formatMessage)({id:"notification.success.upload"})}),void 0==a[0]?this.getListFiles():this.updateTree()):e&&e.file&&"error"===e.file.status&&(this.setState({uploading:!1}),E.default.error({message:(0,x.formatMessage)({id:"notification.error.update"})}),void 0==a[0]?this.getListFiles():this.updateTree())}),this.updateTree=(()=>{var e=this.state,t=e.selectedKeys,a=e.expandedKeys,l=e.loadedKeys,n=e.treeData,s=a.filter(e=>{return-1==e.indexOf(t[0])}),i=l.filter(e=>{return-1==e.indexOf(t[0])}),r=n;this.setState({expandedKeys:[...s,...["".concat(t[0])]],loadedKeys:[...i],treeData:this.removeShowData(r),selectedKeys:["".concat(t[0])]})}),this.removeShowData=(e=>{var t=this.state.selectedKeys,a=e;function l(e){for(var a=0;a<e.length;a++)e[a].key!=t[0]?e[a].children&&l(e[a].children):delete e[a].children}return l(a),a}),this.sortShowData=(e=>{var t=e&&e.length>0?e.filter(e=>{return-1==e.title.indexOf(".")}):[],a=e&&e.length>0?e.filter(e=>{return-1!=e.title.indexOf(".")}):[],l=[];t.map((e,t)=>{1==e.isLeaf?l.unshift(e):l.push(e)});var n=a.reduce((e,t)=>{var a=t.title.substring(t.title.lastIndexOf("."));return e[a]||(e[a]=[]),e[a].push(t),e},{});function s(e){var t=[];for(var a in e)t.push([a,e[a]]);return t.sort((e,t)=>t[1].length-e[1].length),t.reduce((e,t)=>e.concat(t[1]),[])}var i=s(n),r=[...l,...i];return r}),this.uploadFolder=(0,b.default)(_.default.mark(function e(){var a,l,n,s,i,r,o,d,c,u,p;return _.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.state,l=a.downOrUploadPath,n=a.selectDefaultValue,s=a.containerName,i=a.nameSpace,r=a.userName,o=a.hostPath,d=a.path,c=d?"".concat(o,"/").concat(d):o,u=c.replace(/\/+$/,"");try{p=document.createElement("input"),p.type="file",p.webkitdirectory=!0,p.directory=!0,p.onchange=(0,b.default)(_.default.mark(function e(){var a,o,d,c,m,h,f,g,v;return _.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(m=Array.from(p.files),m.length){e.next=3;break}return e.abrupt("return");case 3:return h=new FormData,m.map(e=>{var t=e.webkitRelativePath,a=new File([e],t);h.append("files",a)}),h.append("path",u),h.append("container_name",s),h.append("pod_name",n),h.append("namespace",i),h.append("user_name",r),h.append("tenant_id",null===(a=t.props.appDetail)||void 0===a?void 0:null===(o=a.service)||void 0===o?void 0:o.tenant_id),h.append("service_id",null===(d=t.props.appDetail)||void 0===d?void 0:null===(c=d.service)||void 0===c?void 0:c.service_id),h.append("volume_name",t.props.volumeName),t.setState({uploading:!0}),e.prev=14,e.next=17,fetch("".concat(l,"/v2/file-operate/upload"),{method:"POST",body:h,headers:{Authorization:"GRJWT ".concat(T.default.get("token"))},credentials:"include"});case 17:if(f=e.sent,f.ok){e.next=23;break}return e.next=21,f.json().catch(()=>({}));case 21:throw g=e.sent,new Error(g.message||"\u4e0a\u4f20\u5931\u8d25");case 23:E.default.success({message:(0,x.formatMessage)({id:"notification.success.upload"})}),t.setState({uploading:!1}),v=t.state.selectedKeys,void 0==v[0]?t.getListFiles():t.updateTree(),e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](14),console.error("Upload error:",e.t0),E.default.error({message:(0,x.formatMessage)({id:"notification.error.update"}),description:e.t0.message||"\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5"});case 33:case"end":return e.stop()}},e,null,[[14,29]])})),p.click()}catch(e){console.error("General error:",e),E.default.error({message:(0,x.formatMessage)({id:"notification.error.update"}),description:e.message||"\u64cd\u4f5c\u5931\u8d25"})}finally{t.setState({uploading:!1})}case 4:case"end":return e.stop()}},e)})),this.handleUploadMenuClick=(e=>{var t=e.key;"file"===t?this.fileUploadRef.current.click():"folder"===t&&this.uploadFolder()}),this.showCreateFolder=(()=>{this.setState({createFolderVisible:!0})}),this.handleCreateFolderCancel=(()=>{this.setState({createFolderVisible:!1,folderName:""})}),this.handleFolderNameChange=(e=>{e.target.value.includes("/")||e.target.value.includes(" ")?E.default.warning({message:"\u6587\u4ef6\u5939\u540d\u79f0\u4e0d\u80fd\u5305\u542b\u201c/\u201d\u7b26\u53f7\u548c\u7a7a\u683c"}):this.setState({folderName:e.target.value})}),this.handleCreateFolder=(0,b.default)(_.default.mark(function e(){var a,l,n,s,i,r,o,d,c,u,p,m,h,f,g,v,y,b,w;return _.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.state,r=i.folderName,o=i.downOrUploadPath,d=i.selectDefaultValue,c=i.containerName,u=i.nameSpace,p=i.userName,m=i.hostPath,h=i.path,r.trim()){e.next=4;break}return E.default.warning({message:"\u8bf7\u8f93\u5165\u6587\u4ef6\u5939\u540d\u79f0"}),e.abrupt("return");case 4:return t.setState({createFolderLoading:!0}),f=h?"".concat(m,"/").concat(h,"/").concat(r):"".concat(m,"/").concat(r),g=f.replace(/\/+/g,"/"),v=new FormData,v.append("path",g),v.append("container_name",c),v.append("pod_name",d),v.append("namespace",u),v.append("user_name",p),v.append("tenant_id",null===(a=t.props.appDetail)||void 0===a?void 0:null===(l=a.service)||void 0===l?void 0:l.tenant_id),v.append("service_id",null===(n=t.props.appDetail)||void 0===n?void 0:null===(s=n.service)||void 0===s?void 0:s.service_id),v.append("volume_name",t.props.volumeName),e.prev=16,e.next=19,fetch("".concat(o,"/v2/file-operate/mkdir"),{method:"POST",body:v,headers:{Authorization:"GRJWT ".concat(T.default.get("token"))},credentials:"include"});case 19:if(y=e.sent,y.ok){e.next=25;break}return e.next=23,y.json().catch(()=>({}));case 23:throw b=e.sent,new Error(b.message||"\u521b\u5efa\u6587\u4ef6\u5939\u5931\u8d25");case 25:E.default.success({message:"\u521b\u5efa\u6587\u4ef6\u5939\u6210\u529f"}),t.setState({createFolderLoading:!1,createFolderVisible:!1,folderName:""}),w=t.state.selectedKeys,void 0==w[0]?t.getListFiles():t.updateTree(),e.next=34;break;case 31:e.prev=31,e.t0=e["catch"](16),E.default.error({message:"\u521b\u5efa\u6587\u4ef6\u5939\u5931\u8d25",description:e.t0.message||"\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5"});case 34:case"end":return e.stop()}},e,null,[[16,31]])})),this.createFolder=(()=>{this.showCreateFolder()}),this.fileUploadRef=k.default.createRef(),this.state={treeData:[],selectedKeys:[],expandedKeys:[],pathArr:[],keyArr:[],dowloadArr:[],path:"",podsList:[],selectDefaultValue:"",hostPath:this.props&&this.props.hostPath,selectLoading:!1,treeDataLoading:!1,loadedKeys:[],userName:"",showDataLoading:!1,nameSpace:"",containerName:"",uploading:!1,createFolderVisible:!1,folderName:"",createFolderLoading:!1}}componentDidMount(){this.fetchInstanceInfo(),this.fetchUserInfo()}render(){var e=this.state,t=e.selectedKeys,a=e.expandedKeys,l=e.showData,n=(e.path,e.dowloadArr),_=e.podsList,b=e.selectDefaultValue,E=e.selectLoading,w=e.treeDataLoading,C=(e.hostPath,e.loadedKeys),M=e.downOrUploadPath,O=e.userName,D=e.showDataLoading,T=e.containerName,L=e.nameSpace,P=(e.uploading,e.createFolderVisible),I=e.folderName,R=e.createFolderLoading,V=this.props.volumeName,B=this.state.path?"".concat(this.state.hostPath,"/").concat(this.state.path):"".concat(this.state.hostPath),z=B.replace(/\/+$/,""),H="".concat(M,"/v2/file-operate/upload"),q={action:H,data:{path:z,container_name:T,pod_name:b,namespace:L,user_name:O,tenant_id:this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.tenant_id,service_id:this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.service_id,volume_name:V},method:"post",name:"file"},U=k.default.createElement(v.default,{onClick:this.handleUploadMenuClick},k.default.createElement(v.default.Item,{key:"file"},k.default.createElement(y.default,{type:"file"})," ",(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.uploadFile"})),k.default.createElement(v.default.Item,{key:"folder"},k.default.createElement(y.default,{type:"folder"})," ",(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.uploadFolder"})));return k.default.createElement("div",null,k.default.createElement(i.default,{className:N.default.ModalStyle,title:k.default.createElement(k.default.Fragment,null,(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.example"}),k.default.createElement(g.default,{value:b,style:{maxWidth:184,marginLeft:5},onChange:this.selectChange,loading:!E},_&&_.length>0&&_.map(e=>{return k.default.createElement(g.default.Option,{value:e.pod_name},e.pod_name)}))),visible:!0,width:1e3,closable:!1,footer:k.default.createElement("div",{className:N.default.footerBtnGroup},k.default.createElement("div",{className:N.default.leftBtns},k.default.createElement(f.default,{type:"primary",onClick:this.createFolder},k.default.createElement(y.default,{type:"folder-add"})," ",(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.createFolder"}))),k.default.createElement("div",{className:N.default.rightBtns},k.default.createElement(m.default,(0,h.default)({},q,{showUploadList:!1,multiple:!0,onChange:this.uploadChange,style:{display:"none"}}),k.default.createElement("input",{ref:this.fileUploadRef,style:{display:"none"}})),k.default.createElement(p.default,{overlay:U,placement:"topCenter",disabled:this.state.uploading},k.default.createElement(f.default,{type:"primary",loading:this.state.uploading},k.default.createElement(y.default,{type:"upload"})," ",(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.upload"})," ",!this.state.uploading&&k.default.createElement(y.default,{type:"down"}))),k.default.createElement(f.default,{type:"primary",onClick:this.fileDownload},k.default.createElement(y.default,{type:"download"})," ",(0,x.formatMessage)({id:"button.download"})),k.default.createElement(f.default,{onClick:this.props.isShow},(0,x.formatMessage)({id:"popover.cancel"}))))},w?k.default.createElement(c.default,null,k.default.createElement(u.default,{span:0},k.default.createElement(S.default,{loadData:this.onLoadData,onSelect:this.onSelect,selectedKeys:t,onExpand:this.onExpand,expandedKeys:a,switcherIcon:k.default.createElement(y.default,{type:"down"}),onLoad:this.onLoad,loadedKeys:C},this.renderTreeNodes(this.state.treeData))),k.default.createElement(u.default,{span:24,style:{position:"relative"}},k.default.createElement("div",{className:N.default.goBack},k.default.createElement(c.default,null,k.default.createElement(u.default,{span:20},k.default.createElement("div",{className:N.default.path},(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.path"}),B)),k.default.createElement(u.default,{span:4,style:{textAlign:"right"}},k.default.createElement(f.default,{type:"link",onClick:this.goBack},F.default.getSvg("goBack",12,A.default.getPublicColor()),(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.return"}))))),D?k.default.createElement("div",{className:N.default.iconShow},l&&l.length>0?l.map((e,t)=>{var a=e.title,l=e.isLeaf;return l?k.default.createElement("div",{className:N.default.outerLayer,style:{cursor:"pointer"},onDoubleClick:()=>this.folderClick(e)},k.default.createElement("div",null,F.default.getSvg("file",70)),k.default.createElement("div",null,k.default.createElement(d.default,{placement:"top",title:e.title},e.title))):k.default.createElement("div",{className:N.default.outerLayer,onClick:()=>this.dowloadTitle(e.title),style:{background:n.includes(e.title)?"#e6f7ff":"#fff"}},k.default.createElement("div",null,F.default.getSvg(this.getSvgIcon(a),70)),k.default.createElement("div",null,k.default.createElement(d.default,{placement:"top",title:e.title},e.title)))}):k.default.createElement(o.default,{className:N.default.emptyStyle})):k.default.createElement(r.default,{size:"large",style:{width:"100%",height:400,display:"flex",alignItems:"center",justifyContent:"center"}}))):k.default.createElement(r.default,{size:"large",style:{width:"100%",height:400,display:"flex",alignItems:"center",justifyContent:"center"}})),k.default.createElement(i.default,{title:(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.createFolder"}),visible:P,onOk:this.handleCreateFolder,onCancel:this.handleCreateFolderCancel,confirmLoading:R},k.default.createElement("div",{style:{marginBottom:16}},k.default.createElement("div",{style:{marginBottom:8}},(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.createFolderPath"})),k.default.createElement("div",{style:{background:"#f5f5f5",padding:8,wordBreak:"break-all"}},this.state.path?"".concat(this.state.hostPath,"/").concat(this.state.path):this.state.hostPath)),k.default.createElement(s.default,{placeholder:(0,x.formatMessage)({id:"componentOverview.body.DirectoryPersistence.inputFolderName"}),value:I,onChange:this.handleFolderNameChange})))}},C=M))||C),I=P;t.default=I},KTCi:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ChartCard",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Bar",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Pie",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Radar",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Gauge",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"MiniArea",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"MiniBar",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"MiniProgress",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"WaterWave",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"TagCloud",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"TimelineChart",{enumerable:!0,get:function(){return g.default}}),t.yuan=void 0;var n=l(a("ZhIB"));a("LoT8");var s=l(a("qyk8")),i=l(a("LJjV")),r=l(a("JnT6")),o=l(a("Q3tE")),d=l(a("FLM/")),c=l(a("1+VL")),u=l(a("gMQw")),p=l(a("lfV+")),m=l(a("qp7c")),h=l(a("ZzQo")),f=l(a("IJET")),g=l(a("YWDv")),v=e=>"&yen; ".concat((0,n.default)(e).format("0,0"));t.yuan=v},Kia0:function(e,t,a){e.exports={tabTitle:"tabTitle___2CONk",tabTr:"tabTr___3iaGW",w500:"w500___orTyB",w300:"w300___1jikJ",w380:"w380___OrUuz",over:"over___3at-n"}},LJjV:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,i,r,o,d,c,u=l(a("SQvw")),p=n(a("q1tI")),m=a("yP6+"),h=l(a("fqkP")),f=l(a("UjoV")),g=l(a("RFWI")),v=l(a("iPxP")),y=(s=(0,g.default)(),i=(0,f.default)(),r=(0,h.default)(400),s((c=class extends p.Component{constructor(){super(...arguments),this.state={autoHideXLabels:!1},this.handleRoot=(e=>{this.root=e}),this.handleRef=(e=>{this.node=e})}componentDidMount(){window.addEventListener("resize",this.resize)}componentWillUnmount(){window.removeEventListener("resize",this.resize)}resize(){if(this.node){var e=this.node.parentNode.clientWidth,t=this.props,a=t.data,l=void 0===a?[]:a,n=t.autoLabel,s=void 0===n||n;if(s){var i=30*l.length,r=this.state.autoHideXLabels;e<=i?r||this.setState({autoHideXLabels:!0}):r&&this.setState({autoHideXLabels:!1})}}}render(){var e=this.props,t=e.height,a=e.title,l=e.forceFit,n=void 0===l||l,s=e.data,i=e.color,r=void 0===i?"rgba(24, 144, 255, 0.85)":i,o=e.padding,d=this.state.autoHideXLabels,c={x:{type:"cat"},y:{min:0}},u=["x*y",(e,t)=>({name:e,value:t})];return p.default.createElement("div",{className:v.default.chart,style:{height:t},ref:this.handleRoot},p.default.createElement("div",{ref:this.handleRef},a&&p.default.createElement("h4",{style:{marginBottom:20}},a),p.default.createElement(m.Chart,{scale:c,height:a?t-41:t,forceFit:n,data:s,padding:o||"auto"},p.default.createElement(m.Axis,{name:"x",title:!1,label:!d&&{},tickLine:!d&&{}}),p.default.createElement(m.Axis,{name:"y",min:0}),p.default.createElement(m.Tooltip,{showTitle:!1,crosshairs:!1}),p.default.createElement(m.Geom,{type:"interval",position:"x*y",color:r,tooltip:u}))))}},d=c,(0,u.default)(d.prototype,"resize",[i,r],Object.getOwnPropertyDescriptor(d.prototype,"resize"),d.prototype),o=d))||o),_=y;t.default=_},Lo2C:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var s=l(a("5rEg"));a("/zsF");var i=l(a("PArb"));a("DZo9");var r=l(a("8z0m"));a("2qtc");var o=l(a("kLXV"));a("7Kak");var d=l(a("9yH6"));a("Pwec");var c=l(a("CtXQ"));a("T2oS");var u=l(a("W9HT"));a("IzEo");var p=l(a("bx4M")),m=l(a("jehZ"));a("+L6B");var h=l(a("2/Rp")),f=l(a("p0pE"));a("/xke");var g=l(a("TeRw"));a("OaEy");var v=l(a("2fM7"));a("y8nQ");var y=l(a("Vl3Y"));a("Znn+");var _,b,E,w,C,M=l(a("ZTPi")),S=a("MuoO"),k=a("7DNP"),O=n(a("q1tI")),x=a("LLXN"),A=l(a("m+FX")),D=l(a("iPMB")),F=l(a("cUW5")),N=l(a("lpA0")),T=l(a("QDog")),L=l(a("mWxT")),P=a("+n12"),I=l(a("Oz9w")),R=l(a("ot6+")),V=l(a("0//z")),B=l(a("laTA")),z=(l(a("RdSn")),l(a("4ahh")),a("WDw0")),H=M.default.TabPane,q=y.default.Item,U=v.default.Option,j=v.default.OptGroup,K=(_=(0,S.connect)(e=>{var t=e.user,a=e.appControl,l=e.global;return{currUser:t.currentUser,createWay:a.createWay,rainbondInfo:l.rainbondInfo,enterprise:l.enterprise}},null,null,{withRef:!0}),b=y.default.create(),_(E=b((C=w=class extends O.PureComponent{constructor(e){var t;super(e),t=this,this.bindEvent=(()=>{document.addEventListener("click",this.handleClick,!1)}),this.unbindEvent=(()=>{document.removeEventListener("click",this.handleClick)}),this.handleClick=(e=>{var t=e.target;this.props&&this.props.appDetail&&this.props.appDetail.service;while(t){if(t===document.body)return;var a=t.getAttribute("action_type");if("modify_url"===a||"modify_repo"===a)return void this.setState({modifyUrl:a});if("modify_userpass"===a)return void this.setState({modifyUserpass:!0});t=t.parentNode}}),this.time=(()=>{setTimeout(()=>{this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.service_alias&&(this.setOauthService(),this.getRuntimeInfo(),this.loadBuildSourceInfo(),this.bindEvent())},2e3)}),this.handleUploadCancel=(()=>{this.setState({uploadFile:!1})}),this.handleUploadOk=(e=>{var t=this.props,a=t.dispatch,l=t.appDetail,n=this.state,s=n.existFileList,i=n.event_id,r=T.default.getCurrTeamName(),o=T.default.getCurrRegionName(),d=l&&l.service&&l.service.service_id;s.length>0?a({type:"createApp/createJarWarSubmit",payload:{team_name:r,event_id:i,service_id:d,region_name:o},callback:e=>{this.setState({uploadFile:!1}),this.loadBuildSourceInfo()}}):(this.loop=!0,this.handleJarWarUploadStatus(),g.default.error({message:(0,x.formatMessage)({id:"notification.error.notDetected"})}))}),this.handleJarWarUpload=(()=>{var e=T.default.getCurrTeamName(),t=T.default.getCurrRegionName(),a=this.props,l=a.dispatch,n=a.appDetail,s=n.service.service_id;l({type:"createApp/createJarWarServices",payload:{region:t,team_name:e,component_id:s},callback:e=>{e&&200===e.status_code&&this.setState({record:e.bean,event_id:e.bean.event_id},()=>{""!==e.bean.region&&(this.loop=!0,this.handleJarWarUploadStatus())})}})}),this.handleJarWarUploadStatus=(()=>{var e=this.props.dispatch,t=this.state.event_id;e({type:"createApp/createJarWarUploadStatus",payload:{region:T.default.getCurrRegionName(),team_name:T.default.getCurrTeamName(),event_id:t},callback:e=>{e&&e.bean.package_name&&e.bean.package_name.length>0&&this.setState({existFileList:e.bean.package_name}),this.loop&&setTimeout(()=>{this.handleJarWarUploadStatus()},3e3)},handleError:()=>{}})}),this.handleJarWarUploadDelete=(()=>{var e=this.state.event_id,t=this.props.dispatch;t({type:"createApp/deleteJarWarUploadStatus",payload:{team_name:T.default.getCurrTeamName(),event_id:e},callback:e=>{"ok"==e.bean.res&&(this.setState({existFileList:[]}),g.default.success({message:(0,x.formatMessage)({id:"notification.success.delete_file"})}),this.handleJarWarUpload())}})}),this.onChangeUpload=(e=>{var t=e.fileList;t=t.filter(e=>{return!e.response||"success"===e.response.msg}),e&&e.event&&e.event.percent&&this.setState({percents:e.event.percent});var a=e.file.status;"done"===a&&this.setState({percents:!1}),this.setState({fileList:t})}),this.onRemove=(()=>{this.setState({fileList:[]})}),this.setOauthService=(()=>{var e=this.props,t=e.rainbondInfo,a=e.enterprise,l=[];L.default.OauthbEnable(t)&&L.default.OauthEnterpriseEnable(a)&&(a.oauth_services.value.map(e=>{var t=e.oauth_type,a=e.service_id,n=e.is_git,s=e.name,i=e.enable;return n&&l.push({name:s,type:t,enable:i,id:"".concat(a)}),e}),this.setState({tabList:l}))}),this.onChangeBuildSource=(()=>{this.hideBuildSource(),this.loadBuildSourceInfo();var e=this.context.loadBuildState;e(!0)}),this.getRuntimeInfo=(()=>{this.props.dispatch({type:"appControl/getRuntimeBuildInfo",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.service_alias},callback:e=>{e&&this.setState({runtimeInfo:e.bean?e.bean:{}})}})}),this.handleEditRuntime=(e=>{this.props.dispatch({type:"appControl/editRuntimeBuildInfo",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.service_alias,build_env_dict:e},callback:e=>{e&&200===e.status_code&&(g.default.success({message:(0,x.formatMessage)({id:"notification.success.modified"})}),this.getRuntimeInfo())}})}),this.handleEditInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.props.dispatch({type:"appControl/editAppCreateInfo",payload:(0,f.default)({team_name:T.default.getCurrTeamName(),app_alias:t.props.appDetail&&t.props.appDetail.service&&t.props.appDetail.service.service_alias},e),callback:e=>{e&&t.props.updateDetail()}})},this.changeBuildSource=(()=>{this.setState({changeBuildSource:!0})}),this.hideBuildSource=(()=>{this.setState({changeBuildSource:!1})}),this.changeEditOauth=(()=>{this.handleProvinceChange(),this.setState({editOauth:!0})}),this.hideEditOauth=(()=>{this.setState({editOauth:!1})}),this.loadBuildSourceInfo=(()=>{var e=this.props.dispatch,t=T.default.getCurrTeamName();e({type:"appControl/getAppBuidSource",payload:{team_name:t,service_alias:this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.service_alias},callback:e=>{if(e){var t=e.bean;if("package_build"===t.service_source){var a=t&&t.git_url,l=a.lastIndexOf("/"),n=a.substring(l+1,a.length);this.setState({event_id:n})}this.setState({buildSource:t},()=>{t&&t.code_from&&t.code_from.indexOf("oauth")>-1&&this.loadThirdInfo()})}}})}),this.loadThirdInfo=(()=>{var e=this.props.dispatch,t=this.state.buildSource;e({type:"global/codeThirdInfo",payload:{full_name:t.full_name,oauth_service_id:t.oauth_service_id},callback:e=>{e&&200===e.status_code&&this.setState({thirdInfo:e.bean})}})}),this.handleToDetect=(()=>{this.setState({languageBox:!0})}),this.handleToUpload=(()=>{this.setState({uploadFile:!0})}),this.handlelanguageBox=(()=>{this.setState({languageBox:!1,create_status:""})}),this.handleUpdatelanguage=(()=>{var e=this.props,t=e.dispatch,a=e.appAlias,l=this.state.codeLang;t({type:"createApp/updateCustomLanguage",payload:{team_name:T.default.getCurrTeamName(),app_id:a,lang:l},callback:e=>{this.loadBuildSourceInfo(),this.setState({languageBox:!1,create_status:""})}})}),this.handleDetectGetLanguage=(()=>{var e=this.props.dispatch,t=this;e({type:"appControl/getLanguage",payload:{team_name:T.default.getCurrTeamName(),service_alias:this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.service_alias,check_uuid:this.state.check_uuid},callback:e=>{e&&200===e.status_code&&(e.bean&&"success"!=e.bean.check_status&&"failure"!=e.bean.check_status?setTimeout(function(){t.handleDetectGetLanguage()},3e3):(e.bean&&e.bean.service_info&&e.bean.service_info.map(t=>{if("language"==t.type&&"failure"!=e.bean.check_status){var a,l=null===t||void 0===t?void 0:null===(a=t.value)||void 0===a?void 0:a.split(",");this.setState({codeLang:l[0]})}}),this.loadBuildSourceInfo(),this.setState({create_status:e.bean&&e.bean.check_status,service_info:e.bean&&e.bean.service_info,error_infos:e.bean&&e.bean.error_infos})))}})}),this.handleDetectPutLanguage=(()=>{var e=this.props.dispatch,t=this.state.event_id;e({type:"appControl/putLanguage",payload:{team_name:T.default.getCurrTeamName(),service_alias:this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.service_alias,eventId:t},callback:e=>{e&&this.setState({create_status:e.bean&&e.bean.create_status,check_uuid:e.bean&&e.bean.check_uuid},()=>{"failure"==this.state.create_status?g.default.warning({message:(0,x.formatMessage)({id:"notification.warn.update_language"})}):this.handleDetectGetLanguage()})}})}),this.hideMarketAppDetail=(()=>{this.setState({showApp:{},showMarketAppDetail:!1})}),this.handleCodeWarehouseType=(e=>{var t=e.dispatch,a=this.state,l=a.tabType,n=a.buildSource,s=this.props.form.getFieldValue("oauth_service_id"),i=this.props.form.getFieldValue("full_name");t({type:"global/codeWarehouseType",payload:{type:l,full_name:i||n.full_name,oauth_service_id:s||n.oauth_service_id},callback:e=>{e&&200===e.status_code&&this.setState({tags:e.bean?e.bean[l]:[],tagsLoading:!1,OauthLoading:!1})}})}),this.onTabChange=(e=>{this.setState({tabType:e,tagsLoading:!0},()=>{this.handleCodeWarehouseType(this.props)})}),this.onPagePre=(()=>{var e=this.state.page;if(e>1){var t=e-1,a=1==e;this.setState({firstPage:a,page:t},()=>{this.handleProvinceChange()})}}),this.onPageNext=(()=>{var e=this.state,t=e.lastPage,a=e.page;if(!t){var l=a+1;this.setState({page:l},()=>{this.handleProvinceChange()})}}),this.handleProvinceChange=(e=>{var t=this.props.dispatch,a=this.props.form.setFieldsValue,l=this.state,n=l.tabList,s=l.buildSource,i=l.page,r=this.props.form.getFieldValue("oauth_service_id");this.setState({OauthLoading:!0}),t({type:"global/codeWarehouseInfo",payload:{page:i,oauth_service_id:e||r||s&&s.oauth_service_id||(n.length>0?n[0].id:"")},callback:t=>{if(t&&200===t.status_code&&t.bean&&t.bean.repositories&&t.bean.repositories.length>0){var l=1==i,n=t.bean.repositories.length<10,s=t.bean.repositories[0].project_full_name,r=t.bean.repositories[0].project_url,o=t.bean.repositories[0].project_default_branch;e&&a({full_name:s,git_url:r,code_version:o}),this.setState({firstPage:l,lastPage:n,fullList:t.bean.repositories},()=>{this.handleCodeWarehouseType(this.props)})}else this.setState({tagsLoading:!1,OauthLoading:!1})}})}),this.handleProjectChange=(e=>{this.setState({OauthLoading:!0});var t=this.props.form.setFieldsValue,a=this.state.fullList;a.map(a=>{a.project_full_name===e&&t({git_url:a.project_url,code_version:a.project_default_branch},()=>{this.handleCodeWarehouseType(this.props),this.setState({OauthLoading:!1})})})}),this.handleSubmitOauth=(()=>{var e=this.props.form;e.validateFields((e,t)=>{e||this.props.dispatch({type:"appControl/putAppBuidSource",payload:{team_name:T.default.getCurrTeamName(),service_alias:this.props.appAlias,is_oauth:!0,oauth_service_id:t.oauth_service_id,full_name:t.full_name,git_url:t.git_url,code_version:t.code_version,service_source:"source_code"},callback:()=>{g.default.success({message:(0,x.formatMessage)({id:"notification.success.edit_deploy"})}),this.loadBuildSourceInfo(),this.hideEditOauth()}})})}),this.cancelModifyUrl=(()=>{this.setState({modifyUserpass:!1})}),this.handleCancelEdit=(()=>{this.setState({modifyUserpass:!1})}),this.handleModifyUrl=(e=>{var t=this.props&&this.props.appDetail&&this.props.appDetail.service,a=T.default.getCurrTeamName();this.props.dispatch({type:"appControl/editAppCreateInfo",payload:{service_cname:e.service_cname?e.service_cname:"",git_url:e.git_url?e.git_url:"",team_name:a,app_alias:t.service_alias,user_name:e.user_name,password:e.password},callback:e=>{e&&(this.handleDetectPutLanguage(),this.handleCancelEdit())}})}),this.onChangeLange=(e=>{var t=e.target.value;this.setState({codeLang:t})}),this.state={runtimeInfo:"",changeBuildSource:!1,editOauth:!1,buildSource:null,showMarketAppDetail:!1,showApp:{},create_status:"",languageBox:!1,service_info:"",error_infos:"",thirdInfo:!1,tags:[],tagsLoading:!0,tabType:"branches",fullList:[],tabList:[],OauthLoading:!0,page:1,uploadFile:!1,fileList:[],record:{},event_id:"",percents:!1,existFileList:[],modifyUrl:!1,modifyUserpass:!1,showKey:!1,modifyImageName:!1,modifyImageCmd:!1,codeLang:""}}componentDidMount(){this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.service_alias?(this.setOauthService(),this.getRuntimeInfo(),this.loadBuildSourceInfo(),this.bindEvent(),this.handleJarWarUpload()):this.time()}componentWillUnmount(){this.loop=!1,this.statusloop=!1,this.unbindEvent()}getParams(){return{group_id:T.default.getAppID(),compose_id:T.default.getSlidePanelComponentID()}}canView(){var e=this.props.componentPermissions.isSource;return e}render(){if(!this.canView())return O.default.createElement(F.default,null);var e=this.props,t=e.form,a=(e.match,e.appDetail),l=e.method,n=this.state,f=n.runtimeInfo,g=n.thirdInfo,_=n.buildSource,b=n.tags,E=n.tagsLoading,w=n.fullList,C=n.tabList,S=n.firstPage,L=n.lastPage,z=n.fileList,K=n.record,G=n.existFileList,X=(n.modifyUrl,n.modifyUserpass),W=(n.modifyImageName,n.modifyImageCmd,n.showKey,n.codeLang),Q={},J=(N.default.getLanguage(a),{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}),Y={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},Z=T.default.getCurrTeamName(),$=T.default.getCurrRegionName(),ee=t.getFieldDecorator,te=_?_.language:"",ae=N.default.getCreateTypeCNByBuildSource(_),le=ae&&"\u672c\u5730\u5171\u4eab\u5e93"===ae,ne=te||"";return O.default.createElement(O.Fragment,null,_&&O.default.createElement(p.default,{title:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.Jianyuan"}),style:{marginBottom:24},className:I.default.tabsCard,extra:"vm"!=l&&[N.default.isOauthByBuildSource(_)?O.default.createElement(h.default,{onClick:this.changeEditOauth,icon:"form"},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.edit"})):O.default.createElement(h.default,{onClick:this.changeBuildSource,icon:"form"},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.change"}))]},O.default.createElement("div",null,O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{label:N.default.isOauthByBuildSource(_)&&g?O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.oauth"}):O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.type"})}),O.default.createElement(k.Link,{to:le&&"/team/".concat(Z,"/region/").concat($,"/create/market"),style:{color:!le&&"rgba(0, 0, 0, 0.65)"}},N.default.isOauthByBuildSource(_)&&g?g.service_name:ae))),"vm"==l&&O.default.createElement("div",null,O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{label:(0,x.formatMessage)({id:"Vm.createVm.VmImg"})}),"\u6682\u65e0")),N.default.isImageAppByBuildSource(_)?O.default.createElement("div",null,O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.name"})}),_.image),O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.edition"})}),_.version),O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.command"})}),_.cmd||"")):"",N.default.isMarketAppByBuildSource(_)?O.default.createElement(O.Fragment,null,O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.template"})}),_.group_key?O.default.createElement("a",{href:"javascript:;",onClick:()=>{this.setState({showApp:{details:_.details,group_name:_.rain_app_name,group_key:_.group_key},showMarketAppDetail:!0})}},_.rain_app_name):O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.notfind"})),O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.edition"})}),_.version)):"",N.default.isOauthByBuildSource(_)&&O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.entry_name"})}),O.default.createElement("a",{href:_.git_url,target:"_blank"},_.full_name)),N.default.isCodeAppByBuildSource(_)?O.default.createElement(O.Fragment,null,O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.git_add"})}),O.default.createElement("a",{href:_.git_url,target:"_blank"},_.git_url)),O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.code_edition"})}),_.code_version),O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{className:I.default.ant_form_item,label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.language"})}),"static"!=ne?O.default.createElement("a",{target:"blank",href:P.languageObj["".concat(ne)]},ne):O.default.createElement("a",{href:"javascript:void(0);"},ne),O.default.createElement(h.default,{size:"small",type:"primary",onClick:this.handleToDetect},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.Retest"})))):"",N.default.isUploadFilesAppSource(_)?O.default.createElement(O.Fragment,null,O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.file_name"})}),_.package_name,O.default.createElement(h.default,{size:"small",onClick:this.handleToUpload,style:{marginLeft:"6px"}},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.Re_upload_file"}))),O.default.createElement(q,(0,m.default)({style:{marginBottom:0}},J,{className:I.default.ant_form_item,label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.language"})}),O.default.createElement(O.default.Fragment,null,ne),O.default.createElement(h.default,{size:"small",type:"primary",onClick:this.handleToDetect,style:{marginLeft:"6px"}},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.Retest"})))):""),_&&"vm"!=l&&O.default.createElement(R.default,{app:this.props.appDetail,service_source:N.default.getCreateTypeCNByBuildSource(_)}),this.state.languageBox&&O.default.createElement(o.default,{centered:!0,closable:!1,visible:this.state.languageBox,title:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.Retest"}),footer:this.state.create_status?"success"==this.state.create_status?[O.default.createElement(h.default,{key:"submit",type:"primary",onClick:this.handleUpdatelanguage},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.confirm"}))]:[O.default.createElement(h.default,{onClick:this.handlelanguageBox,key:"back"},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.close"}))]:[O.default.createElement(h.default,{key:"back",onClick:this.handlelanguageBox},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.close"})),O.default.createElement(h.default,{key:"submit",type:"primary",onClick:this.handleDetectPutLanguage},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.testing"}))]},O.default.createElement("div",null,"checking"==this.state.create_status||"complete"==this.state.create_status?O.default.createElement("div",null,O.default.createElement("p",{style:{textAlign:"center"}},O.default.createElement(u.default,null)),O.default.createElement("p",{style:{textAlign:"center",fontSize:"14px"}},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.Testing"}))):"","failure"==this.state.create_status?O.default.createElement("div",null,O.default.createElement("p",{style:{textAlign:"center",color:"#28cb75",fontSize:"36px"}},O.default.createElement(c.default,{style:{color:"#f5222d",marginRight:8},type:"close-circle-o"})),this.state.error_infos&&this.state.error_infos.map(e=>{return O.default.createElement("div",null,O.default.createElement("span",{dangerouslySetInnerHTML:{__html:"<span>".concat(e.error_info||""," ").concat(e.solve_advice||"","</span>")}}))})):"","success"==this.state.create_status?O.default.createElement("div",null,O.default.createElement("p",{style:{textAlign:"center",color:"#28cb75",fontSize:"36px"}},O.default.createElement(c.default,{type:"check-circle-o"})),this.state.service_info&&this.state.service_info.map(e=>{var t,a=[];"language"==e.type&&(a=null===e||void 0===e?void 0:null===(t=e.value)||void 0===t?void 0:t.split(","));return"language"==e.type?O.default.createElement("p",{style:{textAlign:"center",fontSize:"14px"}},e.key,":",O.default.createElement(d.default.Group,{onChange:this.onChangeLange,value:W},a.map(e=>{return O.default.createElement(d.default,{value:e},e)}))):O.default.createElement("p",{style:{textAlign:"center",fontSize:"14px"}},e.key,":",e.value," ")})):"","failed"==this.state.create_status?O.default.createElement("div",null,O.default.createElement("p",{style:{textAlign:"center",color:"999",fontSize:"36px"}},O.default.createElement(c.default,{type:"close-circle-o"})),O.default.createElement("p",{style:{textAlign:"center",fontSize:"14px"}},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.fail"}))):"",!this.state.create_status&&O.default.createElement("div",null,O.default.createElement("p",{style:{textAlign:"center",fontSize:"14px"}},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.testing_again"}))))),this.state.uploadFile&&O.default.createElement(o.default,{visible:!0,onCancel:this.handleUploadCancel,onOk:this.handleUploadOk,title:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.upload"})},O.default.createElement(r.default,{fileList:z,name:"packageTarFile",accept:".jar,.war,.zip,.tar",onChange:this.onChangeUpload,onRemove:this.onRemove,action:K.upload_url,headers:Q,multiple:!0},O.default.createElement(h.default,null,O.default.createElement(c.default,{type:"upload"})," ",O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.upload"}))),O.default.createElement("div",{style:{display:"flex",marginTop:"20px"}},O.default.createElement("div",null,G.length>0?G.map(e=>{return O.default.createElement("div",{style:{padding:"12px 8px",border:"1px solid #d9d9d9"}},O.default.createElement(c.default,{style:{marginRight:"6px"},type:"inbox"}),O.default.createElement("span",{className:I.default.fileName},e))}):null),G.length>0&&O.default.createElement("div",{style:{display:"flex",alignItems:"center",background:"#ff7b7b",padding:"0px 12px",justifyContent:"center"}},O.default.createElement(c.default,{onClick:this.handleJarWarUploadDelete,style:{color:"#fff",cursor:"pointer"},type:"delete"})))),ne&&f&&O.default.createElement(A.default,{appDetail:this.props.appDetail,onSubmit:this.handleEditRuntime,language:ne,runtimeInfo:this.state.runtimeInfo}),this.state.changeBuildSource&&O.default.createElement(V.default,{onOk:this.onChangeBuildSource,buildSource:_,appAlias:this.props.appDetail.service.service_alias,archInfo:this.props.appDetail.service.arch,title:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.Change_component_build_source"}),onCancel:this.hideBuildSource}),this.state.editOauth&&O.default.createElement(o.default,{visible:this.state.editOauth,onCancel:this.hideEditOauth,onOk:this.handleSubmitOauth,loading:this.state.OauthLoading,title:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.edit"})},O.default.createElement(u.default,{spinning:this.state.OauthLoading},O.default.createElement(y.default,{onSubmit:this.handleSubmitOauth},O.default.createElement(q,(0,m.default)({},Y,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.oauth"})}),ee("oauth_service_id",{initialValue:g?"".concat(g.service_id):"",rules:[{required:!0,message:(0,x.formatMessage)({id:"componentOverview.body.Resource.choice_oauth"})}]})(O.default.createElement(v.default,{getPopupContainer:e=>e.parentNode,onChange:this.handleProvinceChange,placeholder:(0,x.formatMessage)({id:"componentOverview.body.Resource.choice_oauth"})},C.length>0&&C.map(e=>e.enable&&O.default.createElement(U,{key:e.id,value:e.id},e.name))))),O.default.createElement(q,(0,m.default)({},Y,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.entry_name"})}),ee("full_name",{initialValue:_?_.full_name:w.length>0&&w[0].project_full_name,rules:[{required:!0,message:(0,x.formatMessage)({id:"componentOverview.body.Resource.choice_entry"})}]})(O.default.createElement(v.default,{getPopupContainer:e=>e.parentNode,onChange:this.handleProjectChange,dropdownRender:e=>O.default.createElement("div",null,e,!S&&O.default.createElement("div",null,O.default.createElement(i.default,{style:{margin:"4px 0"}}),O.default.createElement("div",{style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:e=>e.preventDefault(),onClick:this.onPagePre},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.previous"}))),!L&&O.default.createElement("div",null,O.default.createElement(i.default,{style:{margin:"4px 0"}}),O.default.createElement("div",{style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:e=>e.preventDefault(),onClick:this.onPageNext},O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.next"})))),placeholder:(0,x.formatMessage)({id:"componentOverview.body.Resource.choice_entry"})},w.length>0&&w.map(e=>O.default.createElement(U,{key:e.project_url,value:e.project_full_name},e.project_full_name))))),O.default.createElement(q,(0,m.default)({},Y,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.git_add"})}),ee("git_url",{initialValue:_?_.git_url:w.length>0&&w[0].git_url,rules:[{required:!0,message:(0,x.formatMessage)({id:"componentOverview.body.Resource.placese_type"})}]})(O.default.createElement(s.default,{placeholder:(0,x.formatMessage)({id:"componentOverview.body.Resource.input_name"}),disabled:!0}))),O.default.createElement(y.default.Item,(0,m.default)({className:I.default.clearConform},Y,{label:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.code_edition"})}),ee("code_version",{initialValue:_?_.code_version:"",rules:[{required:!0,message:(0,x.formatMessage)({id:"componentOverview.body.Resource.input_code"})}]})(O.default.createElement(v.default,{getPopupContainer:e=>e.parentNode,placeholder:(0,x.formatMessage)({id:"componentOverview.body.Resource.input_code"})},O.default.createElement(j,{label:O.default.createElement(M.default,{defaultActiveKey:"branches",onChange:this.onTabChange,className:I.default.selectTabs},O.default.createElement(H,{tab:O.default.createElement(x.FormattedMessage,{id:"componentOverview.body.Resource.branch"}),key:"branches"}),O.default.createElement(H,{tab:"Tags",key:"tags"}))},b.length>0?b.map(e=>{return O.default.createElement(U,{key:e,value:e},e)}):O.default.createElement(U,{value:"loading"},O.default.createElement(u.default,{spinning:E}))))))))," "),X&&O.default.createElement(B.default,{showUsernameAndPass:!0,isServiceCname:!0,data:_,service_cname:a&&a.service&&a.service.service_cname,onSubmit:this.handleModifyUrl,onCancel:this.cancelModifyUrl}),this.state.showMarketAppDetail&&O.default.createElement(D.default,{onOk:this.hideMarketAppDetail,onCancel:this.hideMarketAppDetail,app:this.state.showApp}))}},w.contextType=z.ResumeContext,E=C))||E)||E);t.default=K},LoT8:function(e,t,a){"use strict";var l=a("yP6+");(0,l.track)(!1);var n={defaultColor:"#1089ff",shape:{interval:{fillOpacity:1}}};(0,l.setTheme)(n)},Lu99:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("P2fV");var i=l(a("NJEC"));a("IzEo");var r=l(a("bx4M"));a("BoS7");var o=l(a("Sdc0"));a("+L6B");var d=l(a("2/Rp")),c=l(a("jehZ"));a("/xke");var u=l(a("TeRw")),p=l(a("p0pE"));a("7Kak");var m=l(a("9yH6"));a("y8nQ");var h,f,g,v,y=l(a("Vl3Y")),_=a("MuoO"),b=n(a("q1tI")),E=a("LLXN"),w=l(a("q76B")),C=l(a("iPMB")),M=l(a("cUW5")),S=l(a("AipW")),k=l(a("CQXj")),O=l(a("WTXe")),x=l(a("QDog")),A=l(a("9Qkj")),D=l(a("UJxd")),F=l(a("18Tw")),N=l(a("Bg2k")),T=l(a("2RmR")),L=l(a("YTVB")),P=l(a("GUlx")),I=l(a("760Q")),R=l(a("qPtA")),V=l(a("sg1L")),B=(l(a("v10I")),l(a("8+Sn"))),z=l(a("Oz9w")),H=y.default.Item,q=m.default.Group,U=(h=(0,_.connect)(e=>{var t=e.user,a=e.appControl,l=e.teamControl,n=e.rbdPlugin,s=e.global;return{currUser:t.currentUser,startProbe:a.startProbe,runningProbe:a.runningProbe,ports:a.ports,baseInfo:a.baseInfo,appDetail:a.appDetail,teamControl:l,appControl:a,pluginList:n.pluginList,rainbondInfo:s.rainbondInfo}},null,null,{withRef:!0}),f=y.default.create(),h(g=f((v=class extends b.default.Component{constructor(e){super(e),this.onTransfer=(e=>{this.setState({transfer:e})}),this.onDeleteVar=(e=>{this.setState({deleteVar:e})}),this.fetchBaseInfo=(()=>{var e=this.props.dispatch;e({type:"appControl/fetchBaseInfo",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias}})}),this.fetchPorts=(()=>{var e=this.props.dispatch;e({type:"appControl/fetchPorts",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias}})}),this.fetchTags=(()=>{var e=this.props.dispatch;e({type:"appControl/fetchTags",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias},callback:e=>{e&&this.setState({tags:e.used_labels})}})}),this.fetchInnerEnvs=(()=>{var e=this.state,t=e.page,a=e.page_size,l=e.env_name;this.props.dispatch({type:"appControl/fetchInnerEnvs",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias,page:t,page_size:a,env_name:l}})}),this.loadMembers=(()=>{var e=this.props.dispatch,t=x.default.getCurrTeamName();e({type:"teamControl/fetchMember",payload:{team_name:t,app_alias:this.props.appAlias},callback:e=>{e&&this.setState({memberslist:e.list})}})}),this.showAddMember=(()=>{this.setState({showAddMember:!0})}),this.hideAddMember=(()=>{this.setState({showAddMember:!1})}),this.handleAddMember=(e=>{this.props.dispatch({type:"appControl/setMemberAction",payload:(0,p.default)({team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias},e),callback:()=>{this.loadMembers(),this.hideAddMember()}})}),this.handleAddVar=(()=>{this.setState({showAddVar:!0})}),this.handleCancelAddVar=(()=>{this.setState({showAddVar:!1})}),this.handleSubmitAddVar=(e=>{this.props.dispatch({type:"appControl/addInnerEnvs",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias,attr_name:e.attr_name,attr_value:e.attr_value,name:e.name},callback:()=>{this.handleCancelAddVar(),this.fetchInnerEnvs()}})}),this.cancelDeleteVar=(()=>{this.setState({deleteVar:null})}),this.cancelTransfer=(()=>{this.setState({transfer:null})}),this.handleDeleteVar=(()=>{this.props.dispatch({type:"appControl/deleteEnvs",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias,ID:this.state.deleteVar.ID},callback:()=>{this.cancelDeleteVar(),this.fetchInnerEnvs(),u.default.success({message:(0,E.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0)}})}),this.handleTransfer=(()=>{var e=this.state.transfer;this.props.dispatch({type:"appControl/putTransfer",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias,ID:e.ID,scope:"inner"==e.scope?"outer":"inner"},callback:()=>{this.cancelTransfer(),this.fetchInnerEnvs(),u.default.success({message:(0,E.formatMessage)({id:"notification.success.succeeded"})})}})}),this.onEditVar=(e=>{this.setState({showEditVar:e})}),this.cancelEditVar=(()=>{this.setState({showEditVar:null})}),this.handleEditVar=(e=>{var t=this.state.showEditVar;this.props.dispatch({type:"appControl/editEvns",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias,ID:t.ID,attr_value:e.attr_value,name:e.name},callback:()=>{this.cancelEditVar(),this.fetchInnerEnvs()}})}),this.handleStartProbeStart=(e=>{var t=this.props.startProbe;this.props.dispatch({type:"appControl/editStartProbe",payload:(0,p.default)({team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias},t,{is_used:e}),callback:t=>{t&&t.status_code&&200===t.status_code&&(this.fetchStartProbe(),e?u.default.success({message:(0,E.formatMessage)({id:"notification.success.assembly_start"})}):u.default.success({message:(0,E.formatMessage)({id:"notification.success.assembly_disable"})}))}})}),this.handleRunProbeStart=(e=>{var t=this.props.runningProbe;this.props.dispatch({type:"appControl/editRunProbe",payload:(0,p.default)({team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias},t,{is_used:e}),callback:()=>{this.fetchRunningProbe()}})}),this.handleEditHealth=(e=>{var t=this.props.startProbe;this.setState({loading:!0}),k.default.isStartProbeUsed(this.state.editStartHealth)?this.props.dispatch({type:"appControl/editStartProbe",payload:(0,p.default)({team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias},e,{old_mode:t.mode}),callback:e=>{e&&e.status_code&&200===e.status_code&&(this.onCancelEditStartProbe(),this.fetchStartProbe(),u.default.success({message:(0,E.formatMessage)({id:"notification.success.assembly_edit"})}))}}):this.props.dispatch({type:"appControl/addStartProbe",payload:(0,p.default)({team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias},e),callback:e=>{e&&e.status_code&&200===e.status_code&&(this.onCancelEditStartProbe(),this.fetchStartProbe(),u.default.success({message:(0,E.formatMessage)({id:"notification.success.add"})}),u.default.info({message:(0,E.formatMessage)({id:"notification.hint.need_updata"})}))}})}),this.handleEditRunHealth=(e=>{k.default.isRunningProbeUsed(this.state.editRunHealth)?this.props.dispatch({type:"appControl/editRunProbe",payload:(0,p.default)({team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias},e),callback:()=>{this.onCancelEditRunProbe(),this.fetchRunningProbe()}}):this.props.dispatch({type:"appControl/addRunProbe",payload:(0,p.default)({team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias},e),callback:()=>{this.onCancelEditRunProbe(),this.fetchRunningProbe()}})}),this.showViewStartHealth=(e=>{this.setState({viewStartHealth:e})}),this.hiddenViewStartHealth=(()=>{this.setState({viewStartHealth:null})}),this.showViewRunningHealth=(e=>{this.setState({viewRunHealth:e})}),this.hiddenViewRunningHealth=(()=>{this.setState({viewRunHealth:null})}),this.onCancelEditStartProbe=(()=>{this.setState({editStartHealth:null,loading:!1})}),this.onCancelEditRunProbe=(()=>{this.setState({editRunHealth:null})}),this.handleRemoveTag=(e=>{this.props.dispatch({type:"appControl/deleteTag",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias,label_id:e.label_id},callback:()=>{u.default.success({message:(0,E.formatMessage)({id:"notification.success.delete"})}),this.fetchTags()}})}),this.onAddTag=(()=>{this.props.dispatch({type:"appControl/getTagInformation",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias},callback:e=>{e&&this.setState({addTag:!0,tabData:e.list})}})}),this.cancelAddTag=(()=>{this.setState({addTag:!1,tabData:[]})}),this.handleAddTag=(e=>{this.props.dispatch({type:"appControl/addTag",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias,label_ids:e},callback:()=>{this.cancelAddTag(),u.default.success({message:(0,E.formatMessage)({id:"notification.success.assembly_add"})}),this.fetchTags(),this.setState({tabData:[]})}})}),this.onEditAction=(e=>{this.setState({toEditAction:e})}),this.hideEditAction=(()=>{this.setState({toEditAction:null})}),this.handleEditAction=(e=>{var t=x.default.getCurrTeamName();this.props.dispatch({type:"appControl/editMemberAction",payload:(0,p.default)({team_name:t,user_id:this.state.toEditAction.user_id,app_alias:this.props.appAlias},e),callback:()=>{this.loadMembers(),this.hideEditAction()}})}),this.hideMarketAppDetail=(()=>{this.setState({showApp:{},showMarketAppDetail:!1})}),this.updateComponentDetail=(()=>{var e=x.default.getCurrTeamName(),t=this.props.appAlias;this.props.dispatch({type:"appControl/fetchDetail",payload:{team_name:e,app_alias:t},callback:e=>{this.setState({currentComponent:e.service})}})}),this.setupAttribute=(()=>{O.default.canVisit(this.props.status)?u.default.warning({message:(0,E.formatMessage)({id:"notification.warn.assembly_close"})}):this.setState({visibleAppSetting:!0})}),this.handleOk_AppSetting=(()=>{var e=this.props.dispatch;this.props.form.validateFields((t,a)=>{t||e({type:"appControl/updateComponentDeployType",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias,extend_method:a.extend_method},callback:e=>{e&&(u.default.success({message:e.msg_show||(0,E.formatMessage)({id:"notification.success.modified"})}),this.setState({visibleAppSetting:!1,isShow:!1},()=>{this.fetchBaseInfo(),this.updateComponentDetail()}))}})})}),this.handleChange=(e=>{var t=this.props.onChecked;t&&(t(e),setTimeout(()=>{this.fetchBaseInfo()},1e3))}),this.handleCancel_AppSetting=(()=>{this.setState({visibleAppSetting:!1,isShow:!1})}),this.onChange1=(e=>{var t=e.target.value!=(this.props.baseInfo&&this.props.baseInfo.extend_method||"stateless_multiple");this.setState({isShow:t})}),this.handleState=(e=>{return k.default.isStartProbeUsed(e)?k.default.isStartProbeStart(e)?"".concat((0,E.formatMessage)({id:"componentOverview.body.setting.Enabled"})):"".concat((0,E.formatMessage)({id:"componentOverview.body.setting.disabled"})):"".concat((0,E.formatMessage)({id:"componentOverview.body.setting.Not_set"}))}),this.onPageChange=(e=>{this.setState({page:e},()=>{this.fetchInnerEnvs()})}),this.handleSearch=(e=>{this.setState({page:1,env_name:e},()=>{this.fetchInnerEnvs()})}),this.state={isShow:!1,showAddVar:!1,showEditVar:null,deleteVar:null,transfer:null,viewStartHealth:null,editStartHealth:null,viewRunHealth:null,editRunHealth:null,addTag:!1,tabData:[],showAddMember:!1,toEditAction:null,memberslist:null,showMarketAppDetail:!1,showApp:{},visibleAppSetting:!1,tags:[],page:1,page_size:5,env_name:"",loading:!1,language:"zh-CN"===B.default.get("language")}}componentDidMount(){this.props.dispatch({type:"teamControl/fetchAllPerm"}),this.fetchInnerEnvs(),this.fetchStartProbe(),this.fetchRunningProbe(),this.fetchPorts(),this.fetchBaseInfo(),this.fetchTags(),this.loadMembers()}componentWillUnmount(){var e=this.props.dispatch;e({type:"appControl/clearTags"}),e({type:"appControl/clearPorts"}),e({type:"appControl/clearInnerEnvs"}),e({type:"appControl/clearStartProbe"}),e({type:"appControl/clearRunningProbe"}),e({type:"appControl/clearMembers"})}fetchStartProbe(){this.props.dispatch({type:"appControl/fetchStartProbe",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias}})}fetchRunningProbe(){this.props.dispatch({type:"appControl/fetchRunningProbe",payload:{team_name:x.default.getCurrTeamName(),app_alias:this.props.appAlias},callback:e=>{}})}canView(){var e=this.props.componentPermissions.isOtherSetting;return e}render(){var e;if(!this.canView())return b.default.createElement(M.default,null);var t=this.props,a=t.startProbe,l=t.ports,n=t.baseInfo,u=t.teamControl,p=t.form,h=t.componentPermissions.isOtherSetting,f=t.appDetail,g=t.method,v=t.currUser,_=t.rainbondInfo;if(!h)return A.default.noPermission();var O=this.props&&this.props.baseInfo&&this.props.baseInfo.extend_method||"stateless_multiple",B=this.state,U=B.viewStartHealth,j=(B.tags,B.tabData),K=B.isShow,G=B.loading,X=B.language,W=p.getFieldDecorator,Q={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:18}}},J={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},Y=X?Q:J,Z=!(null===_||void 0===_?void 0:null===(e=_.security_restrictions)||void 0===e?void 0:e.enable),$={wrapperCol:{span:24}},ee={display:"block",height:"30px",lineHeight:"30px"};return"boolean"!==typeof n.build_upgrade?null:b.default.createElement(b.Fragment,null,b.default.createElement(r.default,{style:{marginBottom:24},title:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.information"}),className:z.default.tabsCard},"vm"!=g?b.default.createElement(y.default,null,b.default.createElement(H,(0,c.default)({style:{marginBottom:0}},Y,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.time"})}),n.create_time||""),b.default.createElement(H,(0,c.default)({style:{marginBottom:0}},Y,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.type"})}),O&&x.default.getComponentType(O),b.default.createElement(d.default,{onClick:this.setupAttribute,size:"small",style:{marginLeft:"10px"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.change"}))),b.default.createElement(H,(0,c.default)({style:{marginBottom:0}},Y,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.upgrade"})}),b.default.createElement(o.default,{defaultChecked:n.build_upgrade,onChange:this.handleChange}))):b.default.createElement(y.default,null,b.default.createElement(H,(0,c.default)({style:{marginBottom:0}},Y,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.time"})}),n.create_time||""),b.default.createElement(H,(0,c.default)({style:{marginBottom:0}},Y,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.type"})}),(0,E.formatMessage)({id:"Vm.createVm.vm"})))),b.default.createElement(r.default,{style:{marginBottom:24},title:b.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.health"}),a&&b.default.createElement("div",null,b.default.createElement(d.default,{onClick:()=>{this.setState({editStartHealth:a})},style:{marginRight:"5px",fontSize:"14px",fontWeight:400},icon:"form"},"{}"!=JSON.stringify(a)?b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.edit"}):b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.set"})),"{}"!=JSON.stringify(a)&&k.default.isStartProbeStart(a)?b.default.createElement(d.default,{onClick:()=>{this.handleStartProbeStart(!1)},style:{fontSize:"14px",fontWeight:400},icon:"stop"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.Disable"})):"{}"!=JSON.stringify(a)&&b.default.createElement(d.default,{onClick:()=>{this.handleStartProbeStart(!0)},style:{fontSize:"14px",fontWeight:400},icon:"play-square"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.Enable"}))))},a&&b.default.createElement("div",{style:{display:"flex"},className:z.default.healthy},b.default.createElement("div",{style:{width:"33%",textAlign:"center"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.state"}),this.handleState(a)),b.default.createElement("div",{style:{width:"33%",textAlign:"center"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.method"}),a.scheme?a.scheme:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.Not_set"})),b.default.createElement("div",{style:{width:"33%",textAlign:"center"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.unhealth"}),"readiness"===a.mode?b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.OfflineOffline"}):"liveness"===a.mode?b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.restart"}):b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.Not_set"})))),("job"===(f&&f.service&&f.service.extend_method)||"cronjob"===(f&&f.service&&f.service.extend_method))&&b.default.createElement(V.default,{extend_method:f.service.extend_method,service_alias:f&&f.service&&f.service.service_alias}),(v.is_enterprise_admin||Z)&&b.default.createElement(D.default,{service_alias:f&&f.service&&f.service.service_alias,extend_method:f.service.extend_method}),this.state.addTag&&b.default.createElement(F.default,{tags:j||[],onCancel:this.cancelAddTag,onOk:this.handleAddTag}),this.state.showAddVar&&b.default.createElement(L.default,{onCancel:this.handleCancelAddVar,onSubmit:this.handleSubmitAddVar,isShowRestartTips:e=>{this.props.onshowRestartTips(e)}}),this.state.showEditVar&&b.default.createElement(L.default,{onCancel:this.cancelEditVar,onSubmit:this.handleEditVar,data:this.state.showEditVar,isShowRestartTips:e=>{this.props.onshowRestartTips(e)}}),this.state.deleteVar&&b.default.createElement(w.default,{onOk:this.handleDeleteVar,onCancel:this.cancelDeleteVar,title:b.default.createElement(E.FormattedMessage,{id:"confirmModal.deldete.env.title"}),desc:b.default.createElement(E.FormattedMessage,{id:"confirmModal.deldete.env.desc"}),subDesc:b.default.createElement(E.FormattedMessage,{id:"confirmModal.deldete.env.subDesc"})}),this.state.transfer&&b.default.createElement(w.default,{onOk:this.handleTransfer,onCancel:this.cancelTransfer,title:b.default.createElement(E.FormattedMessage,{id:"confirmModal.deldete.transfer.title"}),desc:b.default.createElement(E.FormattedMessage,{id:"confirmModal.deldete.transfer.determine"}),subDesc:""}),U&&b.default.createElement(P.default,{title:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.health_examination"}),data:U,onCancel:()=>{this.setState({viewStartHealth:null})}}),this.state.editStartHealth&&b.default.createElement(N.default,{ports:l,onOk:this.handleEditHealth,title:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.health"}),data:this.state.editStartHealth,onCancel:this.onCancelEditStartProbe,loading:G}),this.state.toEditAction&&b.default.createElement(I.default,{onSubmit:this.handleEditAction,onCancel:this.hideEditAction,actions:u.actions,value:this.state.toEditAction.service_perms.map(e=>e.id)}),this.state.viewRunHealth&&b.default.createElement(R.default,{title:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.see"}),data:this.state.viewRunHealth,onCancel:()=>{this.setState({viewRunHealth:null})}}),this.state.editRunHealth&&b.default.createElement(T.default,{ports:l,onOk:this.handleEditRunHealth,title:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.inspect"}),data:this.state.editRunHealth,onCancel:this.onCancelEditRunProbe}),this.state.showAddMember&&b.default.createElement(S.default,{members:this.state.memberslist,actions:u.actions,onOk:this.handleAddMember,onCancel:this.hideAddMember}),this.state.showMarketAppDetail&&b.default.createElement(C.default,{onOk:this.hideMarketAppDetail,onCancel:this.hideMarketAppDetail,app:this.state.showApp}),this.state.visibleAppSetting&&b.default.createElement(s.default,{title:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.deployment"}),visible:this.state.visibleAppSetting,width:600,onCancel:this.handleCancel_AppSetting,footer:K?[b.default.createElement(i.default,{title:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.Modify"}),onConfirm:this.handleOk_AppSetting,onCancel:this.handleCancel_AppSetting,okText:"Yes",cancelText:"No"},b.default.createElement(d.default,{type:"primary"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.determine"}))),b.default.createElement(d.default,{onClick:this.handleCancel_AppSetting},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.cancel"}))]:b.default.createElement("div",null,b.default.createElement(d.default,{type:"primary",onClick:this.handleCancel_AppSetting},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.determine"})),b.default.createElement(d.default,{onClick:this.handleCancel_AppSetting},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.setting.cancel"})))},b.default.createElement(y.default.Item,$,W("extend_method",{initialValue:O||"stateless_multiple",rules:[{required:!0,message:(0,E.formatMessage)({id:"componentOverview.body.setting.select"})}]})(b.default.createElement(q,{onChange:this.onChange1},x.default.getSupportComponentTyps().map(e=>{return b.default.createElement("div",{key:e.type},b.default.createElement(m.default,{style:ee,value:e.type},e.name),b.default.createElement("p",{style:{color:"#999999",paddingLeft:"26px"}},e.desc))}))))))}},g=v))||g)||g);t.default=U},LzeT:function(e,t,a){e.exports={customCard:"customCard___3BuzB"}},NJpE:function(e,t,a){e.exports={container:"container___2P-8G",iconContainer:"iconContainer___28Q16",clickableIcon:"clickableIcon___Xqq48",hiddenIcon:"hiddenIcon___2OvqV",visibleIcon:"visibleIcon___3OONJ",componentMenu:"componentMenu___3fJAL",headerWrapper:"headerWrapper___jhfx3",headerShow:"headerShow___1FDXa",headerHide:"headerHide___2rIGb",topoBtn:"topoBtn___186KY",content_container:"content_container___3jwPa",animatedContainer:"animatedContainer___3W7wj",slideDown:"slideDown___2kpUv",exit:"exit___3PFY2",slideUp:"slideUp___3Nbfj"}},OSFV:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("Pwec");var i=l(a("CtXQ"));a("14J3");var r=l(a("BMrR"));a("jCWc");var o=l(a("kPKH"));a("+L6B");var d=l(a("2/Rp")),c=l(a("d6i3")),u=l(a("1l/V"));a("OaEy");var p=l(a("2fM7"));a("iQDF");var m,h,f,g=l(a("+eQT")),v=n(a("q1tI")),y=a("MuoO"),_=a("LLXN"),b=g.default.RangePicker,E=p.default.Option,w=v.default.memo(e=>{var t=e.item,a=e.index;return v.default.createElement("div",{style:{padding:"2px 8px",backgroundColor:"#212121",color:"#fff",fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',fontSize:"12px",lineHeight:"1.4",wordBreak:"break-word",whiteSpace:"pre-wrap"}},v.default.createElement("span",{style:{color:"#666666",marginRight:12,fontWeight:"normal",display:"inline-block",textAlign:"right"}},a+1),v.default.createElement("span",{style:{color:"#666666",marginRight:12,fontWeight:"normal"}},t.formattedTime),v.default.createElement("span",{style:{color:"#FFF"}},t.msg))}),C=(m=(0,y.connect)(null,null,null,{withRef:!0}),m((f=class extends v.PureComponent{constructor(e){var t;super(e),t=this,this.queryLokiLogs=function(){var e=(0,u.default)(c.default.mark(function e(a){var l,n,s,i,r;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(l=t.props,n=l.appAlias,s=l.url,i=l.dispatch,n){e.next=5;break}return console.warn("appAlias is required for Loki query"),t.setState({loading:!1,list:[]}),e.abrupt("return");case 5:r={queries:[{refId:"A",datasource:{type:"loki",uid:"P8E80F9AEF21F6940"},editorMode:"code",expr:'{service_alias="'.concat(n,'"}'),queryType:"range",maxLines:5e3}],range:a,from:a.from,to:a.to},i({type:"region/fetchLokiLog",payload:{url:s+"/api/ds/query",data:r},callback:e=>{var a=t.parseLokiResponse(e.bean);t.setState({loading:!1,list:a.sort((e,t)=>t.timestamp-e.timestamp)})},handleError:e=>{console.error("Loki query error:",e),t.setState({loading:!1,list:[]})}});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.parseLokiResponse=(e=>{var t,a,l=[];return(null===e||void 0===e?void 0:null===(t=e.results)||void 0===t?void 0:null===(a=t.A)||void 0===a?void 0:a.frames)?(e.results.A.frames.forEach(e=>{var t;if(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.values){var a=e.data.values[1]||[],n=e.data.values[2]||[];a.forEach((e,t)=>{if(n[t]){var a=parseInt(e);l.push({id:"".concat(a,"-").concat(t),timestamp:a,formattedTime:this.formatTimestamp(a),msg:n[t]})}})}}),l):l}),this.formatTimestamp=(e=>{var t=e.toString();return t.length>13?new Date(e/1e6).toLocaleString():13===t.length?new Date(e).toLocaleString():new Date(1e3*e).toLocaleString()}),this.getTimeParams=(()=>{var e=this.state,t=e.timeRange,a=e.customTimeRange,l=Date.now();if("custom"===t&&a)return{from:a[0].valueOf().toString(),to:a[1].valueOf().toString()};var n={last12h:{from:(l-432e5).toString(),to:l.toString()},last24h:{from:(l-864e5).toString(),to:l.toString()},last2d:{from:(l-1728e5).toString(),to:l.toString()},last7d:{from:(l-6048e5).toString(),to:l.toString()},last30d:{from:(l-2592e6).toString(),to:l.toString()}};return n[t]||n["last12h"]}),this.handleTimeRangeChange=(e=>{this.setState({timeRange:e},()=>{"custom"!==e&&(this.setState({customTimeRange:null}),this.loadData())})}),this.handleCustomTimeChange=(e=>{this.setState({customTimeRange:e},()=>{e&&2===e.length&&this.loadData()})}),this.handleDownload=(()=>{var e=this.state.list,t=this.props.appAlias;if(0!==e.length){var a=e.map(e=>{return"[".concat(e.formattedTime,"] ").concat(e.msg)}).join("\n"),l=new Blob([a],{type:"text/plain;charset=utf-8"}),n=window.URL.createObjectURL(l),s=document.createElement("a"),i=(new Date).toISOString().replace(/[:.]/g,"-"),r="".concat(t||"service","-logs-").concat(i,".txt");s.href=n,s.download=r,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(n)}}),this.handleScroll=(e=>{var t=e.target,a=t.scrollTop,l=t.clientHeight,n=this.state.list;if(n.length>50){var s=Math.floor(a/this.itemHeight),i=Math.min(s+Math.ceil(l/this.itemHeight)+10,n.length);this.setState({visibleStartIndex:Math.max(0,s-5),visibleEndIndex:i})}}),this.state={list:[],loading:!0,timeRange:"last12h",customTimeRange:null,visibleStartIndex:0,visibleEndIndex:50},this.logContainerRef=v.default.createRef(),this.itemHeight=22}componentDidMount(){this.loadData()}loadData(){this.setState({loading:!0});var e=this.getTimeParams();this.queryLokiLogs(e)}render(){var e=this.state,t=e.loading,a=e.list,l=e.timeRange,n=e.customTimeRange,c=e.visibleStartIndex,u=e.visibleEndIndex,m=a.length>50?a.slice(c,u):a;return v.default.createElement(s.default,{title:v.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.log.HistoryLog.title"}),visible:!0,width:1024,bodyStyle:{background:"#222222",color:"#fff"},onCancel:this.props.onCancel,footer:[v.default.createElement(d.default,{key:"download",type:"primary",icon:"download",onClick:this.handleDownload,disabled:0===a.length,style:{marginRight:8}},"\u4e0b\u8f7d\u65e5\u5fd7"),v.default.createElement(d.default,{key:"close",onClick:this.props.onCancel},v.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.log.HistoryLog.close"}))]},v.default.createElement(r.default,{gutter:16,style:{marginBottom:16}},v.default.createElement(o.default,{span:12},v.default.createElement("span",{style:{marginRight:8}},"\u65f6\u95f4\u8303\u56f4\uff1a"),v.default.createElement(p.default,{value:l,onChange:this.handleTimeRangeChange,style:{width:120}},v.default.createElement(E,{value:"last12h"},"\u8fd112\u5c0f\u65f6"),v.default.createElement(E,{value:"last24h"},"\u8fd124\u5c0f\u65f6"),v.default.createElement(E,{value:"last2d"},"\u8fd12\u5929"),v.default.createElement(E,{value:"last7d"},"\u8fd17\u5929"),v.default.createElement(E,{value:"last30d"},"\u8fd130\u5929"),v.default.createElement(E,{value:"custom"},"\u81ea\u5b9a\u4e49"))),v.default.createElement(o.default,{span:12},"custom"===l&&v.default.createElement(b,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",value:n,onChange:this.handleCustomTimeChange,placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],style:{width:"100%"}}))),t?v.default.createElement("div",{style:{textAlign:"center"}},v.default.createElement(i.default,{type:"loading",style:{marginTop:100,marginBottom:100}})):"",t?"":v.default.createElement("div",{style:{textAlign:"left"}},a.length>0?v.default.createElement("div",{ref:this.logContainerRef,style:{maxHeight:500,overflowY:"auto",position:"relative",backgroundColor:"#212121"},onScroll:this.handleScroll},a.length>50?v.default.createElement("div",{style:{height:a.length*this.itemHeight}},v.default.createElement("div",{style:{transform:"translateY(".concat(c*this.itemHeight,"px)"),position:"absolute",width:"100%"}},m.map((e,t)=>v.default.createElement(w,{key:e.id,item:e,index:c+t})))):m.map((e,t)=>v.default.createElement(w,{key:e.id,item:e,index:t}))):v.default.createElement("p",{style:{textAlign:"center"}},v.default.createElement(_.FormattedMessage,{id:"componentOverview.body.tab.log.HistoryLog.null"}))))}},h=f))||h);t.default=C},Oz9w:function(e,t,a){e.exports={ant_form_item:"ant_form_item___IsEuZ",ant_radio_disabled:"ant_radio_disabled___26CQv",selectTabs:"selectTabs___3ppt5",update:"update___1LxKH",delete:"delete___ykGEe",tabsCard:"tabsCard___Ig2aV",healthy:"healthy___OvqeX"}},P5R6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAABNklEQVQ4T2P8////fwYoePv+A8PilRsZ9h0+wfD46XOwqKy0JIOTrQVDbLg/g7CgAEwpAyNM4469hxnq2icyeLnaM/h7uTCoKcuDFd26+4Bh47a9DNt2H2Roqsxn8HC2BYuDNYI0NfdOY5jR08igq6UGNxWZcfnaLYaMknqG2uIssGbGN+/e//cMTWGYO6kNRdP2vYfA+jyd7eD6QZqT86oYtq+ew8DYP33B/w8fPzE0lOei2NQ9eS6YX5qbjCLe0DmZQYCfj4HRNyrjf2NFHoOhriZRGs9fvsZQ3zGZgdHA3v//kW3LGLi5uIjS+PXbNwYbrygKNOJy6smzl8AuMDfWQ3EJ3Km4Auf1m3cMDIwMDKLCQtgDB1d07Nx/BKzB3dEGe3SAEgAozlp6p5OWAChKcuQkcgDSq8inQDppLQAAAABJRU5ErkJggg=="},Pp4N:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("T2oS");var i=l(a("W9HT"));a("IzEo");var r=l(a("bx4M")),o=l(a("jehZ"));a("O3gP");var d=l(a("lrIw"));a("5NDa");var c=l(a("5rEg"));a("fOrg");var u=l(a("+KLJ"));a("+L6B");var p=l(a("2/Rp"));a("y8nQ");var m,h,f,g,v=l(a("Vl3Y")),y=n(a("q1tI")),_=a("MuoO"),b=l(a("LzeT")),E=l(a("e6Ls")),w=l(a("UTiu")),C=a("LLXN"),M=v.default.Item,S=(m=v.default.create(),h=(0,_.connect)(e=>{var t=e.user,a=e.appControl,l=e.loading;return{currUser:t.currentUser,appDetail:a.appDetail,addLoading:l.effects["monitor/addServiceMonitorFigure"],editLoading:l.effects["monitor/editServiceMonitorFigure"]}}),m(f=h((g=class extends y.PureComponent{constructor(e){super(e),this.fetchComponentMetrics=(()=>{var e=this.props,t=e.dispatch,a=e.serviceId,l=e.teamName,n=e.appAlias;t({type:"monitor/fetchComponentMetrics",payload:{team_name:l,service_alias:n,serviceId:a},callback:e=>{var t=e.list.map(e=>e.metric);this.setState({indicators:t})}})}),this.onOk=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.onOk;a.validateFields({force:!0},(e,t)=>{!e&&l&&l(t)})}),this.handleSearch=(()=>{var e=this.props.form;e.validateFields({force:!0},(e,t)=>{e||this.setState({RangeData:[t],isRender:!0},()=>{this.setState({isRender:!1})})})}),this.handleSubmitDelete=(()=>{this.cancalDelete()}),this.state={indicators:[],RangeData:this.props.info.graph_id?[this.props.info]:[],loading:!1,isRender:!1}}componentDidMount(){this.fetchComponentMetrics()}render(){var e=this.props,t=e.form,a=e.onCancel,l=e.dispatch,n=e.appDetail,m=e.appAlias,h=e.info,f=void 0===h?{}:h,g=e.addLoading,_=e.editLoading,S=t.getFieldDecorator,k=this.state,O=k.loading,x=k.indicators,A=k.RangeData,D=k.isRender,F={moduleName:"CustomMonitor",start:(new Date).getTime()/1e3-3600,end:(new Date).getTime()/1e3,dispatch:l,appDetail:n,appAlias:m};return y.default.createElement(s.default,{title:f&&f.ID?y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitoring.editChart"}):y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitoring.addChart"}),visible:!0,width:600,confirmLoading:O,className:E.default.TelescopicModal,onCancel:a,onOk:this.onOk,footer:[y.default.createElement(p.default,{style:{marginTop:"10px"},onClick:a},y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitoring.cancel"})),y.default.createElement(p.default,{style:{marginTop:"10px"},type:"primary",loading:g||_,onClick:this.onOk},f&&f.graph_id?y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitoring.preservation"}):y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitoring.add"}))]},y.default.createElement(y.Fragment,null,y.default.createElement(v.default,{onSubmit:this.onOk},y.default.createElement(i.default,{spinning:O},y.default.createElement(u.default,{style:{marginBottom:"10px"},message:y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitoring.input"}),type:"info",showIcon:!0}),y.default.createElement(r.default,{className:b.default.customCard,headStyle:{padding:"0 24px"},title:y.default.createElement(M,null,S("title",{initialValue:f.title||"",rules:[{required:!0,message:(0,C.formatMessage)({id:"componentOverview.body.tab.monitor.CustomMonitoring.title"})},{max:64,message:(0,C.formatMessage)({id:"componentOverview.body.tab.monitor.CustomMonitoring.max"})}]})(y.default.createElement(c.default,{style:{width:"calc(100% - 15px)"},placeholder:(0,C.formatMessage)({id:"componentOverview.body.tab.monitor.CustomMonitoring.title"})})))},y.default.createElement("div",null,y.default.createElement(M,null,S("promql",{initialValue:f.promql||"",rules:[{required:!0,message:(0,C.formatMessage)({id:"componentOverview.body.tab.monitor.CustomMonitoring.queryCriteria"})},{max:255,message:(0,C.formatMessage)({id:"componentOverview.body.tab.monitor.CustomMonitoring.maxLength"})}]})(y.default.createElement(d.default,{style:{width:"calc(100% - 75px)",marginRight:"5px"},dataSource:x,filterOption:(e,t)=>-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase()),placeholder:(0,C.formatMessage)({id:"componentOverview.body.tab.monitor.CustomMonitoring.queryCriteria"})})),y.default.createElement(p.default,{onClick:this.handleSearch},y.default.createElement(C.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitoring.query"}))),y.default.createElement("div",{style:{minHeight:"300px"}},A.length>0&&A.map(e=>{var t=e.title,a=e.promql;return y.default.createElement(w.default,(0,o.default)({moduleName:"CustomMonitor",isEdit:!1,key:t,isRender:D},F,{title:t,type:a}))}))))))))}},f=g))||f)||f);t.default=S},Q3tE:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var s=l(a("BMrR"));a("jCWc");var i,r,o,d=l(a("kPKH")),c=n(a("q1tI")),u=a("yP6+"),p=l(a("RFWI")),m=l(a("Bqs9")),h=(i=(0,p.default)(),i((o=class extends c.Component{constructor(){super(...arguments),this.state={legendData:[]},this.getG2Instance=(e=>{this.chart=e}),this.getLengendData=(()=>{if(this.chart){var e=this.chart.getAllGeoms()[0],t=e.get("dataArray")||[],a=t.map(e=>{var t=e.map(e=>e._origin),a={name:t[0].name,color:e[0].color,checked:!0,value:t.reduce((e,t)=>e+t.value,0)};return a});this.setState({legendData:a})}}),this.handleRef=(e=>{this.node=e}),this.handleLegendClick=((e,t)=>{var a=e;a.checked=!a.checked;var l=this.state.legendData;l[t]=a;var n=l.filter(e=>e.checked).map(e=>e.name);this.chart&&(this.chart.filter("name",e=>n.indexOf(e)>-1),this.chart.repaint()),this.setState({legendData:l})})}componentDidMount(){this.getLengendData()}componentWillReceiveProps(e){this.props.data!==e.data&&this.getLengendData()}render(){var e=["#1890FF","#FACC14","#2FC25B","#8543E0","#F04864","#13C2C2","#fa8c16","#a0d911"],t=this.props,a=t.data,l=void 0===a?[]:a,n=t.height,i=void 0===n?0:n,r=t.title,o=t.hasLegend,p=void 0!==o&&o,h=t.forceFit,f=void 0===h||h,g=t.tickCount,v=void 0===g?4:g,y=t.padding,_=void 0===y?[35,30,16,30]:y,b=t.animate,E=void 0===b||b,w=t.colors,C=void 0===w?e:w,M=this.state.legendData,S={value:{min:0,tickCount:v}},k=i-(p?80:22);return c.default.createElement("div",{className:m.default.radar,style:{height:i}},c.default.createElement("div",null,r&&c.default.createElement("h4",null,r),c.default.createElement(u.Chart,{scale:S,height:k,forceFit:f,data:l,padding:_,animate:E,onGetG2Instance:this.getG2Instance},c.default.createElement(u.Tooltip,null),c.default.createElement(u.Coord,{type:"polar"}),c.default.createElement(u.Axis,{name:"label",line:null,tickLine:null,grid:{lineStyle:{lineDash:null},hideFirstLine:!1}}),c.default.createElement(u.Axis,{name:"value",grid:{type:"polygon",lineStyle:{lineDash:null}}}),c.default.createElement(u.Geom,{type:"line",position:"label*value",color:["name",C],size:1}),c.default.createElement(u.Geom,{type:"point",position:"label*value",color:["name",C],shape:"circle",size:3})),p&&c.default.createElement(s.default,{className:m.default.legend},M.map((e,t)=>c.default.createElement(d.default,{span:24/M.length,key:e.name,onClick:()=>this.handleLegendClick(e,t)},c.default.createElement("div",{className:m.default.legendItem},c.default.createElement("p",null,c.default.createElement("span",{className:m.default.dot,style:{backgroundColor:e.checked?e.color:"#aaa"}}),c.default.createElement("span",null,e.name)),c.default.createElement("h6",null,e.value)))))))}},r=o))||r);t.default=h},Q9DM:function(e,t,a){e.exports={timelineChart:"timelineChart___83ARi"}},QKd8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAYAAABGbhwYAAAAoUlEQVQoU9WQMQrEIBBFv6QJpk5t5VGEXCBFriDY5RIeICmtBQv7QK4iWAW8gxgMu4GwucBO9WfmMfz5pJRSAOA4DmzbVuVVlFKM43j3xDlX9n3Hh78XX0EIgRACpF6UUiLn/APVQdM0WNf1CU7TBGst2rbFMAzw3r+DSiksy4Ku6y5/xpj/BRljiDGiZtf3PVJKz2e01gghvObIOcc8zzgBRWqW6sMFhjYAAAAASUVORK5CYII="},RFWI:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("jehZ")),s=l(a("q1tI"));function i(e){var t=parseInt(getComputedStyle(e).height,10),a=parseInt(getComputedStyle(e).paddingTop,10)+parseInt(getComputedStyle(e).paddingBottom,10);return t-a}function r(e){if(!e)return 0;var t=e,a=i(t);while(!a){if(t=t.parentNode,!t)break;a=i(t)}return a}var o=()=>e=>{var t;return t=class extends s.default.Component{constructor(){super(...arguments),this.state={computedHeight:0},this.handleRoot=(e=>{this.root=e})}componentDidMount(){var e=this.props.height;if(!e){var t=r(this.root);this.setState({computedHeight:t})}}render(){var t=this.props.height,a=this.state.computedHeight,l=t||a;return s.default.createElement("div",{ref:this.handleRoot},l>0&&s.default.createElement(e,(0,n.default)({},this.props,{height:l})))}},t},d=o;t.default=d},Rg9O:function(e,t,a){e.exports={tagCloud:"tagCloud___3UY18"}},SgVc:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("14J3");var i=l(a("BMrR"));a("jCWc");var r=l(a("kPKH")),o=l(a("jehZ"));a("5NDa");var d=l(a("5rEg"));a("OaEy");var c=l(a("2fM7"));a("y8nQ");var u,p,m,h=l(a("Vl3Y")),f=n(a("q1tI")),g=a("LLXN"),v=h.default.Item,y=(c.default.Option,d.default.TextArea,u=h.default.create(),u((m=class extends f.PureComponent{constructor(e){super(e),this.handleSubmit=(e=>{e.preventDefault(),this.props.form.validateFields({force:!0},(e,t)=>{e||this.props.onOk&&this.props.onOk(t)})}),this.handleCancel=(()=>{this.props.onCancel&&this.props.onCancel()}),this.state={}}render(){var e=this.props.form,t=e.getFieldDecorator,a=(e.getFieldValue,{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}});return f.default.createElement(s.default,{title:f.default.createElement(g.FormattedMessage,{id:"omponentOverview.body.SubDomain.title"}),onOk:this.handleSubmit,visible:!0,onCancel:this.handleCancel},f.default.createElement(i.default,{gutter:24},f.default.createElement(r.default,{className:"gutter-row",span:12},f.default.createElement(h.default,{onSubmit:this.handleSubmit},f.default.createElement(v,(0,o.default)({},a,{l:!0,label:f.default.createElement(g.FormattedMessage,{id:"omponentOverview.body.SubDomain.domain"})}),t("domain",{rules:[{required:!0,message:(0,g.formatMessage)({id:"componentOverview.body.SubDomain.required"})},{pattern:/^[0-9a-zA-Z.]*$/,message:(0,g.formatMessage)({id:"componentOverview.body.SubDomain.pattern"})}]})(f.default.createElement(d.default,{placeholder:(0,g.formatMessage)({id:"componentOverview.body.SubDomain.placeholder"})}))))),f.default.createElement(r.default,{className:"gutter-row",span:12,style:{lineHeight:"36px"}},".",this.props.sld_suffix)))}},p=m))||p);t.default=y},Szue:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("g9YV");var i=l(a("wCAj"));a("Pwec");var r=l(a("CtXQ"));a("2qtc");var o=l(a("kLXV"));a("+L6B");var d,c,u,p=l(a("2/Rp")),m=a("MuoO"),h=a("7DNP"),f=n(a("q1tI")),g=l(a("8hm0")),v=l(a("MXRY")),y=l(a("EhlT")),_=l(a("cUW5")),b=l(a("puxM")),E=a("xpXo"),w=l(a("QDog")),C=a("LLXN"),M=l(a("Fqoj"));class S extends f.PureComponent{render(){var e=this.props,t=e.appAlias,a=e.onCancel;return f.default.createElement(o.default,{title:f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.Relation.ViewRelationInfo.title"}),width:1e3,visible:!0,onCancel:a,footer:[f.default.createElement(p.default,{onClick:a},f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.Relation.ViewRelationInfo.close"}))]},f.default.createElement(v.default,{title:"",type:"OuterEnvs",autoQuery:!0,appAlias:t}))}}var k=(d=(0,m.connect)(null,null,null,{withRef:!0}),d((u=class extends f.PureComponent{constructor(e){super(e),this.onViewRelationInfo=(e=>{this.setState({viewRelationInfo:e})}),this.onPageChange=((e,t)=>{this.setState({page:e,pageSize:t},()=>{this.loadRelationedApp()})}),this.loadRelationedApp=(()=>{var e=this.state,t=e.page,a=e.pageSize;(0,E.getRelationedApp)({team_name:w.default.getCurrTeamName(),app_alias:this.props.appAlias,page:t,pageSize:a}).then(e=>{if(e){var t=e.bean.port_list;e.list&&e.list.length>0&&e.list.map(e=>{var a=e.ports_list;return t=t.concat(a),e}),t=this.isRepeat(t),this.setState({relationList:e.list||[],showText:t,total:e.bean.total})}})}),this.isRepeat=(e=>{var t={};for(var a in e){if(t[e[a]])return!0;t[e[a]]=!0}return!1}),this.showAddRelation=(()=>{this.setState({showAddRelation:!0})}),this.handleCancelAddRelation=(()=>{this.setState({showAddRelation:!1})}),this.handleSubmitAddRelation=(e=>{var t=this.props.dispatch;(0,E.batchAddRelationedApp)({team_name:w.default.getCurrTeamName(),app_alias:this.props.appAlias,dep_service_ids:e}).then(e=>{var a=(new Date).getTime();e&&(this.props.isShowUpdate?this.props.handleOperation("putUpdateRolling",()=>{t(h.routerRedux.push("/team/".concat(w.default.getCurrTeamName(),"/region/").concat(w.default.getCurrRegionName(),"/apps/").concat(w.default.getAppID(),"/overview")+"?type=components&componentID=".concat(this.props.appAlias,"&tab=relation&refresh=").concat(a)))}):(this.loadRelationedApp(),this.handleCancelAddRelation(),t(h.routerRedux.push("/team/".concat(w.default.getCurrTeamName(),"/region/").concat(w.default.getCurrRegionName(),"/apps/").concat(w.default.getAppID(),"/overview")+"?type=components&componentID=".concat(this.props.appAlias,"&tab=relation&refresh=").concat(a)))))})}),this.handleRemoveRelationed=(e=>{var t=this.props.dispatch;(0,E.removeRelationedApp)({team_name:w.default.getCurrTeamName(),app_alias:this.props.appAlias,dep_service_id:e.service_id}).then(e=>{if(e){var a=(new Date).getTime();this.props.isShowUpdate?this.props.handleOperation("putUpdateRolling",()=>{t(h.routerRedux.push("/team/".concat(w.default.getCurrTeamName(),"/region/").concat(w.default.getCurrRegionName(),"/apps/").concat(w.default.getAppID(),"/overview")+"?type=components&componentID=".concat(this.props.appAlias,"&tab=relation&refresh=").concat(a)))}):(this.loadRelationedApp(),t(h.routerRedux.push("/team/".concat(w.default.getCurrTeamName(),"/region/").concat(w.default.getCurrRegionName(),"/apps/").concat(w.default.getAppID(),"/overview")+"?type=components&componentID=".concat(this.props.appAlias,"&tab=relation&refresh=").concat(a))))}})}),this.cancelViewRelationInfo=(()=>{this.setState({viewRelationInfo:null})}),this.state={showAddRelation:!1,relationList:[],viewRelationInfo:null,showText:null,page:1,pageSize:5,total:0}}componentDidMount(){this.loadRelationedApp()}shouldComponentUpdate(){return!0}canView(){var e=this.props.componentPermissions.isRely;return e}render(){var e=this.state,t=(e.showText,e.relationList),a=this.props,l=a.appAlias,n=a.method;return this.canView()?f.default.createElement(f.Fragment,null,"vm"!=n&&f.default.createElement(s.default,{title:f.default.createElement(f.default.Fragment,null,f.default.createElement("span",null,f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.Relation.EnvironmentVariable.information"})),f.default.createElement("span",{className:M.default.desc},(0,C.formatMessage)({id:"componentOther.relationMnt.desc_relation"}))),extra:f.default.createElement(p.default,{onClick:this.showAddRelation},f.default.createElement(r.default,{type:"plus"})," ",f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.Relation.EnvironmentVariable.add"})),style:{borderRadius:5,marginBottom:"20px"}},f.default.createElement(b.default,{sm:650},f.default.createElement(i.default,{rowKey:(e,t)=>t,pagination:{current:this.state.page,pageSize:this.state.pageSize,total:this.state.total,onChange:this.onPageChange,onShowSizeChange:this.onPageChange,showQuickJumper:!0,showSizeChanger:!0,showTotal:e=>"\u5171 ".concat(e," \u6761"),pageSizeOptions:["5","10","20","30"],hideOnSinglePage:Number(this.state.total)<=5},columns:[{title:(0,C.formatMessage)({id:"componentOverview.body.Relation.table.service_cname"}),dataIndex:"service_cname",render:(e,t)=>f.default.createElement(h.Link,{to:"/team/".concat(w.default.getCurrTeamName(),"/region/").concat(w.default.getCurrRegionName(),"/apps/").concat(t.group_id,"/overview?type=components&componentID=").concat(t.service_alias,"&tab=overview")},e)},{title:(0,C.formatMessage)({id:"componentOverview.body.Relation.table.group_name"}),dataIndex:"group_name",render:(e,t)=>f.default.createElement(h.Link,{to:"/team/".concat(w.default.getCurrTeamName(),"/region/").concat(w.default.getCurrRegionName(),"/apps/").concat(t.group_id,"/overview")},e)},{title:(0,C.formatMessage)({id:"componentOverview.body.Relation.table.operation"}),dataIndex:"var",render:(e,t)=>f.default.createElement(f.Fragment,null,f.default.createElement("a",{onClick:()=>this.onViewRelationInfo(t),href:"javascript:;",style:{margintRight:10}},f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.Relation.table.connection"})),f.default.createElement("a",{onClick:()=>{this.handleRemoveRelationed(t)},href:"javascript:;",style:{margintRight:10}},f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.Relation.table.cancel"})))}],dataSource:t}))),f.default.createElement(v.default,{title:f.default.createElement(C.FormattedMessage,{id:"componentOverview.body.Relation.EnvironmentVariable.title"}),type:"Outer",autoQuery:!0,appAlias:l}),f.default.createElement(y.default,this.props),this.state.showAddRelation&&f.default.createElement(g.default,{appAlias:this.props.appAlias,onCancel:this.handleCancelAddRelation,onSubmit:this.handleSubmitAddRelation}),this.state.viewRelationInfo&&f.default.createElement(S,{appAlias:this.state.viewRelationInfo.service_alias,onCancel:this.cancelViewRelationInfo})):f.default.createElement(_.default,null)}},c=u))||c);t.default=k},UJxd:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("R9oj");var i=l(a("ECub"));a("5Dmo");var r=l(a("3S7+"));a("bbsP");var o=l(a("/wGt"));a("BoS7");var d=l(a("Sdc0"));a("5NDa");var c=l(a("5rEg"));a("14J3");var u=l(a("BMrR"));a("jCWc");var p=l(a("kPKH"));a("+L6B");var m=l(a("2/Rp"));a("Pwec");var h=l(a("CtXQ"));a("/xke");var f=l(a("TeRw"));a("y8nQ");var g=l(a("Vl3Y"));a("OaEy");var v,y,_,b,E=l(a("2fM7")),w=n(a("q1tI")),C=a("MuoO"),M=a("LLXN"),S=a("xpXo"),k=l(a("48xL")),O=l(a("QDog")),x=l(a("q76B")),A=l(a("v65o")),D=l(a("8+Sn")),F=l(a("ZNrE")),N=E.default.Option,T=E.default.OptGroup,L=(v=g.default.create(),y=(0,C.connect)(e=>{var t=e.user,a=e.appControl;return{currUser:t.currentUser,appDetail:a.appDetail}}),v(_=y((b=class extends w.PureComponent{constructor(e){super(e),this.handleGetKubernetes=(()=>{var e=O.default.getCurrTeamName(),t=this.props.service_alias||"";(0,S.getKubernetes)({team_name:e,service_alias:t}).then(e=>{var t=[];e.list.filter((e,a)=>{return t.push(e.name)});this.setState({allData:e.list,havevalArr:t})}).catch(e=>{})}),this.onClose=(()=>{var e=this.state.drawerSwitch,t="";t="add"==e?"change":"add",this.setState({visible:!1,drawerSwitch:t})}),this.addAttribute=(e=>{var t=this.state;t.selectArr,t.havevalArr;this.setState({visible:!0,drawerTitle:(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.add"}),drawerSwitch:e,selectVal:void 0,jsonValue:"",strValue:""})}),this.changeBtn=((e,t,a)=>{var l=this.state,n=l.allData,s=l.TooltipValueArr;"yaml"==e.save_type?this.setState({yamlValue:e.attribute_value}):"json"==e.save_type?this.setState({jsonValue:e.attribute_value}):"string"==e.save_type&&this.setState({strValue:e.attribute_value}),this.setState({minArr:n[a],visible:!0,drawerTitle:(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.edit_attribute"}),drawerSwitch:t,selectVal:e.name,TooltipValue:s[e.name]})}),this.deleteBtn=((e,t)=>{var a=this.state.selectVal,l=O.default.getCurrTeamName(),n=this.props.service_alias||"";(0,S.deleteKubernetes)({team_name:l,service_alias:n,value_name:a}).then(e=>{e&&e.response_data&&200==e.response_data.code&&(this.setState({showDeletePort:!this.state.showDeletePort}),f.default.success({message:(0,M.formatMessage)({id:"notification.success.attribute_delete"})}),this.handleGetKubernetes())})}),this.cancalDeletePort=(e=>{null!=e?this.setState({selectVal:e.name,showDeletePort:!this.state.showDeletePort}):this.setState({showDeletePort:!this.state.showDeletePort})}),this.handleChange=(e=>{var t=this.state,a=(t.selectVal,t.TooltipValueArr);this.setState({selectVal:e,yamlValue:a[e],TooltipValue:a[e]})}),this.notificationFun=(()=>{f.default.error({message:(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.null"})})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.state,a=t.selectVal,l=(t.drawerSwitch,t.minArr,t.TooltipValue),n=this.props,s=n.form;n.dispatch,O.default.getCurrTeamName(),this.props.service_alias;s.validateFields((e,t)=>{if(!e)switch(a){case"nodeSelector":if(t.nodeSelector[0].key&&t.nodeSelector[0].value){var n={name:a,save_type:"json",attribute_value:t.nodeSelector||[]};this.handelAddOrEdit(n)}else this.notificationFun();break;case"labels":if(t.labels[0].key&&t.labels[0].value){var s={name:a,save_type:"json",attribute_value:t.labels||[]};this.handelAddOrEdit(s)}else this.notificationFun();break;case"annotations":if(t.annotations[0].key&&t.annotations[0].value){var i={name:a,save_type:"json",attribute_value:t.annotations||[]};this.handelAddOrEdit(i)}else this.notificationFun();break;case"volumeMounts":if(null!=t.volumeMounts&&t.volumeMounts.length>0&&t.volumeMounts!=l){var r={name:a,save_type:"yaml",attribute_value:t.volumeMounts||[]};this.handelAddOrEdit(r)}else this.notificationFun();break;case"hostAliases":if(null!=t.hostAliases&&t.hostAliases.length>0&&t.hostAliases!=l){var o={name:a,save_type:"yaml",attribute_value:t.hostAliases||[]};this.handelAddOrEdit(o)}else this.notificationFun();break;case"volumeClaimTemplate":if(null!=t.volumeClaimTemplate&&t.volumeClaimTemplate.length>0&&t.volumeClaimTemplate!=l){var d={name:a,save_type:"yaml",attribute_value:t.volumeClaimTemplate||[]};this.handelAddOrEdit(d)}else this.notificationFun();break;case"envFromSource":if(null!=t.envFromSource&&t.envFromSource.length>0&&t.envFromSource!=l){var c={name:a,save_type:"yaml",attribute_value:t.envFromSource||[]};this.handelAddOrEdit(c)}else this.notificationFun();break;case"livenessProbe":if(null!=t.livenessProbe&&t.livenessProbe.length>0&&t.livenessProbe!=l){var u={name:a,save_type:"yaml",attribute_value:t.livenessProbe||[]};this.handelAddOrEdit(u)}else this.notificationFun();break;case"readinessProbe":if(null!=t.readinessProbe&&t.readinessProbe.length>0&&t.readinessProbe!=l){var p={name:a,save_type:"yaml",attribute_value:t.readinessProbe||[]};this.handelAddOrEdit(p)}else this.notificationFun();break;case"volumes":if(null!=t.volumes&&t.volumes.length>0&&t.volumes!=l){var m={name:a,save_type:"yaml",attribute_value:t.volumes||[]};this.handelAddOrEdit(m)}else this.notificationFun();break;case"securityContext":if(null!=t.securityContext&&t.securityContext.length>0&&t.securityContext!=l){var h={name:a,save_type:"yaml",attribute_value:t.securityContext||[]};this.handelAddOrEdit(h)}else this.notificationFun();break;case"affinity":if(null!=t.affinity&&t.affinity.length>0){var f={name:a,save_type:"yaml",attribute_value:t.affinity||[]};this.handelAddOrEdit(f)}else this.notificationFun();break;case"tolerations":if(null!=t.tolerations&&t.tolerations.length>0&&t.tolerations!=l){var g={name:a,save_type:"yaml",attribute_value:t.tolerations||[]};this.handelAddOrEdit(g)}else this.notificationFun();break;case"env":if(null!=t.env&&t.env.length>0&&t.env!=l){var v={name:a,save_type:"yaml",attribute_value:t.env||[]};this.handelAddOrEdit(v)}else this.notificationFun();break;case"serviceAccountName":if(null!=t.serviceAccountName&&t.serviceAccountName.length>0){var y={name:a,save_type:"string",attribute_value:t.serviceAccountName||[]};this.handelAddOrEdit(y)}else this.notificationFun();break;case"cmd":if(null!=t.cmd&&t.cmd.length>0){var _={name:a,save_type:"string",attribute_value:t.cmd||[]};this.handelAddOrEdit(_)}else this.notificationFun();break;case"privileged":if(null!=t.privileged){var b={name:a,save_type:"string",attribute_value:"".concat(t.privileged)||"false"};this.handelAddOrEdit(b)}else this.notificationFun();break;case"shareProcessNamespace":if(null!=t.shareProcessNamespace){var E={name:a,save_type:"string",attribute_value:"".concat(t.shareProcessNamespace)||"false"};this.handelAddOrEdit(E)}else this.notificationFun();break;case"dnsPolicy":if(null!=t.dnsPolicy){var w={name:a,save_type:"string",attribute_value:"".concat(t.dnsPolicy)||"false"};this.handelAddOrEdit(w)}else this.notificationFun();break;case"dnsConfig":if(null!=t.dnsConfig&&t.dnsConfig.length>0&&t.dnsConfig!=l){var C={name:a,save_type:"yaml",attribute_value:"".concat(t.dnsConfig)||[]};this.handelAddOrEdit(C)}else this.notificationFun();break;case"hostIPC":if(null!=t.hostIPC){var M={name:a,save_type:"string",attribute_value:"".concat(t.hostIPC)||"false"};this.handelAddOrEdit(M)}else this.notificationFun();break;case"resources":if(null!=t.resources&&t.resources.length>0&&t.resources!=l){var S={name:a,save_type:"yaml",attribute_value:"".concat(t.resources)||[]};this.handelAddOrEdit(S)}else this.notificationFun();break;case"lifecycle":if(null!=t.lifecycle&&t.lifecycle.length>0&&t.lifecycle!=l){var k={name:a,save_type:"yaml",attribute_value:"".concat(t.lifecycle)||[]};this.handelAddOrEdit(k)}else this.notificationFun();break}})}),this.handleCancel=(()=>{this.setState({visible:!1})}),this.handelAddOrEdit=(e=>{var t=O.default.getCurrTeamName(),a=this.props.service_alias||"",l=this.state,n=l.selectVal,s=l.drawerSwitch;"add"==s?(0,S.addKubernetes)({team_name:t,service_alias:a,value_name:n,attribute:e}).then(e=>{e&&e.response_data&&200==e.response_data.code&&(f.default.success({message:(0,M.formatMessage)({id:"notification.success.attribute_add"})}),this.handleGetKubernetes()),this.setState({visible:!1})}):"change"==s&&(0,S.editKubernetes)({team_name:t,service_alias:a,value_name:n,attribute:e}).then(e=>{e&&e.response_data&&200==e.response_data.code&&(f.default.success({message:(0,M.formatMessage)({id:"notification.success.attribute_edit"})}),this.handleGetKubernetes()),this.setState({visible:!1})})}),this.state={allData:[],minArr:{},visible:!1,drawerTitle:(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.add"}),selectArr:["nodeSelector","labels","volumes","volumeMounts","hostAliases","affinity","tolerations","serviceAccountName","cmd","privileged","env","shareProcessNamespace","dnsPolicy","hostIPC","resources","lifecycle","dnsConfig","volumeClaimTemplate","envFromSource","annotations","securityContext","livenessProbe","readinessProbe"],selectVal:void 0,havevalArr:[],drawerSwitch:"add",jsonValue:"",yamlValue:"",strValue:"",showDeletePort:!1,TooltipValueArr:{affinity:"#sample\n#nodeAffinity:\n#      preferredDuringSchedulingIgnoredDuringExecution:\n#      - weight: 1\n#        preference:\n#          matchExpressions:\n#          - key: disktype\n#            operator: In\n#            values:\n#           - ssd\n",tolerations:'#sample\n#- key: "test"\n#  operator: "Equal"\n#  value: "yk"\n#  effect: "NoSchedule"\n',env:"#sample\n#- name: NGINX_USERNAEM\n#  valueFrom:\n#    secretKeyRef:\n#      key: username\n#      name: test-secret\n#      optional: false\n#- name: NGINX_PASSWORD\n#  valueFrom:\n#    secretKeyRef:\n#      key: password\n#      name: test-secret\n#      optional: false\n#- name: MY_POD_IP\n#  valueFrom:\n#   fieldRef:\n#     fieldPath: status.podIP\n",volumes:"#sample\n#- hostPath:\n#    path: /test\n#  name: data\n#- name: mydata\n#  persistentVolumeClaim:\n#    claimName: test-pvc\n#- configMap:\n#    name: test\n#  name: config\n",volumeMounts:"#sample\n#- mountPath: /opt\n#  name: data\n#- mountPath: /etc/test/conf/aa\n#  name: mydata\n#  subPath: aa\n#- mountPath: /etc/test/conf/nginx.conf\n#  name: config\n#  subPath: test.conf\n",dnsConfig:"#sample\n #nameservers:\n #searches:\n #options:\n #  - name:\n #    value: ",resources:"#sample\n#  limits:\n#    hugepages-2Mi:\n#    memory: \n#  requests:\n#    memory: ",lifecycle:"#sample\n#postStart:\n#  exec:\n#    command:\n #preStop:\n#  exec:\n#    command: ",volumeClaimTemplate:"#sample\n#- metadata: \n# name: database-data \n# spec:\n# accessModes:  \n# - ReadWriteOnce: \n# resources: \n# requests: \n# storage: ",envFromSource:"#sample\n#- configMapRef:\n#    name: \n#- secretRef:\n#    name: ",livenessProbe:"#sample\n#readinessProbe:\n#    tcpSocket:\n#  port: 8080\n#    initialDelaySeconds: 15\n#    periodSeconds: 10",readinessProbe:"#sample\n#readinessProbe:\n#    tcpSocket:\n#  port: 8080\n#    initialDelaySeconds: 15\n#    periodSeconds: 10",hostAliases:'#sample\n#- ip: "127.0.0.1"\n#  hostnames:\n#  - foo.local\n#  - bar.local\n#- ip: "10.1.2.3"\n#  hostnames:\n#  - foo.remote\n#  - bar.remote'},TooltipValue:"",language:"zh-CN"===D.default.get("language"),yamlShow:!1}}componentDidMount(){this.handleGetKubernetes(),"vm"==this.props.extend_method&&this.setState({selectArr:["nodeSelector","labels","tolerations","dnsPolicy","annotations","affinity","livenessProbe","readinessProbe"]})}render(){var e=this.props.form,t=w.default.createElement("svg",{t:"1658480171057",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1600",width:"48",height:"48"},w.default.createElement("path",{d:"M354.40128 0c-87.04 0-157.44 70.55872-157.44 157.59872v275.68128H78.72c-21.6576 0-39.36256 17.69984-39.36256 39.36256v236.31872c0 21.6576 17.69984 39.35744 39.36256 39.35744h118.24128v118.08256c0 87.04 70.4 157.59872 157.44 157.59872h472.63744c87.04 0 157.59872-70.55872 157.59872-157.59872V315.0336c0-41.74848-38.9888-81.93024-107.52-149.27872l-29.11744-29.12256L818.87744 107.52C751.5392 38.9888 711.39328 0 669.59872 0H354.4064z m0 78.72h287.20128c28.35456 7.0912 27.99616 42.1376 27.99616 76.8v120.16128c0 21.6576 17.69984 39.35744 39.36256 39.35744h118.07744c39.38816 0 78.87872-0.0256 78.87872 39.36256v512c0 43.32032-35.55328 78.87872-78.87872 78.87872H354.4064c-43.32544 0-78.72-35.5584-78.72-78.87872v-118.08256h393.91744c21.66272 0 39.36256-17.69472 39.36256-39.35744V472.64256c0-21.66272-17.69984-39.36256-39.36256-39.36256H275.68128V157.59872c0-43.32032 35.39456-78.87872 78.72-78.87872zM261.2736 506.39872h20.16256l65.28 176.64h-23.04l-19.2-54.71744h-65.28l-19.2 54.71744h-23.04l64.31744-176.64z m-181.43744 0.96256h23.99744l40.32 89.27744 41.28256-89.27744h23.99744l-53.76 107.52v68.15744h-22.07744v-67.2l-53.76-108.47744z m290.87744 0h32.64l49.92 143.03744h0.96256l48.95744-143.03744h33.60256v175.67744h-22.08256v-106.55744c0-10.88 0.32256-26.56256 0.96256-47.04256h-0.96256l-52.79744 153.6h-19.2l-52.80256-153.6h-0.95744c1.28 22.4 1.92 38.72256 1.92 48.96256v104.63744h-20.16256V507.36128z m214.08256 0h22.07744v155.52h69.12v20.15744H584.8064V507.36128z m-312.96 23.04c-1.92 8.96-4.80256 18.23744-8.64256 27.83744l-17.28 50.88256h51.84l-18.23744-50.88256c-3.84-10.88-6.4-20.15744-7.68-27.83744z","p-id":"1601","data-spm-anchor-id":"a313x.7781069.0.i0",class:"selected",fill:O.default.getPublicColor()})),a=this.state,l=a.drawerTitle,n=a.selectArr,f=a.selectVal,v=a.havevalArr,y=a.drawerSwitch,_=(a.type,a.allData),b=a.jsonValue,C=a.yamlValue,S=a.strValue,D=(a.boolvalue,a.TooltipValue),L=a.language,P=e.getFieldDecorator,I=e.setFieldsValue,R="add"==y,V=[],B=[];n.map((e,t)=>{return 1==v.includes(e)&&V.push(e),V}),n.map((e,t)=>{return 0==v.includes(e)&&B.push(e),B});var z=["Default","ClusterFirst","ClusterFirstWithHostNet","None"],H={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}},q={labelCol:{xs:{span:8},sm:{span:8}},wrapperCol:{xs:{span:16},sm:{span:16}}};return w.default.createElement("div",null,w.default.createElement(s.default,{title:w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.attribute"}),style:{marginBottom:"24px"},extra:w.default.createElement(m.default,{onClick:()=>this.addAttribute("add")},w.default.createElement(h.default,{type:"plus"}),w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.add"}))},w.default.createElement(o.default,{title:l,placement:"right",closable:!1,onClose:this.onClose,visible:this.state.visible,width:500},w.default.createElement("div",{className:A.default.selectstyle},w.default.createElement(u.default,null,w.default.createElement(p.default,{span:L?4:6},w.default.createElement("p",{style:L?{}:{whiteSpace:"nowrap",fontWeight:600,marginTop:5}},w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.name"}))),w.default.createElement(p.default,{span:L?20:18},w.default.createElement(E.default,{style:{width:220},onChange:this.handleChange,placeholder:(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.choice"}),disabled:"change"===y,value:f},w.default.createElement(T,{label:w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.added"})},B.map((e,t)=>{return w.default.createElement(N,{key:t,value:e},e)})),w.default.createElement(T,{label:w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.Cannot"})},V.map((e,t)=>{return w.default.createElement(N,{key:t,value:e,disabled:!0},e)}))))),w.default.createElement(g.default,{onSubmit:this.handleSubmit},f&&("nodeSelector"==f||"labels"==f||"annotations"==f)&&w.default.createElement(g.default.Item,q,w.default.createElement("div",{style:L?{width:"100%"}:{marginLeft:38,width:"100%"}},w.default.createElement("p",{style:{whiteSpace:"nowrap"}},w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.key"})),w.default.createElement("div",{className:A.default.nodeSelector_sytle},P("".concat(f),{initialValue:b||[],rules:[{required:!1,message:(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.msg"},{selectVal:f})}]})(w.default.createElement(k.default,{setspan:12}))))),f&&"dnsPolicy"==f&&w.default.createElement(g.default.Item,q,w.default.createElement("div",{style:L?{}:{marginLeft:38}},w.default.createElement("p",{style:{whiteSpace:"nowrap",paddingBottom:5}},(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.dnsPolicy"})),P("".concat(f),{initialValue:S||!1,rules:[{required:!1}]})(w.default.createElement(E.default,{placeholder:(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.dnsPolicy"}),style:{width:220,marginLeft:56},onSelect:this.dnsPolicyYamlShow},z.map((e,t)=>{return w.default.createElement(N,{key:t,value:e},e)}))))),f&&("volumeMounts"==f||"hostAliases"==f||"volumes"==f||"affinity"==f||"tolerations"==f||"env"==f||"volumeClaimTemplate"==f||"dnsConfig"==f||"resources"==f||"lifecycle"==f||"envFromSource"==f||"securityContext"==f||"livenessProbe"==f||"readinessProbe"==f)&&w.default.createElement(w.default.Fragment,null,w.default.createElement("p",{style:{padding:"10px 0"}}," ","dnsConfig"==f?(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.onlyDnsPolicy"}):" "),w.default.createElement(F.default,{setFieldsValue:I,formItemLayout:H,Form:g.default,style:{marginBottom:"20px"},getFieldDecorator:P,name:f,message:w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.content"}),data:C||"",mode:"yaml",bool:R,TooltipValue:D})),f&&"serviceAccountName"==f&&w.default.createElement(g.default.Item,q,w.default.createElement("div",{style:L?{}:{marginLeft:38}},w.default.createElement("p",{style:{whiteSpace:"nowrap"}},w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.input"})),w.default.createElement("div",{className:L?A.default.accountName_style:A.default.en_accountName_style},P("".concat(f),{initialValue:S||"",rules:[{required:!1,message:(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.input"})}]})(w.default.createElement(c.default,{placeholder:(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.input"})}))))),f&&"cmd"==f&&w.default.createElement(g.default.Item,q,w.default.createElement("div",{style:L?{}:{marginLeft:38}},w.default.createElement("p",{style:{whiteSpace:"nowrap"}},w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.input_cmd"})),w.default.createElement("div",{className:L?A.default.accountName_style:A.default.en_accountName_style},P("".concat(f),{initialValue:S||"",rules:[{required:!1,message:(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.input_cmd"})}]})(w.default.createElement(c.default,{placeholder:(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.input_cmd"})}))))),f&&("privileged"==f||"shareProcessNamespace"==f||"hostIPC"==f)&&w.default.createElement(g.default.Item,q,w.default.createElement("div",{style:L?{}:{marginLeft:38}},w.default.createElement("p",{style:{whiteSpace:"nowrap"}},w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.privileged",values:{type:f}})),P("".concat(f),{initialValue:S||!1,rules:[{required:!1}]})(w.default.createElement(d.default,{defaultChecked:S||!1,style:{margin:"20px 0  0 50px"}})))))),w.default.createElement("div",{className:A.default.handleBtn_style},w.default.createElement(m.default,{style:{marginRight:"10px"},onClick:this.handleCancel},w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.Cancel"})),w.default.createElement(m.default,{type:"primary",onClick:this.handleSubmit},w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.Confirm"})))),w.default.createElement("div",{className:A.default.pageValue_style},_&&_.length>0?_.map((e,a)=>{return w.default.createElement(u.default,{key:a},"volumes"==e.name||"volumeMounts"==e.name||"hostAliases"==e.name||"volumeClaimTemplate"==e.name||"affinity"==e.name||"tolerations"==e.name||"env"==e.name||"dnsConfig"==e.name||"resources"==e.name||"lifecycle"==e.name||"envFromSource"==e.name||"securityContext"==e.name||"livenessProbe"==e.name||"readinessProbe"==e.name?w.default.createElement(p.default,{span:4,className:A.default.yamlTitle_style},e.name,":"):w.default.createElement(p.default,{span:4},e.name,":"),w.default.createElement(p.default,{span:16},e.name&&("nodeSelector"==e.name||"labels"==e.name||"annotations"==e.name)&&e.attribute_value.length>0&&e.attribute_value.map((e,t)=>{return w.default.createElement(r.default,{key:t,placement:"top",title:w.default.createElement("div",null,w.default.createElement("p",null,"Key: ",e.key),w.default.createElement("p",null,"Value: ",e.value))},w.default.createElement("div",{className:A.default.tipText_style},w.default.createElement("span",null,e.key),w.default.createElement("span",null,e.value)))}),e.name&&("volumes"==e.name||"volumeMounts"==e.name||"hostAliases"==e.name||"volumeClaimTemplate"==e.name||"affinity"==e.name||"tolerations"==e.name||"env"==e.name||"dnsConfig"==e.name||"resources"==e.name||"lifecycle"==e.name||"envFromSource"==e.name||"securityContext"==e.name||"livenessProbe"==e.name||"readinessProbe"==e.name)&&e.attribute_value.length>0&&w.default.createElement("div",{className:A.default.yamlValue_style},t," \xa0\xa0\xa0\xa0",w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.yaml"})),e.name&&"serviceAccountName"==e.name&&e.attribute_value.length>0&&w.default.createElement("div",{style:{padding:"10px 15px",backgroundColor:"#f0f4f8",borderRadius:"10px"}},w.default.createElement(r.default,{key:a,placement:"top",title:e.attribute_value},e.attribute_value)),e.name&&"cmd"==e.name&&e.attribute_value.length>0&&w.default.createElement("div",{style:{padding:"10px 15px",backgroundColor:"#f0f4f8",borderRadius:"10px"}},w.default.createElement(r.default,{key:a,placement:"top",title:e.attribute_value},e.attribute_value)),e.name&&("privileged"==e.name||"shareProcessNamespace"==e.name||"hostIPC"==e.name)&&e.attribute_value.length>0&&w.default.createElement("span",{style:{paddingTop:"6px"}},w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.current"}),"true"==e.attribute_value?w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.Opened"}):w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.Closed"})),e.name&&"dnsPolicy"==e.name&&e.attribute_value.length>0&&w.default.createElement("span",{style:{paddingTop:"6px"}}," ",(0,M.formatMessage)({id:"componentOverview.body.Kubernetes.is"})," ",e.attribute_value," ")),w.default.createElement(p.default,{span:3},w.default.createElement("span",{onClick:()=>this.changeBtn(e,"change",a)},w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.edit"})),"\xa0\xa0\xa0\xa0",w.default.createElement("span",{onClick:()=>this.cancalDeletePort(e)},w.default.createElement(M.FormattedMessage,{id:"componentOverview.body.Kubernetes.deldete"}))))}):w.default.createElement(i.default,{image:i.default.PRESENTED_IMAGE_SIMPLE})),this.state.showDeletePort&&w.default.createElement(x.default,{title:w.default.createElement(M.FormattedMessage,{id:"confirmModal.deldete.attribute.title"}),desc:w.default.createElement(M.FormattedMessage,{id:"confirmModal.deldete.attribute.desc"}),subDesc:w.default.createElement(M.FormattedMessage,{id:"confirmModal.deldete.attribute.subDesc"}),onOk:this.deleteBtn,onCancel:this.cancalDeletePort})))}},_=b))||_)||_),P=L;t.default=P},UTiu:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var s=l(a("W9HT"));a("IzEo");var i=l(a("bx4M"));a("/xke");var r,o,d,c=l(a("TeRw")),u=l(a("p0pE")),p=l(a("QDog")),m=l(a("YM/Z")),h=a("yP6+"),f=a("MuoO"),g=l(a("wd/R")),v=n(a("q1tI")),y=a("LLXN"),_=l(a("YUe+")),b=(r=(0,f.connect)(e=>{var t=e.application;return{curAppDetail:t.groupDetail}}),r((d=class extends v.PureComponent{constructor(e){var t;super(e),t=this,this.loadPerformanceAnalysis=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.setState({loading:!0});var l=e.dispatch,n=e.appAlias;l({type:"appControl/fetchPerformanceAnalysis",payload:Object.assign({},t.handleParameter(e,a),{app_alias:n}),callback:e=>{t.setState({loading:!1}),e.bean&&e.bean.result&&e.bean.result.length>0&&t.setState({memoryRange:e.bean.result,performanceObj:e.bean})}})},this.loadRangeData=(e=>{this.setState({loading:!0});var t=e.appDetail,a=e.dispatch;a({type:"monitor/getMonitorRangeData",payload:Object.assign({},this.handleParameter(e),{componentAlias:t.service.service_alias}),callback:e=>{this.setState({loading:!1}),e.bean&&e.bean.result&&e.bean.result.length>0&&this.setState({memoryRange:e.bean.result})}})}),this.handleParameter=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=e.moduleName,n=e.type,s=e.start,i=e.end;return{query:"CustomMonitor"===l?n:t.getQueryByType(n),start:a?(new Date).getTime()/1e3-3600:s,end:a?(new Date).getTime()/1e3:i,step:Math.ceil((i-s)/100)||15,teamName:p.default.getCurrTeamName(),disable_auto_label:!0}},this.getQueryByType=(e=>{var t=this.props,a=t.appDetail,l=t.baseInfo;if(a&&a.service){var n=a.service,s=n.service_id,i=(n.service_alias,n.k8s_component_name),r=n.namespace,o=this.props.curAppDetail.k8s_app;p.default.isStateComponent(l&&l.extend_method);switch(e){case"containerMem":return'sum(container_memory_rss{pod=~".*'.concat(o,"-").concat(i,'.*",container="').concat(i,'",namespace="').concat(r,'"}) by (pod, namespace) / 1024 / 1024');case"containerCpu":return'sum(irate(container_cpu_usage_seconds_total{pod=~".*'.concat(o,"-").concat(i,'.*",container="').concat(i,'",namespace="').concat(r,'"}[5m])) by (pod,namespace) * 1000');case"containerNetR":return'sum(rate(container_network_receive_bytes_total{pod=~".*'.concat(o,"-").concat(i,'.*",namespace="').concat(r,'"}[1m])) by (pod, namespace) / 1024');case"containerNetT":return'sum(rate(container_network_transmit_bytes_total{pod=~".*'.concat(o,"-").concat(i,'.*",namespace="').concat(r,'"}[1m]) by (pod, namespace) / 1024');case"responseTime":return'ceil(avg(app_requesttime{mode="avg",service_id="'.concat(s,'"}))');case"throughput":return'sum(ceil(increase(app_request{service_id="'.concat(s,'",method="total"}[1m])/12))');case"numberOnline":return'max(app_requestclient{service_id="'.concat(s,'"})');default:return""}}return""}),this.getMeta=(()=>{var e=this.props,t=e.type,a=e.title,l=e.moduleName;if("CustomMonitor"===l)return{title:a,label:a,unit:""};switch(t){case"containerMem":return{title:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.containerMem.title"}),label:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.containerMem.label"}),unit:" MB"};case"containerCpu":return{title:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.containerCpu.title"}),label:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.containerCpu.label"}),unit:"m"};case"containerNetR":return{title:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.containerNetR.title"}),label:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.containerNetR.label"}),unit:" KB/s"};case"containerNetT":return{title:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.containerNetT.title"}),label:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.containerNetT.label"}),unit:" KB/s"};case"responseTime":return{title:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.responseTime.title"}),label:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.responseTime.label"}),unit:" ms"};case"throughput":return{title:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.throughput.title"}),label:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.throughput.label"}),unit:" dps"};case"numberOnline":return{title:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.numberOnline.title"}),label:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.numberOnline.label"}),unit:""};default:return{title:"",label:"",unit:""}}}),this.converData=(e=>{var t=[];return e&&e.map(e=>{var a=Object.assign({},e.metric),l="";a&&a.__name__&&(delete a.__name__,l=e.metric.__name__+JSON.stringify(a)),a&&a.pod&&(l=e.metric.pod+JSON.stringify(a)),e.values&&e.values.map(e=>{t.push({cid:l,time:1e3*e[0],value:Math.floor(100*Number(e[1]))/100})})}),t}),this.loadRefresh=(()=>{var e=this.props.moduleName;"PerformanceAnalysis"===e||"CustomMonitor"===e?this.loadPerformanceAnalysis(this.props,!0):this.loadRangeData(this.props)}),this.handleSubmit=(e=>{var t=this.props,a=t.dispatch,l=t.appAlias,n=t.CustomMonitorInfo,s=t.upData;n&&n.graph_id&&s&&a({type:"monitor/editServiceMonitorFigure",payload:(0,u.default)({app_alias:l,team_name:p.default.getCurrTeamName()},e,{graph_id:n.graph_id,sequence:n.sequence}),callback:e=>{e&&200===e.status_code&&(c.default.success({message:(0,y.formatMessage)({id:"notification.success.save"})}),s(),this.onCancelCustomMonitoring())}})}),this.state={memoryRange:[],performanceObj:{}}}componentWillMount(){var e=this.props.moduleName;"PerformanceAnalysis"===e||"CustomMonitor"===e?this.loadPerformanceAnalysis(this.props):this.loadRangeData(this.props)}componentWillReceiveProps(e){var t=this.props,a=t.start,l=t.end,n=t.step,s=t.moduleName,i=e.start,r=e.end,o=e.step,d=e.isRender,c=a!==i||l!==r||n!==o;"CustomMonitor"===s&&c&&d&&this.loadPerformanceAnalysis(e),"PerformanceAnalysis"===s&&c?this.loadPerformanceAnalysis(e):c&&"CustomMonitor"!==s&&this.loadRangeData(e)}render(){var e=this.props,t=e.moduleName,a=e.onDelete,l=e.onEdit,n=e.CustomMonitorInfo,r=e.isEdit,o=void 0===r||r,d=this.state,c=d.memoryRange,u=d.performanceObj,p=d.loading,f="CustomMonitor"===t,b=this.getMeta(),E=b.title,w=b.label,C=b.unit,M="PerformanceAnalysis"===t?m.default.queryRangeTog2F(u,E):this.converData(c),S={time:{alias:(0,y.formatMessage)({id:"componentOverview.body.tab.monitor.history.time"}),tickCount:10,type:"time",formatter:e=>(0,g.default)(new Date(e)).locale("zh-cn").format("HH:mm")},value:{alias:{label:w},tickCount:5,formatter:e=>{return e}},cid:{type:"cat"}};return v.default.createElement(v.Fragment,null,v.default.createElement(s.default,{spinning:p},v.default.createElement(i.default,{className:f&&_.default.rangeChart,title:E,extra:o&&v.default.createElement("div",null,f&&v.default.createElement("span",null,v.default.createElement("a",{onClick:e=>{e.preventDefault(),l(e,n)},style:{marginRight:"10px"}},v.default.createElement(y.FormattedMessage,{id:"componentOverview.body.tab.monitor.history.edit"})),v.default.createElement("a",{onClick:e=>{e.preventDefault(),a(n)},style:{marginRight:"10px"}},v.default.createElement(y.FormattedMessage,{id:"componentOverview.body.tab.monitor.history.delete"}))),v.default.createElement("a",{onClick:this.loadRefresh},v.default.createElement(y.FormattedMessage,{id:"componentOverview.body.tab.monitor.history.refresh"})))},v.default.createElement(h.Chart,{height:f?222:400,data:M,scale:S,forceFit:!0},v.default.createElement(h.Legend,{useHtml:!0,containerTpl:'<div class="g2-legend" style="position:absolute;top:20px;right:60px;width:100%;margin-top:-2px;">\n                      <h4 class="g2-legend-title"></h4>\n                      <div class='.concat(_.default.ov,'><ul class="g2-legend-list" style="list-style-type:none;margin:0;padding:0;"></ul></div>\n                    </div>\n               '),itemTpl:'\n                  <li class="g2-legend-list-item item-{index} {checked}" data-color="{originColor}" data-value="{originValue}" style="cursor: pointer;font-size: 14px;">\n                  <i class="g2-legend-marker" style="width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:10px;background-color: {color};"></i>\n                  <span title={value} class="g2-legend-text" style="display:inline-block;max-width:94%;white-space:nowrap;font-size:80%;">{value}</span>\n                  </li>',"g2-legend":{overflow:"hidden",marginTop:"-2px"},"g2-legend-list":{marginTop:"-5px",border:"none",height:"50px"},"g2-legend-list-item":{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center",marginRight:0}}),v.default.createElement(h.Axis,{name:"value",label:{offset:75,htmlTemplate:e=>{var t=C?"50px":"75px";return"<div \n                                title=".concat(e,'\n                                style="width:75px;display: flex;align-items: center;"\n                            >\n                              <div style="width:').concat(t,';text-align: right;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;">').concat(e,"</div>\n                              <div>").concat(C,"</div>\n                            </div>")}}}),v.default.createElement(h.Axis,{name:"time"}),v.default.createElement(h.Tooltip,{shared:!0,follow:!0,"g2-tooltip":{zIndex:99,width:"80%",overflow:"hidden"},crosshairs:{type:"y"},containerTpl:'<div class="g2-tooltip"> <p class="g2-tooltip-title"></p> <table class="g2-tooltip-list" style="display: block;width: 400px;"></table></div>',itemTpl:'<tr class="g2-tooltip-list-item" style="display: flex;justify-content: space-between;">\n                    <td style="font-size:80%;color:{color};width:90%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;">{name}</td>\n                    <td style="margin-left: 5px;">{value}</td>\n                  </tr>'}),v.default.createElement(h.Geom,{type:"line",position:"time*value",color:"cid",shape:"smooth",size:1})))))}},o=d))||o);t.default=b},WDld:function(e,t,a){e.exports={chartCard:"chartCard___12iqV",chartTop:"chartTop___3_Srj",chartTopMargin:"chartTopMargin___3-z99",chartTopHasMargin:"chartTopHasMargin___Crmse",metaWrap:"metaWrap___2MoK3",avatar:"avatar___44_p7",meta:"meta___1xVQ8",action:"action___3yviV",total:"total___1ziI0",content:"content___3A_ZI",contentFixed:"contentFixed___vrpEJ",footer:"footer___A0eM3",footerMargin:"footerMargin___16NB7",spin:"spin___VQ6LR"}},WDw0:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.ResumeContext=void 0;var n=l(a("q1tI")),s=n.default.createContext("");t.ResumeContext=s},WTXe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l={canDeploy(e){if(!e)return!1;var t=e.activeAction||[];return t.indexOf("deploy")>-1},canRestart(e){if(!e)return!1;var t=e.activeAction||[];return t.indexOf("reboot")>-1},canStart(e){if(!e)return!1;var t=e.activeAction||[];return t.indexOf("restart")>-1},canVisit(e){if(!e)return!1;var t=e.activeAction||[];return t.indexOf("visit")>-1},canStop(e){if(!e)return!1;var t=e.activeAction||[];return t.indexOf("stop")>-1},canManageDocker(e){if(!e)return!1;var t=e.activeAction||[];return t.indexOf("manage_container")>-1}},n=l;t.default=n},"X+Fk":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("iLo2")),i=l(a("q1tI"));class r extends i.PureComponent{render(){return i.default.createElement(i.Fragment,null,i.default.createElement(s.default,{RangeData:["containerMem","containerCpu","containerNetR","containerNetT"],moduleName:"ResourceMonitoring"}))}}t.default=r},XEvq:function(e,t,a){e.exports={field:"field___3OOdH"}},YAxI:function(e,t,a){e.exports={table:"table___32H57",label:"label___VFMAB",lr:"lr___3fcJL",ul:"ul___CpWTW",tdPadding:"tdPadding___tN2Gs"}},"YM/Z":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("wd/R")),s={queryTog2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return e.result&&e.result.length&&e.result[0].value?t?t(e.result[0].value[1]):e.result[0].value[1]:0},queryRangeTog2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return e.result&&e.result.length&&e.result[0].values&&(t=e.result[0].values.map(e=>({x:(0,n.default)(new Date(1e3*e[0])).locale("zh-cn").format("HH:mm:ss"),y:Number(e[1]),y1:Number(e[1]),y2:Number(e[1])}))),t},queryRangeTog2F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=[];return e.result&&e.result.length&&e.result[0].values&&(a=e.result[0].values.map(e=>({cid:t,time:Number(1e3*e[0]),value:Math.round(Number(e[1]))}))),a}},i=s;t.default=i},YTVB:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV")),i=l(a("jehZ"));a("5NDa");var r=l(a("5rEg"));a("/xke");var o=l(a("TeRw"));a("OaEy");var d=l(a("2fM7"));a("y8nQ");var c,u,p,m,h=l(a("Vl3Y")),f=n(a("q1tI")),g=a("LLXN"),v=a("MuoO"),y=l(a("QDog")),_=h.default.Item,b=(d.default.Option,c=(0,v.connect)(e=>{var t=e.user,a=e.appControl,l=e.teamControl;return{currUser:t.currentUser,innerEnvs:a.innerEnvs,startProbe:a.startProbe,runningProbe:a.runningProbe,ports:a.ports,baseInfo:a.baseInfo,tags:a.tags,teamControl:l,appControl:a}},null,null,{withRef:!0}),u=h.default.create(),c(p=u((m=class extends f.PureComponent{constructor(e){super(e),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.onSubmit,n=t.isShowRestartTips;a.validateFields((e,t)=>{e||(l&&l(t),n&&n(!0))})}),this.handleCancel=(()=>{this.props.onCancel&&this.props.onCancel()}),this.handleList=((e,t)=>{if(null==e&&null==t)return!1;var a=this.props.dispatch;a({type:"appControl/getVariableList",payload:{team_name:y.default.getCurrTeamName(),attr_name:e,attr_value:t},callback:a=>{var l=a&&a.list?a.list:[];l.unshift("".concat(e||t)),Array.from(new Set(l)),l&&l.length>0&&"null"==l[0]||(this.setState({list:l}),e&&form.setFieldsValue({attr_name:e}),t&&form.setFieldsValue({attr_value:t}))},handleError:e=>{if(e&&e.data&&10401==e.data.code)return null;e&&e.data&&e.data.msg_show&&o.default.warning({message:(0,g.formatMessage)({id:"notification.warn.error"}),description:e.data.msg_show})}})}),this.state={fontSizeVal:"",list:[]}}render(){var e=this.props.form.getFieldDecorator,t=this.props.data||"",a={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}};this.state.list;return f.default.createElement(s.default,{title:t?f.default.createElement(g.FormattedMessage,{id:"componentOverview.body.AddVarModal.edit"}):f.default.createElement(g.FormattedMessage,{id:"componentOverview.body.AddVarModal.add"}),onOk:this.handleSubmit,maskClosable:!1,onCancel:this.handleCancel,visible:!0},f.default.createElement(h.default,{onSubmit:this.handleSubmit},f.default.createElement(_,(0,i.default)({},a,{label:f.default.createElement(g.FormattedMessage,{id:"componentOverview.body.AddVarModal.name"})}),e("attr_name",{initialValue:t&&t.attr_name||"",rules:[{required:!0,message:(0,g.formatMessage)({id:"componentOverview.body.AddVarModal.input_name"})},{pattern:/[-._a-zA-Z][-._a-zA-Z0-9]/,message:(0,g.formatMessage)({id:"componentOverview.body.AddVarModal.only"})}]})(f.default.createElement(r.default,{disabled:!(!t||!t.attr_name),placeholder:(0,g.formatMessage)({id:"componentOverview.body.AddVarModal.input_name"})}))),f.default.createElement(_,(0,i.default)({},a,{label:f.default.createElement(g.FormattedMessage,{id:"componentOverview.body.AddVarModal.Variable_value"})}),e("attr_value",{initialValue:t&&t.attr_value||"",rules:[{required:!0,message:(0,g.formatMessage)({id:"componentOverview.body.AddVarModal.input_value"})}]})(f.default.createElement(r.default,{placeholder:(0,g.formatMessage)({id:"componentOverview.body.AddVarModal.input_value"})}))),f.default.createElement(_,(0,i.default)({},a,{label:"\u8bf4\u660e",label:f.default.createElement(g.FormattedMessage,{id:"componentOverview.body.AddVarModal.explain"})}),e("name",{initialValue:t&&t.name||"",rules:[{required:!1,message:(0,g.formatMessage)({id:"componentOverview.body.AddVarModal.input_explain"})}]})(f.default.createElement(r.default,{placeholder:(0,g.formatMessage)({id:"componentOverview.body.AddVarModal.input_explain"})})))))}},p=m))||p)||p);t.default=b},"YUe+":function(e,t,a){e.exports={rangeChart:"rangeChart___3yniD",ov:"ov___1gyx6",tooltips:"tooltips___2Len0",RangeChartBox:"RangeChartBox___3tyZx",customBox:"customBox___1YJPM"}},YWDv:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s,i=l(a("p0pE")),r=l(a("q1tI")),o=a("yP6+"),d=l(a("cQSq")),c=l(a("1Gbu")),u=l(a("RFWI")),p=l(a("Q9DM")),m=(n=(0,u.default)(),n(s=class extends r.default.Component{render(){var e,t=this.props,a=t.title,l=t.height,n=void 0===l?400:l,s=t.padding,u=void 0===s?[60,20,40,40]:s,m=t.titleMap,h=void 0===m?{y:"y"}:m,f=t.borderWidth,g=void 0===f?2:f,v=t.data,y=void 0===v?[{x:0,y:0}]:v;y.sort((e,t)=>e.x-t.x),y[0]&&y[0].y1&&y[0].y2&&(e=Math.max([...y].sort((e,t)=>t.y-e.y)[0].y));var _=new d.default({state:{start:y[0].x,end:y[y.length-1].x}}),b=_.createView();b.source(y).transform({type:"filter",callback:e=>{var t=e.x;return t<=_.state.end&&t>=_.state.start}}).transform({type:"map",callback(e){var t=(0,i.default)({},e);return t[h.y]=e.y,t}}).transform({type:"fold",fields:[h.y],key:"key",value:"value"});var E={type:"time",tickCount:10,mask:"DD\u65e5 HH:mm"},w={x:E,value:{max:e,min:0}},C=()=>r.default.createElement(c.default,{padding:[0,u[1]+20,0,u[3]],width:"auto",height:26,xAxis:"x",yAxis:"y",scales:{x:E},data:y,start:_.state.start,end:_.state.end,backgroundChart:{type:"line"},onChange:e=>{var t=e.startValue,a=e.endValue;_.setState("start",t),_.setState("end",a)}});return r.default.createElement("div",{className:p.default.timelineChart,style:{height:n+30}},r.default.createElement("div",null,a&&r.default.createElement("h4",null,a),r.default.createElement(o.Chart,{height:n,padding:u,data:b,scale:w,forceFit:!0},r.default.createElement(o.Axis,{name:"y"}),r.default.createElement(o.Tooltip,null),r.default.createElement(o.Geom,{type:"line",position:"x*value",size:g,color:"key"})),r.default.createElement("div",{style:{marginRight:-20}},r.default.createElement(C,null))))}})||s);t.default=m},YoF6:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var s=l(a("BMrR"));a("lUTK");var i=l(a("BvKs"));a("IzEo");var r=l(a("bx4M"));a("+L6B");var o,d,c,u=l(a("2/Rp")),p=a("MuoO"),m=(a("7DNP"),n(a("q1tI"))),h=l(a("cUW5")),f=l(a("lpA0")),g=l(a("QDog")),v=l(a("nIwP")),y=l(a("pybC")),_=l(a("DXno")),b=l(a("X+Fk")),E=l(a("0oB1")),w=a("LLXN"),C=u.default.Group,M=(o=(0,p.connect)(e=>{var t=e.user;return{currUser:t.currentUser}},null,null,{withRef:!0}),o((c=class extends m.PureComponent{constructor(e){super(e),this.fetchBaseInfo=(()=>{var e=this.props,t=e.dispatch,a=e.appAlias;t({type:"appControl/fetchBaseInfo",payload:{team_name:g.default.getCurrTeamName(),app_alias:a}})}),this.changeType=(e=>{e!==this.state.type&&this.setState({type:e})}),this.changeMenu=(e=>{this.setState({showMenu:e.key})}),this.state={type:"now",showMenu:"resource",anaPlugins:null}}componentWillMount(){this.fetchBaseInfo();var e=this.props.method;"vm"==e&&this.setState({showMenu:"resource"})}componentDidMount(){this.canView()&&this.getAnalyzePlugins()}getAnalyzePlugins(){this.props.dispatch({type:"appControl/getAnalyzePlugins",payload:{team_name:g.default.getCurrTeamName(),app_alias:this.props.appAlias},callback:e=>{var t=e&&e.list||[];this.setState({anaPlugins:t})}})}canView(){return f.default.canManageAppMonitor(this.props.appDetail)}renderPM(){var e=this.state,t=e.type,a=e.anaPlugins,l=(this.props.appDetail,a&&a.length>0);return l?m.default.createElement(m.Fragment,null,m.default.createElement("div",{style:{padding:"10px",border:"1px solid #e8e8e8",borderRadius:"5px"}},m.default.createElement("div",{style:{textAlign:"left",marginBottom:25}},m.default.createElement(C,null,m.default.createElement(u.default,{onClick:()=>{this.changeType("now")},type:"now"===t?"primary":""},m.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.now"})),m.default.createElement(u.default,{onClick:()=>{this.changeType("history")},type:"history"===t?"primary":""},m.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.history"})))),"now"===t?m.default.createElement(_.default,this.props):m.default.createElement(y.default,this.props))):m.default.createElement(r.default,null,m.default.createElement("div",{style:{textAlign:"center",fontSize:18,padding:"30px 0"}},m.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.analysis"}),m.default.createElement("p",{style:{paddingTop:8}},(0,w.formatMessage)({id:"componentOverview.body.tab.monitor.analysis_desc"}))))}render(){if(!this.canView())return m.default.createElement(h.default,null);var e=this.state.showMenu,t=this.props,a=t.appDetail,l=t.componentPermissions.isServiceMonitor,n=t.method,r=["resource"],o=a&&a.service&&a.service.language&&a.service.language.toLowerCase().indexOf("java")>-1;return m.default.createElement(m.default.Fragment,null,m.default.createElement(s.default,null,m.default.createElement(i.default,{onSelect:this.changeMenu,defaultSelectedKeys:r,style:{paddingBottom:10,border:0},mode:"horizontal"},m.default.createElement(i.default.Item,{key:"resource"},m.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.monitoring"})),"vm"!=n&&m.default.createElement(i.default.Item,{key:"pm"},m.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.performanceAnalysis"})),o&&"vm"!=n&&m.default.createElement(i.default.Item,{key:"trace"},m.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.tracking"})),l&&"vm"!=n&&m.default.createElement(i.default.Item,{key:"custom"},m.default.createElement(w.FormattedMessage,{id:"componentOverview.body.tab.monitor.business"})))),m.default.createElement(s.default,null,"pm"===e&&this.renderPM(),"trace"===e&&m.default.createElement(E.default,null),"resource"===e&&m.default.createElement(b.default,null),"custom"===e&&m.default.createElement(v.default,{appDetail:a})))}},d=c))||d);t.default=M},ZthY:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(a("jehZ"));a("14J3");var i=l(a("BMrR"));a("jCWc");var r=l(a("kPKH"));a("Pwec");var o=l(a("CtXQ"));a("Znn+");var d,c,u,p,m=l(a("ZTPi")),h=l(a("QDog")),f=l(a("TSYQ")),g=a("MuoO"),v=a("7DNP"),y=n(a("q1tI")),_=l(a("Jxxo")),b=l(a("JChg")),E=m.default.TabPane,w=(d=(0,g.connect)(),d((p=u=class extends y.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{this.props.onTabChange&&this.props.onTabChange(e)}),this.handleClose=(()=>{var e;this.props.dispatch(v.routerRedux.push("/team/".concat(h.default.getCurrTeamName(),"/region/").concat(h.default.getCurrRegionName(),"/apps/").concat(h.default.getAppID(),"/overview")));var t=document.querySelector("#myframe");null===t||void 0===t||null===(e=t.contentWindow)||void 0===e||e.postMessage({type:"TRIGGER_CLICK_BACKGROUND"},"*")})}render(){var e,t=this.props,a=t.title,l=(t.logo,t.action),n=t.content,d=t.tabList,c=t.className,u=t.tabActiveKey,p=(t.isSvg,t.titleSvg),h=(t.pluginSVg,t.status),g=(0,f.default)(b.default.pageHeader,c);void 0!==u&&d&&(e=d.filter(e=>e.default)[0]||d[0]);var v={defaultActiveKey:e&&e.key};return void 0!==u&&(v.activeKey=u),y.default.createElement(y.default.Fragment,null,y.default.createElement("div",{className:g},y.default.createElement("div",{className:b.default.detail},y.default.createElement("div",{className:b.default.main},y.default.createElement("div",{onClick:this.handleClose,className:b.default.close},y.default.createElement(o.default,{type:"close",style:{fontSize:16}})),y.default.createElement(i.default,{style:{marginBottom:"4px"}},y.default.createElement(r.default,{span:12,style:{display:"flex",alignItems:"center",justifyContent:"flex-start",minHeight:32}},p&&y.default.createElement("div",{className:b.default.title_svg},p),a&&y.default.createElement("div",{className:b.default.title_style},a),h&&y.default.createElement(_.default,{AppStatus:h})),y.default.createElement(r.default,{span:12,style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},l&&y.default.createElement("div",{className:b.default.action},l))),y.default.createElement(i.default,null,y.default.createElement(r.default,{span:24},n&&y.default.createElement("div",{className:b.default.content},n)))))),d&&d.length&&y.default.createElement("div",{className:b.default.tabsStyle},y.default.createElement(m.default,(0,s.default)({className:b.default.tabs},v,{onChange:this.onChange,type:"card"}),d.map(e=>{var t=e.key,a=e.tab;return y.default.createElement(E,{tab:y.default.createElement("span",{className:b.default.verticalCen},a),key:t})}))))}},u.contextTypes={},c=p))||c);t.default=w},ZwJH:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var s=l(a("wCAj"));a("Pwec");var i=l(a("CtXQ"));a("BoS7");var r=l(a("Sdc0"));a("14J3");var o=l(a("BMrR"));a("jCWc");var d=l(a("kPKH"));a("5NDa");var c=l(a("5rEg")),u=l(a("jehZ"));a("8dk+");var p=l(a("eZ87"));a("fOrg");var m=l(a("+KLJ"));a("IzEo");var h=l(a("bx4M"));a("T2oS");var f=l(a("W9HT"));a("+L6B");var g=l(a("2/Rp")),v=l(a("p0pE"));a("/xke");var y=l(a("TeRw"));a("y8nQ");var _=l(a("Vl3Y"));a("OaEy");var b,E,w,C,M=l(a("2fM7")),S=a("MuoO"),k=a("7DNP"),O=l(a("wd/R")),x=n(a("q1tI")),A=(a("P5Jw"),l(a("QKd8"))),D=l(a("4NES")),F=l(a("q76B")),N=l(a("cUW5")),T=a("xpXo"),L=l(a("QDog")),P=l(a("3iJ6")),I=l(a("v10I")),R=l(a("zQST")),V=l(a("I/an")),B=l(a("giye")),z=l(a("LrcT")),H=a("LLXN"),q=l(a("8+Sn")),U=M.default.Option,j=(b=(0,S.connect)(e=>{var t=e.user,a=e.appControl,l=e.teamControl,n=e.rbdPlugin;return{currUser:t.currentUser,baseInfo:a.baseInfo,extendInfo:a.extendInfo,instances:a.pods,scaling:a.scalingRules,features:l.features,pluginList:n.pluginList}},null,null,{pure:!1,withRef:!0}),E=_.default.create(),b(w=E((C=class extends x.PureComponent{constructor(e){super(e),this.checkNum=((e,t)=>{var a=this.state,l=a.memoryMarksObj,n=a.cpuMarksObj,s=a.showBill,i=0;return"memory"==t&&(Object.keys(l).forEach(t=>{t==e&&(i=l[t])}),0===i&&e>0&&!s&&(i=10)),"cpu"==t&&(Object.keys(n).forEach(t=>{t==e&&(i=n[t])}),0===i&&e>0&&!s&&(i=9)),i}),this.getPrice=(e=>{var t=this.state,a=(t.memoryMarksObj,t.cpuMarksObj,t.cpuValue),l=t.memoryValue;t.showBill;if(0==a&&0==l||e){var n=this.props.extendInfo,s=(null===n||void 0===n?void 0:n.current_cpu)?null===n||void 0===n?void 0:n.current_cpu:0==(null===n||void 0===n?void 0:n.current_cpu)?0:100,i=(null===n||void 0===n?void 0:n.current_memory)?null===n||void 0===n?void 0:n.current_memory:0==(null===n||void 0===n?void 0:n.current_memory)?0:512,r=this.checkNum(i,"memory"),o=this.checkNum(s,"cpu"),d=10===r,c=9===o,u="MB",p="";if(d&&i>0)if(i>=1024){var m=i/1024;Number.isInteger(m)||m.toFixed(2)==m?(u="GB",p=m.toString()):(u="MB",p=i.toString())}else u="MB",p=i.toString();this.setState({cpuValue:o,memoryValue:r,isCustomMemory:d,isCustomCpu:c,customMemoryValue:p,customCpuValue:c?(s/1e3).toString():"",customMemoryUnit:u})}}),this.handleVertical=(()=>{var e=this.props,t=e.form,a=e.appAlias,l=e.extendInfo,n=t.getFieldValue,s=this.state.setUnit,i=n("memory"),r=Number(n("gpu")),o=Number(n("new_cpu")),d=0;d=s?"G"==s?1024*i:i:"G"==V.default.getUnit(l.current_memory)?Number(1024*i):Number(i),(0,T.vertical)({team_name:L.default.getCurrTeamName(),app_alias:a,new_memory:d,new_gpu:r,new_cpu:o}).then(e=>{e&&!e.status&&y.default.success({message:(0,H.formatMessage)({id:"notification.success.operationImplement"})})})}),this.handleHorizontal=(()=>{var e=this.props.form.getFieldValue("node");(0,T.horizontal)({team_name:L.default.getCurrTeamName(),app_alias:this.props.appAlias,new_node:e}).then(e=>{e&&!e.status&&y.default.success({message:(0,H.formatMessage)({id:"notification.success.operationImplement"})})})}),this.openEditModal=(e=>{var t=this.props,a=t.dispatch,l=t.appDetail;if("add"===e)this.setState({showEditAutoScaling:!0});else{var n=this.state.id;a({type:"appControl/telescopic",payload:{team_name:L.default.getCurrTeamName(),rule_id:n,service_alias:l.service.service_alias},callback:t=>{t&&("close"===e?this.setState({rulesInfo:t.bean},()=>{this.shutDownAutoScaling()}):this.setState({rulesInfo:t.bean},()=>{this.changeAutoScaling(this.state.rulesInfo)}))}})}}),this.cancelEditAutoScaling=(()=>{this.setState({showEditAutoScaling:!1,addindicators:!1,rulesInfo:!1})}),this.handlePodClick=((e,t)=>{var a=window.open("about:blank"),l=this.props.appAlias;e&&t&&this.props.dispatch({type:"appControl/managePod",payload:{team_name:L.default.getCurrTeamName(),app_alias:l,pod_name:e,manage_name:t},callback:()=>{a.location.href="/console/teams/".concat(L.default.getCurrTeamName(),"/apps/").concat(l,"/docker_console/")}})}),this.fetchExtendInfo=(()=>{var e=this.props.dispatch;e({type:"appControl/fetchExtendInfo",payload:{team_name:L.default.getCurrTeamName(),app_alias:this.props.appAlias},handleError:e=>{e&&403===e.status&&this.props.dispatch(k.routerRedux.push("/exception/403"))}})}),this.fetchInstanceInfo=(()=>{var e=this.props.dispatch;e({type:"appControl/fetchPods",payload:{team_name:L.default.getCurrTeamName(),app_alias:this.props.appAlias},callback:e=>{e&&200===e.status_code?this.setState({instances:(e.list.new_pods||[]).concat(e.list.old_pods||[]),loading:!1}):this.setState({loading:!1})}})}),this.openAutoScaling=(e=>{this.addScalingRules(e)}),this.changeAutoScaling=(e=>{this.changeScalingRules(e)}),this.shutDownAutoScaling=(()=>{this.setState({automaLoading:!0});var e=this.props,t=e.dispatch,a=e.appDetail,l=this.state,n=l.rulesInfo,s=l.id,i=L.default.getCurrTeamName(),r=a.service.service_alias;t({type:"appControl/changeScalingRules",payload:{xpa_type:"hpa",metrics:n.metrics,maxNum:n.max_replicas,minNum:n.min_replicas,tenant_name:i,service_alias:r,enable:!1,rule_id:s},callback:e=>{e&&200===e.status_code?(y.default.success({message:(0,H.formatMessage)({id:"notification.success.close"})}),this.setState({showEditAutoScaling:!1,addindicators:!1,id:"",enable:!1},()=>{this.getScalingRules()})):y.default.success({message:(0,H.formatMessage)({id:"notification.error.close"})})}})}),this.addScalingRules=(e=>{this.setState({automaLoading:!0});var t=this.props,a=t.dispatch,l=t.appDetail,n=L.default.getCurrTeamName(),s=l.service.service_alias,i=[{metric_type:"resource_metrics",metric_name:e.selectMemory.indexOf("cpu")>-1?"cpu":"memory",metric_target_type:e.selectMemory.indexOf("utilization")>-1?"utilization":"average_value",metric_target_value:e.value?parseInt(e.value):0}];a({type:"appControl/addScalingRules",payload:{enable:!0,metrics:i,maxNum:parseInt(e.maxNum),minNum:parseInt(e.minNum),tenant_name:n,service_alias:s},callback:e=>{e&&200===e.status_code?(y.default.success({message:(0,H.formatMessage)({id:"notification.success.open"})}),this.setState({showEditAutoScaling:!1,addindicators:!1},()=>{this.getScalingRules()})):this.setState({showEditAutoScaling:!1,addindicators:!1,loading:!1})}})}),this.changeScalingRules=(e=>{this.setState({automaLoading:!0});var t=this.props,a=t.dispatch,l=t.appDetail,n=this.state,s=n.id,i=n.addindicators,r=n.rulesInfo,o=n.toDeleteMnt,d=n.automaticTelescopic,c=L.default.getCurrTeamName(),u=l.service.service_alias,p=r&&r.metrics;i&&p.push({metric_type:"resource_metrics",metric_name:e.selectMemory.indexOf("cpu")>-1?"cpu":"memory",metric_target_type:e.selectMemory.indexOf("utilization")>-1?"utilization":"average_value",metric_target_value:e.value?parseInt(e.value):0});var m=this;s&&a({type:"appControl/changeScalingRules",payload:{xpa_type:"hpa",enable:!0,maxNum:e.max_replicas?Number(e.max_replicas):Number(r.max_replicas),minNum:e.min_replicas?Number(e.min_replicas):Number(r.min_replicas),metrics:i?p:e.metrics,tenant_name:c,service_alias:u,rule_id:s},callback:e=>{e&&200===e.status_code?(y.default.success({message:o?(0,H.formatMessage)({id:"notification.success.delete"}):d?i?(0,H.formatMessage)({id:"notification.success.add"}):(0,H.formatMessage)({id:"notification.success.edit"}):(0,H.formatMessage)({id:"notification.success.open"})}),m.setState({showEditAutoScaling:!1,addindicators:!1,toDeleteMnt:!1,id:e.bean.id},()=>{m.getScalingRules()})):(y.default.success({message:(0,H.formatMessage)({id:"notification.success.Failed"})}),m.setState({showEditAutoScaling:!1,addindicators:!1}))}})}),this.getScalingRules=(()=>{var e=this.props,t=e.dispatch,a=e.appDetail;t({type:"appControl/getScalingRules",payload:{tenant_name:L.default.getCurrTeamName(),service_alias:a&&a.service&&a.service.service_alias},callback:e=>{if(e&&200===e.status_code){var t=e.list,a=!!(t&&t.length>0);this.setState({enable:a,rulesList:a?t:[],id:t&&a?t[0].rule_id:"",editRules:!(!a||!t[0].enable),automaticTelescopic:!(!a||!t[0].enable),loading:!1,automaLoading:!1})}else this.setState({loading:!1,automaLoading:!1})}})}),this.onPageChange=(e=>{this.setState({page_num:e},()=>{this.getScalingRecord()})}),this.getScalingRecord=(()=>{var e=this.props,t=e.dispatch,a=e.appDetail,l=this.state,n=l.page_num,s=l.page_size;t({type:"appControl/getScalingRecord",payload:{tenant_name:L.default.getCurrTeamName(),service_alias:a&&a.service&&a.service.service_alias,page:n,page_size:s},callback:e=>{e&&200===e.status_code&&this.setState({total:e.bean.total,sclaingRecord:e.bean.data})}})}),this.saveForm=(e=>{this.form=e;var t=this.state,a=t.rulesList,l=t.enable;l&&this.form&&this.form.setFieldsValue(a[0])}),this.setMetric_target_value=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=0;return e&&e.length>0&&e.map(e=>{var n=e.metric_name,s=e.metric_target_value,i=e.metric_target_type;if(t===n)return l=a?i:s,s}),void 0===l?0:l},this.setMetric_target_show=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var a=!1;return e&&e.length>0&&e.map(e=>{var l=e.metric_name;t===l&&(a=!0)}),a},this.onChangeAutomaticTelescopic=(()=>{var e=this.state,t=e.enable,a=e.automaticTelescopic;this.openEditModal(a?"close":t?"edit":"add")}),this.handleSubmit=(e=>{e.preventDefault();var t=this.state.enable;this.props.form.validateFields((e,a)=>{e||(t?this.changeAutoScaling(a):this.openAutoScaling(a))})}),this.handleAddIndicators=(e=>{var t=this.props,a=t.dispatch,l=t.appDetail,n=this.state,s=n.id,i=n.deleteType,r=n.editInfo;a({type:"appControl/telescopic",payload:{team_name:L.default.getCurrTeamName(),rule_id:s,service_alias:l&&l.service&&l.service.service_alias},callback:t=>{if(t)if("add"===e)this.setState({rulesInfo:t.bean,showEditAutoScaling:!0,addindicators:!0});else if("delete"===e){var a=t.bean;a.metrics.splice(a.metrics.findIndex(e=>e.metric_name===i),1),this.changeScalingRules(a)}else if(r){var l=t.bean;l.max_replicas=Number(r.maxNum),l.min_replicas=Number(r.minNum);var n=t.bean.metrics;r.cpuValue&&n.map((e,t)=>{"cpu"==e.metric_name&&(l.metrics[t].metric_target_value=Number(r.cpuValue))}),r.memoryValue&&n.map((e,t)=>{"memory"==e.metric_name&&(l.metrics[t].metric_target_value=Number(r.memoryValue))}),this.changeScalingRules(l)}}})}),this.cancelDeleteMnt=(()=>{this.setState({toDeleteMnt:null,deleteType:""})}),this.handleDeleteMnt=(e=>{this.setState({deleteType:e,toDeleteMnt:!0})}),this.handlerules=(e=>{var t=this.props.form,a=this.state.rulesList,l=t.getFieldValue,n=t.validateFields,s=a&&a.length>0&&a[0],i=l(e),r=Number(l("maxNum")),o=Number(l("minNum")),d=Number(l("cpuValue")),c=Number(l("memoryValue")),u=s&&Number(s.max_replicas),p=s&&Number(s.min_replicas),m=1,h=1;s&&s.metrics&&s.metrics.length>0&&s.metrics.map(e=>{"cpu"==e.metric_name&&(m=Number(e.metric_target_value)),"memory"==e.metric_name&&(h=Number(e.metric_target_value))});var f="",g="maxNum"===e?"errorMaxNum":"minNum"===e?"errorMinNum":"cpuValue"===e?"errorCpuValue":"errorMemoryValue";if(""==i||null==i)return this.setState({errorDesc:(0,H.formatMessage)({id:"componentOverview.body.Expansion.empty"}),[g]:f,errorType:e}),!1;i=Number(i);var v=s&&this.setMetric_target_show(s.metrics,"cpu"),y=s&&this.setMetric_target_show(s.metrics,"memory"),_=!0;r!==u||o!==p||v&&d!==m||y&&c!==h||(_=!1);var b=/^[0-9]+.?[0-9]*/;b.test(i)?i<=0||i>65535?f="".concat((0,H.formatMessage)({id:"componentOverview.body.Expansion.Input"})):"minNum"===e&&i>Number(r)?f="".concat((0,H.formatMessage)({id:"componentOverview.body.Expansion.max"})):"maxNum"===e&&i<Number(o)?f="".concat((0,H.formatMessage)({id:"componentOverview.body.Expansion.min"})):this.setState({[g]:"",errorType:e},()=>{var e=this.state,t=e.errorMinNum,a=e.errorMaxNum,l=e.errorCpuValue,s=e.errorMemoryValue;return _&&""===t&&""===a&&""===l&&""===s&&n((e,t)=>{this.setState({editInfo:t},()=>{this.handleAddIndicators("edit")})}),null}):f="".concat((0,H.formatMessage)({id:"componentOverview.body.Expansion.enter"})),this.setState({[g]:f,errorType:e})}),this.selectAfterChange=(e=>{this.setState({setUnit:e})}),this.handleFromData=(()=>{var e=this.props,t=e.form,a=e.appAlias,l=e.extendInfo,n=e.dispatch,s=this.state,i=s.cpuMarksObj,r=s.memoryMarksObj,o=s.isCustomMemory,d=s.isCustomCpu,c=s.customMemoryValue,u=s.customCpuValue,p=s.customMemoryUnit;t.validateFields((e,t)=>{if(e){var s,m,h=t.new_memory,f=t.new_cpu;if(o&&10===h){if(!this.validateCustomMemory())return;var g=parseFloat(c);s="GB"===p?1024*g:g}else s=Object.keys(r).find(e=>{if(r[e]==h)return e});if(d&&9===f){if(!u||""===u)return void y.default.warning({message:"\u8bf7\u8f93\u5165\u81ea\u5b9a\u4e49CPU\u503c"});m=1e3*parseFloat(u)}else m=Object.keys(i).find(e=>{if(i[e]==f)return e});n({type:"appControl/newVertical",payload:{team_name:L.default.getCurrTeamName(),app_alias:a,new_memory:Number(s),new_gpu:l.current_gpu,new_cpu:Number(m),new_node:t.node},callback:e=>{y.default.success({message:(0,H.formatMessage)({id:"notification.success.operationImplement"})})},handleError:e=>{y.default.error({message:e.data.msg_show||"\u64cd\u4f5c\u5931\u8d25"})}}),this.setState({editBillInfo:!1})}})}),this.handleMemoryChange=(e=>{var t=this.props.form,a={0:0,1:1,2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8,10:9},l=void 0!==a[e]?a[e]:8,n=10===e,s=9===l;this.setState({memoryValue:e,cpuValue:l,isCustomMemory:n,isCustomCpu:!!n||s},()=>{t.setFieldsValue({new_memory:e,new_cpu:l})})}),this.handleCpuChange=(e=>{var t=this.props.form,a=9===e;this.setState({cpuValue:e,isCustomCpu:a},()=>{t.setFieldsValue({new_cpu:e})})}),this.handleCustomMemoryChange=(e=>{var t=e.target.value;this.setState({customMemoryValue:t,customMemoryError:""})}),this.validateCustomMemory=(()=>{var e=this.state,t=e.customMemoryValue,a=e.customMemoryUnit;if(!t||""===t)return this.setState({customMemoryError:"\u8bf7\u8f93\u5165\u5185\u5b58\u503c"}),!1;var l=parseFloat(t);if(isNaN(l))return this.setState({customMemoryError:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u6570\u5b57"}),!1;if(l<=0)return this.setState({customMemoryError:"\u5185\u5b58\u503c\u5fc5\u987b\u5927\u4e8e0"}),!1;if("MB"===a){if(!Number.isInteger(l))return this.setState({customMemoryError:"MB\u5355\u4f4d\u65f6\u8bf7\u8f93\u5165\u6574\u6570"}),!1;if(l<1)return this.setState({customMemoryError:"MB\u5355\u4f4d\u65f6\u6700\u5c0f\u503c\u4e3a 1 MB"}),!1;if(l>1048576)return this.setState({customMemoryError:"\u5185\u5b58\u4e0d\u80fd\u8d85\u8fc7 1048576 MB"}),!1}if("GB"===a){if(l<1)return this.setState({customMemoryError:"GB\u5355\u4f4d\u65f6\u6700\u5c0f\u503c\u4e3a 1 GB"}),!1;if(l>1024)return this.setState({customMemoryError:"\u5185\u5b58\u4e0d\u80fd\u8d85\u8fc7 1024 GB"}),!1}return this.setState({customMemoryError:""}),!0}),this.handleMemoryUnitChange=(e=>{var t=this.state,a=t.customMemoryValue,l=t.customMemoryUnit;if(a&&""!==a){var n=parseFloat(a),s="";if("GB"===l&&"MB"===e)s=(1024*n).toString();else if("MB"===l&&"GB"===e){var i=n/1024;s=i.toFixed(2),s=parseFloat(s).toString()}this.setState({customMemoryUnit:e,customMemoryValue:s,customMemoryError:""},()=>{this.validateCustomMemory()})}else this.setState({customMemoryUnit:e,customMemoryError:""})}),this.handleCustomCpuChange=(e=>{this.setState({customCpuValue:e.target.value})}),this.getFormValues=((e,t)=>{var a=this.state,l=a.cpuMarksObj,n=a.memoryMarksObj,s=a.isCustomMemory,i=a.isCustomCpu,r=a.customMemoryValue,o=a.customCpuValue,d=a.customMemoryUnit,c=0;return"memory"==t?s&&10===e?c=r&&""!==r?"GB"===d?1024*parseFloat(r):parseFloat(r):0:Object.keys(n).forEach(t=>{n[t]==e&&(c=t)}):i&&9===e?c=o&&""!==o?1e3*parseFloat(o):0:Object.keys(l).forEach(t=>{l[t]==e&&(c=t)}),c}),this.state={new_pods:this.props.instances&&this.props.instances.new_pods?this.props.instances.new_pods:[],old_pods:this.props.instances&&this.props.instances.old_pods?this.props.instances.old_pods:[],instances:[],loading:!1,showEditAutoScaling:!1,editRules:!1,rulesList:[],sclaingRecord:[],page_num:1,page_size:10,enable:!1,rulesInfo:!1,total:0,automaticTelescopic:!1,addindicators:!1,toDeleteMnt:!1,deleteType:"",editInfo:!1,automaLoading:!0,errorMinNum:"",errorMaxNum:"",errorCpuValue:"",errorMemoryValue:"",enableGPU:R.default.haveFeature(this.props.features,"GPU"),language:"zh-CN"===q.default.get("language"),dataSource:[],showBill:I.default.isInstallPlugin(this.props.pluginList,"rainbond-bill"),memorySliderMin:1,memorySliderMax:8,cpuSliderMin:1,cpuSliderMax:7,isCustomMemory:!1,isCustomCpu:!1,customMemoryValue:"",customCpuValue:"",customMemoryUnit:"GB",customMemoryError:"",memoryMarks:{1:"128M",2:"256M",3:"512M",4:"1G",5:"2G",6:"4G",7:"8G",8:"16G"},memoryMarksObj:{128:1,256:2,512:3,1024:4,2048:5,4096:6,8192:7,16384:8},cpuMarks:{1:"100m",2:"250m",3:"500m",4:"1Core",5:"2Core",6:"4Core",7:"8Core"},cpuMarksObj:{100:1,250:2,500:3,1000:4,2000:5,4000:6,8000:7,16000:8},cpuValue:0,memoryValue:0}}componentWillReceiveProps(e){e.instances.new_pods!==this.state.new_pods||e.instances.old_pods!==this.state.old_pods?this.setState({new_pods:e.instances.new_pods||[],old_pods:e.instances.old_pods||[],instances:(e.instances.new_pods||[]).concat(e.instances.old_pods||[]),loading:!1}):this.setState({loading:!1})}componentDidMount(){this.canView()&&(this.state.showBill||this.setState({memoryMarks:(0,v.default)({0:(0,H.formatMessage)({id:"appOverview.no_limit"})},this.state.memoryMarks,{9:"32G",10:"\u81ea\u5b9a\u4e49"}),cpuMarks:(0,v.default)({0:(0,H.formatMessage)({id:"appOverview.no_limit"})},this.state.cpuMarks,{8:"16Core",9:"\u81ea\u5b9a\u4e49"}),memoryMarksObj:(0,v.default)({0:0},this.state.memoryMarksObj,{32768:9,custom:10}),cpuMarksObj:(0,v.default)({0:0},this.state.cpuMarksObj,{16000:8,custom:9}),memorySliderMax:10,memorySliderMin:0,cpuSliderMax:9,cpuSliderMin:0}),this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.service_alias?(this.getScalingRules(),this.getScalingRecord(),this.fetchInstanceInfo(),this.fetchExtendInfo(),this.timeClick=setInterval(()=>{this.fetchInstanceInfo()},6e4)):setTimeout(()=>{this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.service_alias&&(this.getScalingRules(),this.getScalingRecord(),this.fetchInstanceInfo(),this.fetchExtendInfo(),this.timeClick=setInterval(()=>{this.fetchInstanceInfo()},6e4))},2e3))}componentWillUnmount(){var e=this.props.dispatch;e({type:"appControl/clearExtendInfo"}),this.timeClick&&clearInterval(this.timeClick)}canView(){var e=this.props.componentPermissions.isTelescopic;return e}render(){if(!this.canView())return x.default.createElement(N.default,null);var e=this.props,t=e.extendInfo,a=e.appAlias,l=e.form,n=e.appDetail,v=e.method,y=!1;n&&L.default.isSingletonComponent(v)&&(y=!0);var b=L.default.getCurrTeamName(),E=L.default.getCurrRegionName(),w=l.getFieldDecorator,C=l.getFieldValue,S=this.state,T=S.page_num,I=S.page_size,R=S.total,V=S.loading,q=S.rulesList,j=S.sclaingRecord,K=S.rulesInfo,G=S.editRules,X=S.enable,W=S.automaticTelescopic,Q=S.showEditAutoScaling,J=S.addindicators,Y=S.errorMinNum,Z=S.errorMaxNum,$=S.errorCpuValue,ee=S.errorMemoryValue,te=(S.enableGPU,S.language),ae=(S.dataSource,S.setUnit,S.memoryMarks),le=S.cpuMarks,ne=S.cpuValue,se=S.memoryValue,ie=S.showBill,re=S.memorySliderMax,oe=S.memorySliderMin,de=S.cpuSliderMax,ce=S.cpuSliderMin;S.isCustomMemory,S.isCustomCpu,S.customMemoryValue,S.customCpuValue,S.customMemoryUnit,S.customMemoryError;if(t&&Object.keys(t).length>0&&this.getPrice(),!t)return null;this.setState({dataSource:t.memory_list||[]});var ue=C("minNum")||0,pe={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}},me=("grctl service get ".concat(a," -t ").concat(L.default.getCurrTeamName()),[]),he=q&&q.length>0&&this.setMetric_target_show(q[0].metrics,"cpu"),fe=q&&q.length>0&&this.setMetric_target_show(q[0].metrics,"memory");he||me.push({value:"cpuaverage_value",name:(0,H.formatMessage)({id:"componentOverview.body.Expansion.cup_usage"})},{value:"cpuutilization",name:(0,H.formatMessage)({id:"componentOverview.body.Expansion.cpu_use"})}),fe||me.push({value:"memoryaverage_value",name:(0,H.formatMessage)({id:"componentOverview.body.Expansion.usage"})},{value:"memoryutilization",name:(0,H.formatMessage)({id:"componentOverview.body.Expansion.use"})});return x.default.createElement("div",null,x.default.createElement(h.default,{className:z.default.InstancesCard,title:x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.instance"}),extra:x.default.createElement(g.default,{onClick:()=>{this.setState({loading:!0},()=>{this.fetchInstanceInfo()})},icon:"reload"},x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.refresh"}))},V?x.default.createElement(f.default,{tip:"Loading..."},x.default.createElement("div",{style:{minHeight:"190px"}})):x.default.createElement("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:24}},x.default.createElement(D.default,{method:v,handlePodClick:this.handlePodClick,list:this.state.instances,serviceID:this.props.appDetail&&this.props.appDetail.service&&this.props.appDetail.service.service_id,k8s_component_name:this.props.appDetail.service.k8s_component_name}))),y&&x.default.createElement(m.default,{style:{marginTop:"16px"},message:x.default.createElement("p",{style:{marginBottom:0}},x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.modify"})," ",x.default.createElement(k.Link,{to:"/team/".concat(b,"/region/").concat(E,"/components/").concat(a,"/setting")},x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.set"}))),type:"warning"}),x.default.createElement(h.default,{className:z.default.clerBorder,border:!1,title:x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.telescopic"}),extra:x.default.createElement("div",{style:{display:"flex",alignItems:"center"}},this.state.editBillInfo&&ie&&x.default.createElement(P.default,{key:ne*se,type:"title",cpu_use:this.getFormValues(ne,"cpu"),memory_use:this.getFormValues(se,"memory")}),this.state.editBillInfo?x.default.createElement("div",{style:{marginLeft:10}},x.default.createElement(g.default,{type:"primary",icon:"save",style:{marginRight:10},onClick:this.handleFromData},(0,H.formatMessage)({id:"appPublish.table.btn.confirm"})),x.default.createElement(g.default,{icon:"close-circle",onClick:()=>{var e=this.props.form,t=this.props.extendInfo,a=(null===t||void 0===t?void 0:t.current_cpu)?null===t||void 0===t?void 0:t.current_cpu:0==(null===t||void 0===t?void 0:t.current_cpu)?0:100,l=(null===t||void 0===t?void 0:t.current_memory)?null===t||void 0===t?void 0:t.current_memory:0==(null===t||void 0===t?void 0:t.current_memory)?0:512,n=this.checkNum(l,"memory"),s=this.checkNum(a,"cpu"),i=10===n,r=9===s,o="MB",d="";if(i&&l>0)if(l>=1024){var c=l/1024;Number.isInteger(c)||c.toFixed(2)==c?(o="GB",d=c.toString()):(o="MB",d=l.toString())}else o="MB",d=l.toString();this.setState({cpuValue:s,memoryValue:n,isCustomMemory:i,isCustomCpu:r,customMemoryValue:d,customCpuValue:r?(a/1e3).toString():"",customMemoryUnit:o,editBillInfo:!1},()=>{e.setFieldsValue({new_memory:n,new_cpu:s})})}},(0,H.formatMessage)({id:"appPublish.table.btn.cancel"}))):x.default.createElement(g.default,{icon:"edit",onClick:()=>this.setState({editBillInfo:!0})},(0,H.formatMessage)({id:"componentOverview.body.tab.env.table.column.edit"})))},x.default.createElement(_.default,{hideRequiredMark:!0,className:z.default.fromItem,onSubmit:this.handleFromData},x.default.createElement(_.default.Item,(0,u.default)({},pe,{label:(0,H.formatMessage)({id:"componentCheck.advanced.setup.basic_info.label.min_memory"})}),w("new_memory",{initialValue:se})(x.default.createElement(p.default,{disabled:!this.state.editBillInfo,style:{width:"500px"},marks:ae,min:oe,max:re,step:null,onChange:this.handleMemoryChange,tooltipVisible:!1}))),!ie&&this.state.isCustomMemory&&x.default.createElement(_.default.Item,(0,u.default)({},pe,{label:(0,H.formatMessage)({id:"componentOverview.body.Expansion.customMemory"}),validateStatus:this.state.customMemoryError?"error":"",help:this.state.customMemoryError}),x.default.createElement(c.default.Group,{compact:!0},x.default.createElement(c.default,{style:{width:"150px"},placeholder:"GB"===this.state.customMemoryUnit?"\u4f8b\u5982: 1.5":"\u4f8b\u5982: 512",value:this.state.customMemoryValue,onChange:this.handleCustomMemoryChange,onBlur:this.validateCustomMemory,type:"number",min:1,step:"GB"===this.state.customMemoryUnit?.1:1,disabled:!this.state.editBillInfo}),x.default.createElement(M.default,{value:this.state.customMemoryUnit,onChange:this.handleMemoryUnitChange,style:{width:80},disabled:!this.state.editBillInfo},x.default.createElement(U,{value:"MB"},"MB"),x.default.createElement(U,{value:"GB"},"GB")))),x.default.createElement(_.default.Item,(0,u.default)({},pe,{label:(0,H.formatMessage)({id:"componentCheck.advanced.setup.basic_info.label.min_cpu"})}),w("new_cpu",{initialValue:ne})(x.default.createElement(p.default,{disabled:!this.state.editBillInfo,style:{width:"500px"},marks:le,min:ce,max:de,step:null,onChange:this.handleCpuChange,tooltipVisible:!1}))),!ie&&this.state.isCustomCpu&&x.default.createElement(_.default.Item,(0,u.default)({},pe,{label:"\u81ea\u5b9a\u4e49CPU"}),x.default.createElement(c.default,{style:{width:"200px"},placeholder:"\u8bf7\u8f93\u5165CPU\u5927\u5c0f",value:this.state.customCpuValue,onChange:this.handleCustomCpuChange,addonAfter:"Core",type:"number",min:.1,step:.1,disabled:!this.state.editBillInfo})),x.default.createElement(_.default.Item,(0,u.default)({label:x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.number"})},pe),w("node",{initialValue:t.current_node})(x.default.createElement(M.default,{disabled:!this.state.editBillInfo,style:{width:500},getPopupContainer:e=>e.parentNode},(t.node_list||[]).map(e=>x.default.createElement(U,{key:e,value:e},e))))))),"vm"!=v&&x.default.createElement(h.default,{style:{marginTop:16},className:z.default.clearCard,title:x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.flex"}),extra:W&&this.state.showBill&&x.default.createElement(P.default,{key:(q&&q.length>0&&q[0].min_replicas)*(q&&q.length>0&&q[0].max_replicas),type:"title",cpu_use:this.getFormValues(ne,"cpu"),memory_use:this.getFormValues(se,"memory"),section:!0,min_node:q&&q.length>0&&q[0].min_replicas||0,max_node:q&&q.length>0&&q[0].max_replicas||1})},x.default.createElement(o.default,{gutter:24,className:z.default.automaTictelescopingBOX},x.default.createElement(d.default,{span:12,className:te?z.default.automaTictelescopingTitle:z.default.en_automaTictelescopingTitle},x.default.createElement("div",null,x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.switch"})),x.default.createElement("div",null,x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.minNumber"})),x.default.createElement("div",null,x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.maxNumber"}))),x.default.createElement(d.default,{span:12,className:z.default.automaTictelescopingTitle},he&&x.default.createElement("div",null,x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.CPU_usage"}),"utilization"===this.setMetric_target_value(q[0].metrics,"cpu",!0)?x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.rate"}):x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.amount_m"}),fe&&x.default.createElement("img",{src:A.default,alt:"",onClick:()=>{this.handleDeleteMnt("cpu")}})),fe&&x.default.createElement("div",null,x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.CPU_umemory"}),"utilization"===this.setMetric_target_value(q[0].metrics,"memory",!0)?x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.rate"}):x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.amount_mi"}),he&&x.default.createElement("img",{src:A.default,alt:"",onClick:()=>{this.handleDeleteMnt("memory")}})))),x.default.createElement(f.default,{spinning:this.state.automaLoading},x.default.createElement(_.default,{layout:"inline",hideRequiredMark:!0,className:z.default.fromItem,onSubmit:this.handleSubmit},x.default.createElement(o.default,{gutter:24,className:z.default.automaTictelescoping},x.default.createElement(d.default,{span:12},x.default.createElement("div",{className:z.default.automaTictelescopingContent},x.default.createElement(r.default,{disabled:y,className:z.default.automaTictelescopingSwitch,checked:W,onClick:()=>{this.onChangeAutomaticTelescopic()}})),x.default.createElement("div",{className:z.default.automaTictelescopingContent},w("minNum",{initialValue:q&&q.length>0&&q[0].min_replicas||0})(x.default.createElement(c.default,{disabled:!W,onBlur:e=>{this.handlerules("minNum")}}))),x.default.createElement("div",{className:z.default.automaTictelescopingContent},w("maxNum",{initialValue:q&&q.length>0&&q[0].max_replicas||1,rules:[{pattern:new RegExp(/^[0-9]\d*$/,"g"),message:(0,H.formatMessage)({id:"componentOverview.body.Expansion.enter"})},{required:!0,message:(0,H.formatMessage)({id:"componentOverview.body.Expansion.input_num_max"})},{validator:this.checkContent}]})(x.default.createElement(c.default,{disabled:!W,min:ue,onBlur:e=>{this.handlerules("maxNum")}})))),x.default.createElement(d.default,{span:12},he&&x.default.createElement("div",{className:z.default.automaTictelescopingContent},w("cpuValue",{initialValue:this.setMetric_target_value(q[0].metrics,"cpu")||1,rules:[{pattern:new RegExp(/^[0-9]\d*$/,"g"),message:(0,H.formatMessage)({id:"componentOverview.body.Expansion.enter"})},{required:!0,message:(0,H.formatMessage)({id:"componentOverview.body.Expansion.input_cup"})},{validator:this.checkContent}]})(x.default.createElement(c.default,{disabled:!W,onBlur:e=>{this.handlerules("cpuValue")}}))),fe&&x.default.createElement("div",{className:z.default.automaTictelescopingContent},w("memoryValue",{initialValue:this.setMetric_target_value(q[0].metrics,"memory")||1,rules:[{pattern:new RegExp(/^[0-9]\d*$/,"g"),message:(0,H.formatMessage)({id:"componentOverview.body.Expansion.enter"})},{required:!0,message:(0,H.formatMessage)({id:"componentOverview.body.Expansion.input_memory"})},{validator:this.checkContent}]})(x.default.createElement(c.default,{disabled:!W,onBlur:e=>{this.handlerules("memoryValue")}}))),!he&&x.default.createElement("div",{style:{height:"56px"}}),!fe&&x.default.createElement("div",{style:{height:"56px"}}),x.default.createElement("div",{className:z.default.automaTictelescopingContent},W&&x.default.createElement(i.default,{type:"plus",style:{fontSize:"23px"},onClick:()=>{me.length>0&&W&&this.handleAddIndicators("add")}})))))),x.default.createElement(o.default,{gutter:24,className:z.default.errorDescBox},x.default.createElement(d.default,{span:12,className:z.default.automaTictelescopingTitle},x.default.createElement("div",null),x.default.createElement("div",null,x.default.createElement("span",{className:z.default.errorDesc},Y)),x.default.createElement("div",null,x.default.createElement("span",{className:z.default.errorDesc}," ",Z))),x.default.createElement(d.default,{span:12,className:z.default.automaTictelescopingTitle},he&&x.default.createElement("div",null,x.default.createElement("span",{className:z.default.errorDesc},$)),fe&&x.default.createElement("div",null,x.default.createElement("span",{className:z.default.errorDesc},ee))))),this.state.toDeleteMnt&&x.default.createElement(F.default,{title:x.default.createElement(H.FormattedMessage,{id:"confirmModal.deldete.index.title"}),desc:x.default.createElement(H.FormattedMessage,{id:"confirmModal.deldete.index.desc"}),onCancel:this.cancelDeleteMnt,onOk:()=>{this.handleAddIndicators("delete")}}),Q&&x.default.createElement(B.default,{data:K,ref:this.saveForm,isvisable:Q,isaddindicators:J,memoryList:me,onClose:this.cancelEditAutoScaling,onOk:e=>{X?this.changeAutoScaling(e):this.openAutoScaling(e)},editRules:G}),"vm"!=v&&x.default.createElement(h.default,{className:z.default.clearCard,style:{marginTop:16},title:x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.horizontal"})},x.default.createElement(s.default,{className:z.default.horizontalExpansionRecordTable,rowKey:(e,t)=>t,dataSource:j,pagination:R>I&&{current:T,pageSize:I,total:R,onChange:this.onPageChange},columns:[{title:(0,H.formatMessage)({id:"componentOverview.body.Expansion.time"}),dataIndex:"last_time",key:"last_time",align:"center",width:"18%",render:e=>x.default.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-word"}},(0,O.default)(e).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"))},{title:(0,H.formatMessage)({id:"componentOverview.body.Expansion.telescopicDetails"}),dataIndex:"description",key:"description",align:"center",width:"43%",render:e=>x.default.createElement("div",{style:{textAlign:"left",wordWrap:"break-word",wordBreak:"break-word"}},e)},{title:(0,H.formatMessage)({id:"componentOverview.body.Expansion.type"}),dataIndex:"record_type",key:"record_type",align:"center",width:"13%",render:e=>x.default.createElement("div",null,"hpa"===e?x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.horizontalAutomatic"}):"manual"===e?x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.manualTelescopic"}):x.default.createElement(H.FormattedMessage,{id:"componentOverview.body.Expansion.vertical"}))},{title:(0,H.formatMessage)({id:"componentOverview.body.Expansion.operator"}),dataIndex:"operator",key:"operator",align:"center",width:"13%",render:e=>{return x.default.createElement("span",null," ",e||"-"," ")}},{title:(0,H.formatMessage)({id:"componentOverview.body.Expansion.reason"}),dataIndex:"reason",align:"center",key:"reason",width:"13%"}]})))}},w=C))||w)||w);t.default=j},ZzQo:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,i,r,o=l(a("q1tI")),d=n(a("RFWI")),c=n(a("iXxa")),u=(s=(0,d.default)(),s((r=class extends o.PureComponent{constructor(){super(...arguments),this.state={radio:1},this.resize=(()=>{var e=this.props.height,t=this.root.parentNode.offsetWidth;this.setState({radio:t<e?t/e:1})})}componentDidMount(){this.renderChart(),this.resize(),window.addEventListener("resize",this.resize)}componentWillUnmount(){cancelAnimationFrame(this.timer),this.node&&(this.node.innerHTML=""),window.removeEventListener("resize",this.resize)}renderChart(){var e=this.props,t=e.percent,a=e.color,l=void 0===a?"#1890FF":a,n=e.memorySum,s=void 0===n?1:n,i=t?t/100:s/100,r=this;if(this.node&&i){var o=this.node,d=o.getContext("2d"),c=o.width,u=o.height,p=c/2,m=2,h=p-m;d.beginPath(),d.lineWidth=2*m;for(var f=c-m,g=f/8,v=.2,y=v,_=m,b=0,E=0,w=.005,C=[],M=p-m,S=-Math.PI/2,k=!0,O=S;O<S+2*Math.PI;O+=1/(8*Math.PI))C.push([p+M*Math.cos(O),p+M*Math.sin(O)]);var x=C.shift();d.strokeStyle=l,d.moveTo(x[0],x[1]),D()}function A(){d.beginPath(),d.save();for(var e=[],t=_;t<=_+f;t+=20/f){var a=b+(_+t)/g,l=Math.sin(a)*y,n=t,s=2*h*(1-E)+(p-h)-g*l;d.lineTo(n,s),e.push([n,s])}var i=e.shift();d.lineTo(_+f,u),d.lineTo(_,u),d.lineTo(i[0],i[1]);var r=d.createLinearGradient(0,0,0,u);r.addColorStop(0,"#ffffff"),r.addColorStop(1,"#1890FF"),d.fillStyle=r,d.fill(),d.restore()}function D(){if(d.clearRect(0,0,c,u),k)if(C.length){var e=C.shift();d.lineTo(e[0],e[1]),d.stroke()}else k=!1,d.lineTo(x[0],x[1]),d.stroke(),C=null,d.globalCompositeOperation="destination-over",d.beginPath(),d.lineWidth=m,d.arc(p,p,M,0,2*Math.PI,1),d.beginPath(),d.save(),d.arc(p,p,p-3*m,0,2*Math.PI,1),d.restore(),d.clip(),d.fillStyle="#1890FF";else{if(i>=.85){if(y>v/4){var t=.01*v;y-=t}}else if(i<=.1){if(y<1.5*v){var a=.01*v;y+=a}}else{if(y<=v){var l=.01*v;y+=l}if(y>=v){var n=.01*v;y-=n}}i-E>0&&(E+=w),i-E<0&&(E-=w),b+=.07,A()}r.timer=requestAnimationFrame(D)}}render(){var e=this.state.radio,t=this.props,a=t.percent,l=t.title,n=t.height,s=t.memorySum;return o.default.createElement("div",{className:c.default.waterWave,ref:e=>this.root=e,style:{transform:"scale(".concat(e,")")}},o.default.createElement("div",{style:{width:n,height:n,overflow:"hidden"}},o.default.createElement("canvas",{className:c.default.waterWaveCanvasWrapper,ref:e=>this.node=e,width:2*n,height:2*n})),o.default.createElement("div",{className:c.default.text,style:{width:n}},l&&o.default.createElement("span",null,l),a?o.default.createElement("h4",null,a,"%"):o.default.createElement("div",{style:{fontSize:"20px",fontWeight:"bolder"}},s,"MiB")))}},i=r))||i);t.default=u},bLLg:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAAr0lEQVQoU2P8////fwYGBoY79x4ylDV2M/Bwc4O4cPDl61eGrvpSBhUlebAYI0zDui27GUB6g33dUDSs3byLgZGRkSHIxxVdwy6wQJAPqobzl66BxQ31tCAaDh49BXbS0VPnwALWZkYoNqBzGJ0C4v9HBnnjVQSTXL5uKwNjdHrJ/yUzuonSEJNRSiUNambuDLdO7cSwFacNtNeAKwTI87SxU9B/LXUVooL12s07DAAEf2F6q3srMgAAAABJRU5ErkJggg=="},bZuF:function(e,t,a){e.exports={portCard:"portCard___3VECH",removePort:"removePort___1WODx",ulStyle:"ulStyle___hFosZ"}},baTW:function(e,t,a){e.exports={ModalStyle:"ModalStyle___umiTf",iconShow:"iconShow___v7DJM",outerLayer:"outerLayer___5Jj4F",emptyStyle:"emptyStyle___dtkEQ",goBack:"goBack___n5WTm",path:"path___1kFBp",footerBtnGroup:"footerBtnGroup___1Mp8z",leftBtns:"leftBtns___-5xZP",rightBtns:"rightBtns___1cQb3"}},ctOv:function(e,t,a){e.exports={nameID:"nameID___2Ease",icon:"icon___16vqz",iconm:"iconm___3OCSr",nowarpText:"nowarpText___2zPhp",logModal:"logModal___2hns0",logsss:"logsss___2uJ-X",logpassed:"logpassed___3Q8Va",logfailed:"logfailed___2U4bI",logfored:"logfored___2pTsm",logcanceled:"logcanceled___3aDnB",loginfo:"loginfo___3HoxI",nodeBox:"nodeBox___2n2e2",text:"text___WagKL",imgs:"imgs____CG40",boxImg:"boxImg___2RBrV",button:"button___1AoUM",active:"active___30tgj",passeda:"passeda___1lCaR",faileda:"faileda___2TFCf",canceleda:"canceleda___1_-JY",alcen:"alcen___Ftyib",passed:"passed___AkHXr",failed:"failed___3N0Cr",canceled:"canceled___30_w8",rowLi:"rowLi___2fdpu",prRow:"prRow___3mS-7",statusIcon:"statusIcon___2OuhP",labelAlign:"labelAlign___2v_lc",rowMessage:"rowMessage___2v7P0",buildHistoryBox:"buildHistoryBox___23GlQ",buildHistoryList:"buildHistoryList___3wkx5",lineone:"lineone___2s7Q1",linetwo:"linetwo___3ZRYg",linestree:"linestree___2v1xj",linefour:"linefour___18sMg",rowRtem:"rowRtem___2CLXc",rowDuration:"rowDuration___3m3A3",buildInfo:"buildInfo___247Nr",buildCommitter:"buildCommitter___3RTNu",rowBranch:"rowBranch___1vSSh",pageHeaderContent:"pageHeaderContent___V6X2X",avatar:"avatar___3k3k6",content:"content___NdyZA",contentTitle:"contentTitle___9Whj_",extraContent:"extraContent___3S2aN",statItem:"statItem___1UJ2r","ant-btn-group":"ant-btn-group___Vc9n-",activeCard:"activeCard___3P3sd",members:"members___2Kxmw",projectList:"projectList___2fxXZ",projectGrid:"projectGrid___3W5dN",tableList:"tableList___o3-D6",tableListOperator:"tableListOperator___3mQ1m",statuscn:"statuscn___cOVgo",charContent:"charContent___3HE66",statusIconWraper:"statusIconWraper___33C2b",charContentTit:"charContentTit___1snvM",sub:"sub___2UB7R",logs:"logs___2fu0x",pluginList:"pluginList___2d2T6",logItem:"logItem___3fbK8",logItemDate:"logItemDate___3ttZL",date:"date___3fnMt",time:"time___y01ER",logItemMain:"logItemMain___2eLeN",hd:"hd___QCMli",tit:"tit___28KRi",btns:"btns___3TqdD",btn:"btn___1KmIh",codeVersion:"codeVersion___3cHUI",versionInfo:"versionInfo___wSAvf",versionAuthor:"versionAuthor___15hhN",logContent:"logContent___IiqxR",success:"success___vYrFn",fail:"fail___xepGk",iconGroup:"iconGroup___2Stp2",rankingList:"rankingList___64u59",salesExtra:"salesExtra___1keSn",currentDate:"currentDate___3QbSw",salesCard:"salesCard___3Stvx",salesBar:"salesBar___1TUEz",salesRank:"salesRank___IojWE",salesCardExtra:"salesCardExtra___Ci1it",salesTypeRadio:"salesTypeRadio___2IXvR",offlineCard:"offlineCard___3A9CV",trendText:"trendText___5rQ8y",blueant:"blueant___24_K_",blueanimation:"blueanimation___1ROL9",rankingTitle:"rankingTitle___1mEif",salesExtraWrap:"salesExtraWrap___2QfeB"}},dL6S:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var s=l(a("BMrR"));a("IzEo");var i=l(a("bx4M"));a("cWXX");var r=l(a("/ezw"));a("jCWc");var o=l(a("kPKH"));a("5Dmo");var d=l(a("3S7+"));a("y8nQ");var c,u,p,m=l(a("Vl3Y")),h=l(a("ZhIB")),f=n(a("q1tI")),g=l(a("QDog")),v=l(a("wd/R")),y=l(a("2lxJ")),_=l(a("8+Sn")),b=l(a("LrcT")),E=a("LLXN"),w=(c=m.default.create(),c((p=class extends f.PureComponent{constructor(e){super(e),this.handleMore=(e=>{var t=this.props,a=t.handleMore,l=t.onPageChange;a&&l&&(l(1),a(e))}),this.titleCase=(e=>{e=e.toLowerCase();for(var t=e.split(" "),a=0;a<t.length;a++)t[a]=t[a].substring(0,1).toUpperCase()+t[a].substring(1);return t.join(" ")}),this.state={language:"zh-CN"===_.default.get("language")}}componentDidMount(){}render(){var e=this.state.language,t=this.props,a=t.status,l=t.beanData,n=t.more,c=t.resourcesLoading,u=t.memory,p=t.disk,m=t.dataList,_=t.buildSource,w=t.isThird,C=t.method,M=t.showStorageUsed,S=t.storageUsed,k=0!==u||M?(0,h.default)(u).format("0,0"):f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.unlimited"});return f.default.createElement(s.default,null,!w&&a&&Object.keys(a).length>0?f.default.createElement(o.default,{xs:24,xm:24,md:24,lg:24,xl:24},f.default.createElement("div",{className:b.default.buildBox,style:{background:g.default.fetchStateBJColor(a&&a.status)}},f.default.createElement("div",{className:b.default.buildContent},f.default.createElement("div",{className:b.default.buildLeftBox},f.default.createElement("h2",{className:b.default.buildState,style:{color:g.default.fetchStateColor(a&&a.status)}},(a&&e?this.titleCase(a.status_cn):this.titleCase(a.status))||""),f.default.createElement("div",{className:b.default.buildCommitInfo},f.default.createElement("ul",{className:b.default.buildInfo},a&&"undeploy"!==a.status&&"undeploy"!==a.status&&"closed"!==a.status&&f.default.createElement("li",null,f.default.createElement("a",{target:"_blank"},y.default.getSvg("runTime",16,"rbd-content-color-secondary"),f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.run"}),f.default.createElement("span",{style:{color:g.default.getPublicColor("rbd-content-color"),paddingLeft:"20px"}},a&&a.start_time?g.default.fetchTime(Date.parse(new Date)-new Date(a.start_time).getTime()):""))),f.default.createElement("li",null,f.default.createElement("a",null,y.default.getSvg("fenpei",16,"rbd-content-color-secondary"),f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.allocation"}),!c&&f.default.createElement(f.Fragment,null,f.default.createElement(d.default,{title:k},f.default.createElement("span",{style:{color:g.default.getPublicColor("rbd-content-color"),padding:"0 20px",minWidth:"80px"}},k)),(0!==u||M)&&f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.memory"})))),f.default.createElement("li",null,f.default.createElement("a",null,y.default.getSvg("zhanyong",16,"rbd-content-color-secondary"),f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.occupy"}),!c&&f.default.createElement(f.Fragment,null,f.default.createElement(d.default,{title:M?null===S||void 0===S?void 0:S.value:(0,h.default)(p).format("0,0")},f.default.createElement("span",{style:{color:g.default.getPublicColor("rbd-content-color"),padding:"0 20px",minWidth:"80px"}},M?null===S||void 0===S?void 0:S.value:(0,h.default)(p).format("0,0"))),M?null===S||void 0===S?void 0:S.unit:"MB","\xa0",(0,E.formatMessage)({id:"componentOverview.body.tab.overview.disk"}))))))),"vm"==C?f.default.createElement("div",{className:b.default.buildRightBox},f.default.createElement("h2",{className:" ".concat(b.default.en_alcen," ").concat(b.default.buildState," ")},f.default.createElement("span",{className:" ".concat(b.default.en_alcen,"  ")},g.default.fetchSvg("basicInfo"),f.default.createElement("span",{style:{color:g.default.getPublicColor("rbd-title-color")}},"\u865a\u62df\u673a\u955c\u50cf")),f.default.createElement("span",{style:{color:l&&l.vm_image?g.default.getPublicColor("rbd-success-status"):g.default.getPublicColor("rbd-content-color")}},l&&l.vm_image?l.vm_image:f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.not"})))):f.default.createElement("div",{className:b.default.buildRightBox},f.default.createElement("h2",{className:" ".concat(b.default.en_alcen," ").concat(b.default.buildState," ")},f.default.createElement("span",{className:" ".concat(b.default.en_alcen,"  ")},y.default.getSvg("banben",16,"rbd-content-color-secondary"),f.default.createElement("span",{style:{color:g.default.getPublicColor("rbd-content-color-secondary")}},f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.version"}))),f.default.createElement("span",{style:{color:l&&l.build_version?g.default.getPublicColor("rbd-success-status"):g.default.getPublicColor("rbd-content-color")}},l&&l.build_version?l.build_version:f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.not"}))),f.default.createElement("div",{className:b.default.buildCommitInfo},f.default.createElement("ul",{className:b.default.buildInfo},f.default.createElement("li",null,f.default.createElement("a",{target:"_blank"},f.default.createElement("span",{className:" ".concat(b.default.en_alcen,"  ")},y.default.getSvg(_&&"source_code"===_?"code":"package_build"===_?"MD5":"dizhi",16,"rbd-content-color-secondary"),_&&"source_code"===_?f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.codeVersion"}):"package_build"===_?f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.file"}):f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.warehouse.address"})),f.default.createElement(d.default,{title:l&&(l.kind&&"\u6e90\u7801\u6784\u5efa"===l.kind?l.code_version&&"":l.kind&&"\u672c\u5730\u6587\u4ef6"===l.kind?l.code_version:l.image_domain&&l.image_domain)},f.default.createElement("span",{className:b.default.buildText},l?l.kind&&"\u6e90\u7801\u6784\u5efa"===l.kind&&l.code_version&&_&&"source_code"===_?l.code_version.substr(0,8):l.kind&&"\u672c\u5730\u6587\u4ef6"===l.kind&&l.code_version&&_&&"package_build"===_?l.code_version:l.image_domain?l.image_domain:f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.not"}):f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.not"}))))),f.default.createElement("li",null,f.default.createElement("a",{target:"_blank"},f.default.createElement("span",{className:" ".concat(b.default.en_alcen,"  ")},y.default.getSvg(_&&"source_code"===_?"msg":"package_build"===_?"fileName":"jingxiang",16,"rbd-content-color-secondary"),_&&"source_code"===_?f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.submit"}):"package_build"===_?f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.fileName"}):f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.imageName"})),f.default.createElement(d.default,{title:l&&(l.kind&&"\u6e90\u7801\u6784\u5efa"===l.kind?l.code_commit_msg&&l.code_commit_msg:l.kind&&"\u672c\u5730\u6587\u4ef6"===l.kind?l.code_commit_msg&&l.code_commit_msg:l.image_repo&&l.image_repo)},f.default.createElement("span",{className:b.default.buildText},l?l.kind&&"\u6e90\u7801\u6784\u5efa"===l.kind?l.code_commit_msg&&l.code_commit_msg:l.kind&&"\u672c\u5730\u6587\u4ef6"===l.kind?l.code_commit_msg&&l.code_commit_msg:l.image_repo?l.image_repo:f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.not"}):f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.not"}))))),f.default.createElement("li",null,f.default.createElement("a",{target:"_blank"},f.default.createElement("span",{className:" ".concat(b.default.en_alcen,"  ")},y.default.getSvg(_&&"source_code"===_?"fenzhi":"package_build"===_?"upLoad":"jingxiangTga",16,"rbd-content-color-secondary"),_&&"source_code"===_?f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.codeBranch"}):"package_build"===_?f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.uploadTime"}):f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.image"})),f.default.createElement(d.default,{title:l&&(l.kind&&"\u6e90\u7801\u6784\u5efa"===l.kind?l.code_branch&&l.code_branch:l.kind&&"\u672c\u5730\u6587\u4ef6"===l.kind?l.code_branch&&(0,v.default)(l.code_branch).format("YYYY-MM-DD HH:mm:ss"):l.image_tag&&l.image_tag)},f.default.createElement("span",{className:b.default.buildText},l?l.kind&&"\u6e90\u7801\u6784\u5efa"===l.kind?l.code_branch&&l.code_branch:l.kind&&"\u672c\u5730\u6587\u4ef6"===l.kind?l.code_branch&&(0,v.default)(l.code_branch).format("YYYY-MM-DD HH:mm:ss"):l.image_tag?l.image_tag:f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.not"}):f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.not"})))))),f.default.createElement("p",{className:b.default.buildAuthor},m&&m.length>0&&!n?f.default.createElement("a",{onClick:()=>{this.handleMore(!0)}},f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.moreVersion"})):!0===n&&f.default.createElement("a",{onClick:()=>{this.handleMore(!1)}},f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.tab.overview.return"})))))))):!w&&f.default.createElement(i.default,{style:{margin:"0px 12px",height:170},bodyStyle:{padding:"5px 20px 5px"}},f.default.createElement(r.default,{active:!0})))}},u=p))||u),C=w;t.default=C},dhX0:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("14J3");var i=l(a("BMrR"));a("+L6B");var r=l(a("2/Rp"));a("Pwec");var o=l(a("CtXQ"));a("jCWc");var d=l(a("kPKH"));a("fOrg");var c=l(a("+KLJ"));a("/xke");var u=l(a("TeRw"));a("2qtc");var p=l(a("kLXV")),m=l(a("jehZ"));a("5NDa");var h=l(a("5rEg"));a("7Kak");var f=l(a("9yH6"));a("y8nQ");var g,v,y,_,b,E,w,C,M,S=l(a("Vl3Y")),k=a("MuoO"),O=n(a("q1tI")),x=l(a("BBei")),A=l(a("q9KF")),D=l(a("q76B")),F=l(a("cUW5")),N=l(a("rbEa")),T=l(a("puxM")),L=l(a("SgVc")),P=l(a("pkKe")),I=l(a("lpA0")),R=l(a("QDog")),V=l(a("8+Sn")),B=l(a("bZuF")),z=a("LLXN"),H=S.default.Item,q=f.default.Group,U=h.default.TextArea,j=(g=S.default.create(),g((y=class extends O.PureComponent{constructor(e){super(e),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.onOk,l=t.form;l.validateFields({force:!0},(e,t)=>{!e&&a&&a(t)})}),this.handleCancel=(()=>{var e=this.props.onCancel;e&&e()}),this.state={language:"zh-CN"===V.default.get("language")}}render(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}}},a={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},l=this.props.port||{},n=this.state.language,s=n?t:a;return O.default.createElement(p.default,{title:O.default.createElement(z.FormattedMessage,{id:"componentOverview.body.EditAlias.title"}),onOk:this.handleSubmit,maskClosable:!1,visible:!0,onCancel:this.handleCancel},O.default.createElement(S.default,{onSubmit:this.handleSubmit},O.default.createElement(H,(0,m.default)({},s,{label:O.default.createElement(z.FormattedMessage,{id:"componentOverview.body.EditAlias.label_alias"})}),e("alias",{initialValue:l.port_alias,rules:[{required:!0,message:(0,z.formatMessage)({id:"componentOverview.body.EditAlias.label_alias.message"})},{pattern:/^[^\s\u4e00-\u9fa5!@#\$%\^\&\*\(\)_\+\-=\[\]\{\};:'"\\|,<>\?\/`~][^\s\u4e00-\u9fa5]*$/,message:(0,z.formatMessage)({id:"placeholder.portFrom.invalid_format"})},{pattern:/^[A-Z][A-Z0-9_]*$/,message:(0,z.formatMessage)({id:"applicationMarket.HelmForm.invalid_format"})}]})(O.default.createElement(h.default,{placeholder:(0,z.formatMessage)({id:"componentOverview.body.EditAlias.label_alias.message"})}))),O.default.createElement(H,(0,m.default)({},s,{label:O.default.createElement(z.FormattedMessage,{id:"componentOverview.body.EditAlias.label_k8s_service_name"})}),e("k8s_service_name",{initialValue:l.k8s_service_name,rules:[{required:!0,message:(0,z.formatMessage)({id:"componentOverview.body.EditAlias.label_k8s_service_name_message"})},{max:63,message:(0,z.formatMessage)({id:"componentOverview.body.EditAlias.label_k8s_service_name.max"})},{pattern:/^[a-z]([-a-z0-9]*[a-z0-9])?$/,message:(0,z.formatMessage)({id:"componentOverview.body.EditAlias.label_k8s_service_name.pattern"})}]})(O.default.createElement(h.default,{placeholder:(0,z.formatMessage)({id:"componentOverview.body.EditAlias.label_k8s_service_name_message"})})))))}},v=y))||v),K=(_=S.default.create(),_((E=class extends O.PureComponent{constructor(e){super(e),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.onOk,l=t.form;l.validateFields({force:!0},(e,t)=>{!e&&a&&a(t)})}),this.handleCancel=(()=>{var e=this.props.onCancel;e&&e()}),this.state={}}render(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}}};return O.default.createElement(p.default,{title:O.default.createElement(z.FormattedMessage,{id:"componentOverview.body.AddKey.title"}),onOk:this.handleSubmit,visible:!0,onCancel:this.handleCancel},O.default.createElement(S.default,{onSubmit:this.handleSubmit},O.default.createElement(H,(0,m.default)({},t,{label:O.default.createElement(z.FormattedMessage,{id:"componentOverview.body.AddKey.alias"})}),e("alias",{initialValue:"",rules:[{required:!0,message:(0,z.formatMessage)({id:"componentOverview.body.AddKey.required"})},{max:64,message:(0,z.formatMessage)({id:"componentOverview.body.AddKey.max"})}]})(O.default.createElement(h.default,{placeholder:(0,z.formatMessage)({id:"componentOverview.body.AddKey.required"})}))),O.default.createElement(H,(0,m.default)({},t,{label:(0,z.formatMessage)({id:"popover.manage.certificate.label.kind"})}),e("certificate_type",{initialValue:(0,z.formatMessage)({id:"popover.manage.certificate.label.server"}),rules:[{required:!0}]})(O.default.createElement(q,null,O.default.createElement(f.default,{value:(0,z.formatMessage)({id:"popover.manage.certificate.label.server"})},(0,z.formatMessage)({id:"popover.manage.certificate.label.server"}))))),O.default.createElement(H,(0,m.default)({},t,{label:"key"}),e("private_key",{rules:[{required:!0,message:(0,z.formatMessage)({id:"componentOverview.body.AddKey.private_key"})}]})(O.default.createElement(U,{placeholder:(0,z.formatMessage)({id:"componentOverview.body.AddKey.private_key"})}))),O.default.createElement(H,(0,m.default)({},t,{label:O.default.createElement(z.FormattedMessage,{id:"componentOverview.body.AddKey.certificate"})}),e("certificate",{rules:[{required:!0,message:(0,z.formatMessage)({id:"componentOverview.body.AddKey.placeholder"})}]})(O.default.createElement(U,{placeholder:(0,z.formatMessage)({id:"componentOverview.body.AddKey.placeholder"})})))))}},b=E))||b),G=(w=(0,k.connect)(e=>{var t=e.user,a=e.appControl;return{currUser:t.currentUser,ports:a.ports,certificates:a.certificates}},null,null,{withRef:!0}),w((M=class extends O.PureComponent{constructor(e){super(e),this.onCloseInner=(e=>{this.props.dispatch({type:"appControl/closePortInner",payload:{team_name:R.default.getCurrTeamName(),app_alias:this.props.appAlias,port:e},callback:()=>{this.fetchPorts(),(!this.props.appDetail||!this.props.appDetail.is_third)&&u.default.success({message:(0,z.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0)}})}),this.onCloseOuter=(e=>{this.props.dispatch({type:"appControl/closePortOuter",payload:{team_name:R.default.getCurrTeamName(),app_alias:this.props.appAlias,port:e},callback:()=>{this.fetchPorts(),(!this.props.appDetail||!this.props.appDetail.is_third)&&u.default.success({message:(0,z.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0)}})}),this.onCancelAddDomain=(()=>{this.setState({showAddDomain:null})}),this.onAddDomain=(e=>{this.setState({showAddDomain:e})}),this.onCancelAddPort=(()=>{this.setState({showAddPort:!1})}),this.addLicense=(()=>{this.setState({page_size:this.state.page_size+10},()=>{this.fetchCertificates()})}),this.fetchPorts=(()=>{var e=this.props.dispatch;e({type:"appControl/fetchPorts",payload:{team_name:R.default.getCurrTeamName(),app_alias:this.props.appAlias}})}),this.handleSubmitProtocol=((e,t,a)=>{var l=this.props.dispatch;l({type:"appControl/changeProtocol",payload:{team_name:R.default.getCurrTeamName(),app_alias:this.props.appAlias,port:t,protocol:e},callback:()=>{this.fetchPorts(),a()}})}),this.handleDeletePort=(e=>{this.setState({showDeletePort:e})}),this.cancalDeletePort=(()=>{this.setState({showDeletePort:null})}),this.handleSubmitDeletePort=(()=>{this.props.dispatch({type:"appControl/deletePort",payload:{team_name:R.default.getCurrTeamName(),app_alias:this.props.appAlias,port:this.state.showDeletePort},callback:()=>{this.cancalDeletePort(),this.fetchPorts(),(!this.props.appDetail||!this.props.appDetail.is_third)&&u.default.success({message:(0,z.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0)}})}),this.handleDeleteDomain=(e=>{this.setState({showDeleteDomain:e})}),this.cancalDeleteDomain=(()=>{this.setState({showDeleteDomain:null})}),this.handleSubmitDeleteDomain=(()=>{this.props.dispatch({type:"appControl/unbindDomain",payload:{team_name:R.default.getCurrTeamName(),app_alias:this.props.appAlias,port:this.state.showDeleteDomain.port,domain:this.state.showDeleteDomain.domain},callback:()=>{this.cancalDeleteDomain(),this.fetchPorts(),(!this.props.appDetail||!this.props.appDetail.is_third)&&u.default.success({message:(0,z.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0)}})}),this.showAddPort=(()=>{this.setState({showAddPort:!0})}),this.showSubPort=(e=>{this.props.dispatch({type:"appControl/getSubPort",payload:{team_name:R.default.getCurrTeamName(),service_alias:this.props.appAlias,port:e.container_port},callback:t=>{var a=t&&t.list;a&&0==a.length?u.default.info({message:(0,z.formatMessage)({id:"notification.success.cannotModify"})}):this.setState({showSubPort:!0,tcp_ports:a,subPort:e.container_port})}})}),this.handleSubPort=(e=>{var t=e.port.split("||");this.props.dispatch({type:"appControl/SubPort",payload:{team_name:R.default.getCurrTeamName(),service_alias:this.props.appAlias,port:this.state.subPort,lb_mapping_port:t[1],service_id:t[0]},callback:e=>{this.setState({showSubPort:!1}),u.default.success({message:(0,z.formatMessage)({id:"notification.success.edit_port"})}),this.fetchPorts()}})}),this.hideSubPort=(()=>{this.setState({showSubPort:!1})}),this.showSubDomain=(e=>{this.setState({showSubDomain:!0,single_port:e.mapping_port}),this.props.dispatch({type:"appControl/getSubDomain",payload:{team_name:R.default.getCurrTeamName(),service_alias:this.props.appAlias},callback:e=>{e&&this.setState({sld_suffix:e.bean.sld_suffix})}})}),this.hideSubDomain=(()=>{this.setState({showSubDomain:!1})}),this.handleSubDomain=(e=>{var t="".concat(e.domain,".").concat(this.state.sld_suffix);this.props.dispatch({type:"appControl/SubDomain",payload:{team_name:R.default.getCurrTeamName(),service_alias:this.props.appAlias,domain_name:t,container_port:this.state.single_port},callback:e=>{this.setState({sld_suffix:null,showSubDomain:!1}),u.default.success({message:(0,z.formatMessage)({id:"notification.success.secondary"})}),this.fetchPorts()}})}),this.handleAddPort=(e=>{this.props.dispatch({type:"appControl/addPort",payload:{team_name:R.default.getCurrTeamName(),app_alias:this.props.appAlias,protocol:e.protocol,port:e.port},callback:()=>{this.onCancelAddPort(),this.fetchPorts(),(!this.props.appDetail||!this.props.appDetail.is_third)&&u.default.success({message:(0,z.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0)}})}),this.handleCreateKey=(()=>{this.setState({showAddDomain:null,showAddKey:!0})}),this.cancelCreateKey=(()=>{this.setState({showAddKey:!1})}),this.handleSubmitKey=(e=>{this.props.dispatch({type:"appControl/addCertificate",payload:{team_name:R.default.getCurrTeamName(),alias:e.alias,private_key:e.private_key,certificate:e.certificate,certificate_type:e.certificate_type},callback:e=>{u.default.success({message:(0,z.formatMessage)({id:"notification.success.setUp"})}),this.cancelCreateKey(),this.fetchCertificates()}})}),this.handleOpenOuter=(e=>{this.props.dispatch({type:"appControl/openPortOuter",payload:{team_name:R.default.getCurrTeamName(),app_alias:this.props.appAlias,port:e},callback:()=>{this.fetchPorts(),(!this.props.appDetail||!this.props.appDetail.is_third)&&u.default.success({message:(0,z.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0)}})}),this.handleOpenInner=(e=>{this.props.dispatch({type:"appControl/openPortInner",payload:{team_name:R.default.getCurrTeamName(),app_alias:this.props.appAlias,port:e},callback:()=>{this.fetchPorts(),(!this.props.appDetail||!this.props.appDetail.is_third)&&u.default.success({message:(0,z.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0)}})}),this.handleAddDomain=(e=>{"httptohttps"==e.protocol&&(e.rule_extensions=[{key:e.protocol,value:"true"}]);var t=this.props.appDetail,a=this.state.showAddDomain;this.props.dispatch({type:"appControl/bindDomain",payload:{team_name:R.default.getCurrTeamName(),app_alias:this.props.appAlias,port:a.container_port,domain:e.domain,protocol:e.protocol,certificate_id:e.certificate_id,group_id:t.service.group_id,rule_extensions:e.rule_extensions?e.rule_extensions:[]},callback:()=>{u.default.success({message:(0,z.formatMessage)({id:"notification.success.setUp"})}),this.fetchPorts(),this.onCancelAddDomain()}})}),this.showEditAlias=(e=>{this.setState({showEditAlias:e})}),this.hideEditAlias=(()=>{this.setState({showEditAlias:null})}),this.handleEditAlias=(e=>{this.props.dispatch({type:"appControl/editPortAlias",payload:{team_name:R.default.getCurrTeamName(),app_alias:this.props.appAlias,k8s_service_name:e.k8s_service_name,port:this.state.showEditAlias.container_port,port_alias:e.alias},callback:()=>{this.fetchPorts(),this.hideEditAlias(),(!this.props.appDetail||!this.props.appDetail.is_third)&&u.default.success({message:(0,z.formatMessage)({id:"notification.success.operationToUpdate"})}),this.props.onshowRestartTips(!0)}})}),this.handleTroubleshoot=(()=>{this.setState({troubleshootVisible:!0})}),this.handleCancelTroubleshoot=(()=>{this.setState({troubleshootVisible:!1})}),this.state={showDeletePort:null,showDeleteDomain:null,showAddPort:!1,showAddDomain:null,showAddKey:!1,showEditAlias:null,showSubDomain:!1,showSubPort:!1,sld_suffix:"",single_port:null,tcp_ports:[],subPort:"",page:1,page_size:10,isAddLicense:!1,troubleshootVisible:!1}}componentDidMount(){var e=this.props.dispatch;this.fetchPorts(),this.fetchCertificates(),e({type:"region/fetchProtocols",payload:{team_name:R.default.getCurrTeamName(),region_name:R.default.getCurrRegionName()}})}fetchCertificates(){var e=this.props.dispatch,t=this.state,a=t.page,l=t.page_size;e({type:"appControl/fetchCertificates",payload:{page:a,page_size:99999,team_name:R.default.getCurrTeamName()},callback:e=>{if(e&&e.list){var t=e.bean&&e.bean.nums||0,a=!!(t&&t>l);this.setState({isAddLicense:a})}}})}canView(){var e=this.props.componentPermissions.isPort;return e}render(){var e=this.props,t=e.ports,a=e.certificates,l=e.appDetail,n=this.state,u=n.isAddLicense,m=n.troubleshootVisible,h=I.default.isImageApp(l),f=I.default.isDockerfile(l);if(!this.canView())return O.default.createElement(F.default,null);var g=l.service&&"helm"===l.service.component_type;return O.default.createElement(O.Fragment,null,O.default.createElement(i.default,null,O.default.createElement(d.default,{span:15},O.default.createElement(c.default,{showIcon:!0,message:O.default.createElement(O.default.Fragment,null,O.default.createElement(z.FormattedMessage,{id:"componentOverview.body.Port.message"}),O.default.createElement("a",{onClick:this.handleTroubleshoot,style:{fontWeight:"bold"}},O.default.createElement(z.FormattedMessage,{id:"componentOverview.body.Port.troubleshoot"}))),type:"info",style:{marginBottom:24}})),!g&&O.default.createElement(d.default,{span:9,style:{textAlign:"right"}},O.default.createElement(r.default,{onClick:this.showAddPort},O.default.createElement(o.default,{type:"plus"}),O.default.createElement(z.FormattedMessage,{id:"componentOverview.body.Port.add"})))),t.length?O.default.createElement(s.default,null,O.default.createElement(T.default,{sm:700},t.map(e=>O.default.createElement(N.default,{port:e,onDelete:this.handleDeletePort,onEditAlias:this.showEditAlias,onSubmitProtocol:this.handleSubmitProtocol,onOpenInner:this.handleOpenInner,onCloseInner:this.onCloseInner,onOpenOuter:this.handleOpenOuter,onCloseOuter:this.onCloseOuter,onAddDomain:this.onAddDomain,onDeleteDomain:this.handleDeleteDomain,onSubDomain:this.showSubDomain,onSubPort:this.showSubPort})))):O.default.createElement(s.default,null,O.default.createElement("p",{style:{marginTop:100,marginBottom:100,fontSize:20,textAlign:"center"}},O.default.createElement(z.FormattedMessage,{id:"componentOverview.body.Port.msg"}),O.default.createElement("a",{onClick:this.showAddPort,href:"javascript:;"},O.default.createElement(z.FormattedMessage,{id:"componentOverview.body.Port.addMsg"})))),this.state.showDeletePort&&O.default.createElement(D.default,{title:O.default.createElement(z.FormattedMessage,{id:"confirmModal.deldete.port.title"}),desc:O.default.createElement(z.FormattedMessage,{id:"confirmModal.deldete.port.desc"}),subDesc:O.default.createElement(z.FormattedMessage,{id:"confirmModal.deldete.port.subDesc"}),onOk:this.handleSubmitDeletePort,onCancel:this.cancalDeletePort}),this.state.showDeleteDomain&&O.default.createElement(D.default,{title:O.default.createElement(z.FormattedMessage,{id:"confirmModal.deldete.unbound.title"}),desc:O.default.createElement(z.FormattedMessage,{id:"confirmModal.deldete.unbound.desc"}),subDesc:this.state.showDeleteDomain.domain,onOk:this.handleSubmitDeleteDomain,onCancel:this.cancalDeleteDomain}),this.state.showAddPort&&O.default.createElement(A.default,{isImageApp:h,isDockerfile:f,onCancel:this.onCancelAddPort,onOk:this.handleAddPort}),this.state.showAddDomain&&O.default.createElement(x.default,{addLicense:this.addLicense,isAddLicense:u,certificates:a||[],onCreateKey:this.handleCreateKey,onOk:this.handleAddDomain,onCancel:this.onCancelAddDomain}),this.state.showAddKey&&O.default.createElement(K,{onOk:this.handleSubmitKey,onCancel:this.cancelCreateKey}),this.state.showEditAlias&&O.default.createElement(j,{port:this.state.showEditAlias,onOk:this.handleEditAlias,onCancel:this.hideEditAlias}),this.state.showSubDomain&&O.default.createElement(L.default,{sld_suffix:this.state.sld_suffix,onCancel:this.hideSubDomain,onOk:this.handleSubDomain}),this.state.showSubPort&&O.default.createElement(P.default,{postList:this.state.tcp_ports,onCancel:this.hideSubPort,onOk:this.handleSubPort}),m&&O.default.createElement(p.default,{title:(0,z.formatMessage)({id:"componentOverview.body.Port.troubleshoot.title"}),visible:!0,onCancel:this.handleCancelTroubleshoot,footer:[O.default.createElement(r.default,{size:"small",onClick:this.handleCancelTroubleshoot},(0,z.formatMessage)({id:"button.close"}))]},O.default.createElement("ul",{className:B.default.ulStyle},O.default.createElement("li",null,(0,z.formatMessage)({id:"componentOverview.body.Port.troubleshoot.li1"})),O.default.createElement("li",null,(0,z.formatMessage)({id:"componentOverview.body.Port.troubleshoot.li2"})),O.default.createElement("li",null,(0,z.formatMessage)({id:"componentOverview.body.Port.troubleshoot.li3"})),O.default.createElement("li",null,(0,z.formatMessage)({id:"componentOverview.body.Port.troubleshoot.li4"})))))}},C=M))||C);t.default=G},fyL3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAYAAAAmlE46AAACHklEQVQ4T2P8////fwYk8O//f4atuw4wzFu6hkFeVpqhMCMeTKMDRmSNR06cZZg6dymDqaEuQ2pcGMO9B48Z+mcsZFCUk2bITo5mEBEWhOsHa7x87RZD/4wFDDKS4gw5KTEMYqLCKBYcPHqKYdq85QxWZoYMyTEhDDzcXAyMJfWd/z9//spQnpfKoCgvg+EkmMC/f/8YNu3YxzBn8WqGsrxUBkYbr6j/4qJCYKc42lrg1Pjl6zeGSbMWM9x7+JihoSyHgTEhp+J/f0sVQ++0eQzvP3xkqCrMYJCSEEMxYNvugwxzl65hSI4OYfBytQfLgTW21RQxXL52k0FMVIShc+IsBgcbc4akqGCGp89fMrT0TWdQlJNhyE+PA/sNBIpq2yEap/c0MHRPnsvw4tVrhpriLIY9B48xrN28k4GXhwfsAk01JRQXJOZWQjTOn9wOljh/6RrDh4+fGRxtzRmaeqYyxIb5g21DBxgakRXQTqNfdOb/srwUBmszIxQX4bJx76HjDJNmLWJgfPv+w//WvhkMbKysDBX5qQz8fLxgA9A1Pnn2gqG1fwaDmLAQQ1FWIgM8rR44epJh8uwlDGnx4QzujjZwjdIS4gxzl6xmOHziLENFQRqDnpY6JB6REzkodXRPmcvw/v1HBgZGBgZzY32GDdv2MAR4uTBEBnkzMDExoSZy9OA+ff4yQ23bRAY9bXWG8rwUBmEhRK6AqQUAXGTiVB7mEmUAAAAASUVORK5CYII="},gMQw:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s,i=l(a("q1tI")),r=a("yP6+"),o=l(a("RFWI")),d=l(a("iPxP")),c=(n=(0,o.default)(),n(s=class extends i.default.Component{render(){var e=this.props,t=e.height,a=e.forceFit,l=void 0===a||a,n=e.color,s=void 0===n?"#1890FF":n,o=e.data,c=void 0===o?[]:o,u={x:{type:"cat"},y:{min:0}},p=[36,5,30,5],m=["x*y",(e,t)=>({name:e,value:t})],h=t+54;return i.default.createElement("div",{className:d.default.miniChart,style:{height:t}},i.default.createElement("div",{className:d.default.chartContent},i.default.createElement(r.Chart,{scale:u,height:h,forceFit:l,data:c,padding:p},i.default.createElement(r.Tooltip,{showTitle:!1,crosshairs:!1}),i.default.createElement(r.Geom,{type:"interval",position:"x*y",color:s,tooltip:m}))))}})||s);t.default=c},gOyy:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=n(a("kLXV"));a("g9YV");var i=n(a("wCAj"));a("5Dmo");var r=n(a("3S7+"));a("+L6B");var o=n(a("2/Rp")),d=l(a("q1tI")),c=n(a("e6Ls")),u=n(a("QDog")),p=a("7DNP"),m=a("LLXN");class h extends d.PureComponent{render(){var e=this.props,t=e.title,a=e.onOk,l=e.onCancel,n=e.relyComponentList;e.loading;return d.default.createElement(s.default,{width:800,title:t,visible:!0,onOk:a,onCancel:l,className:c.default.TelescopicModal,footer:[d.default.createElement(o.default,{onClick:l},d.default.createElement(m.FormattedMessage,{id:"componentOverview.body.RelyComponentModal.close"})," ")]},d.default.createElement(i.default,{pagination:!1,rowKey:(e,t)=>t,style:{marginBottom:"20px"},columns:[{title:(0,m.formatMessage)({id:"componentOverview.body.RelyComponentModal.volume_name"}),dataIndex:"volume_name",width:"50%",key:"volume_name"},{title:(0,m.formatMessage)({id:"componentOverview.body.RelyComponentModal.service_name"}),dataIndex:"service_name",key:"service_name",width:"50%",render:(e,t)=>d.default.createElement(r.default,{title:e,key:e},d.default.createElement(p.Link,{to:"/team/".concat(u.default.getCurrTeamName(),"/region/").concat(u.default.getCurrRegionName(),"/apps/").concat(u.default.getAppID(),"/overview?type=components&componentID=").concat(t.service_alias,"&tab=overview"),title:e},d.default.createElement("span",null,e)))}],dataSource:n}))}}var f=h;t.default=f},giye:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV")),i=l(a("jehZ"));a("giR+");var r=l(a("fyUT"));a("+L6B");var o=l(a("2/Rp"));a("OaEy");var d=l(a("2fM7"));a("y8nQ");var c,u,p,m=l(a("Vl3Y")),h=a("MuoO"),f=n(a("q1tI")),g=l(a("fyL3")),v=l(a("P5R6")),y=l(a("bLLg")),_=l(a("8+Sn")),b=l(a("ioek")),E=a("LLXN"),w=m.default.Item,C=d.default.Option,M=(c=(0,h.connect)(e=>{var t=e.loading;return{changeScalingRules:t.effects["appControl/changeScalingRules"],addScalingRules:t.effects["appControl/addScalingRules"]}}),c((p=class extends f.PureComponent{constructor(e){super(e),this.handleSubmit=(e=>{e.preventDefault();var t=this.props.onOk;this.props.form.validateFields((e,a)=>{e||t&&t(a)})}),this.setMetric_target_value=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=0;return e&&e.length>0&&e.map(e=>{var n=e.metric_name,s=e.metric_target_value,i=e.metric_target_type;if(t===n)return l=a?i:s,s}),void 0===l?0:l},this.checkContent=((e,t,a)=>{var l=1,n=Number(t);if(n||0===n){if(n<l)return void a(f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.input_min",values:{num:l}}));if(n>65535)return void a(f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.input_max"}))}a()}),this.state={selectMemoryList:[{value:"memoryaverage_value",name:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.memory_usage"})},{value:"memoryutilization",name:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.memory_rate"})},{value:"cpuaverage_value",name:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.usage"})},{value:"cpuutilization",name:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.rate"})}],language:"zh-CN"===_.default.get("language")}}render(){var e=this.props,t=e.isvisable,a=e.onClose,l=e.editRules,n=e.data,c=e.isaddindicators,u=e.memoryList,p=this.props.form,h=p.getFieldDecorator,_=p.getFieldValue,M=this.state,S=M.selectMemoryList,k=M.language,O=n||!1,x=_("minNum")||0,A=_("selectMemory"),D={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:19}}},F={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},N=k?D:F;return f.default.createElement("div",null,f.default.createElement(s.default,{className:b.default.TelescopicModal,title:l?f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.add_indicator"}):f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.flex"}),visible:t,onOk:this.handleSubmit,onCancel:a,footer:[f.default.createElement(o.default,{type:"primary",onClick:this.handleSubmit},f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.determine"}))]},f.default.createElement(m.default,{layout:"horizontal",hideRequiredMark:!0,onSubmit:this.handleSubmit},!c&&f.default.createElement(w,(0,i.default)({className:b.default.clearConform,label:f.default.createElement("div",{className:b.default.clearConformMinTitle},f.default.createElement("img",{src:v.default,alt:""}),f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.minimum_quantity"}),"\xa0:")},N,{style:{textAlign:"left"}}),h("minNum",{initialValue:1,rules:[{pattern:new RegExp(/^[0-9]\d*$/,"g"),message:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.number"})},{required:!0,message:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.placese_input_min"})},{validator:this.checkContent}]})(f.default.createElement(r.default,{style:{width:"100%"},placeholder:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.placese_input_min"})})),f.default.createElement("div",{className:b.default.conformDesc},f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.lower_limit"})," ")),!c&&f.default.createElement(w,(0,i.default)({className:b.default.clearConform,label:f.default.createElement("div",{className:b.default.clearConformMinTitle},f.default.createElement("img",{src:y.default,alt:""}),f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.max"}),"\xa0:")},N,{style:{textAlign:"left"}}),h("maxNum",{initialValue:O?O.max_replicas:1,rules:[{pattern:new RegExp(/^[0-9]\d*$/,"g"),message:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.number"})},{required:!0,message:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.placese_input_max"})},{validator:this.checkContent}]})(f.default.createElement(r.default,{placeholder:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.placese_input_max"}),style:{width:"100%"},min:x})),f.default.createElement("div",{className:b.default.conformDesc},f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.upper_limit"})," ")),f.default.createElement(w,(0,i.default)({className:b.default.clearConform},N,{label:f.default.createElement("div",{className:b.default.clearConformMinTitle},f.default.createElement("img",{src:g.default,alt:""}),f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.index"})," \xa0:"),style:{textAlign:"left"}}),h("selectMemory",{initialValue:c&&u&&u.length>0?u[0].value:"memoryaverage_value",rules:[{required:!0,message:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.select_needs"})}]})(f.default.createElement(d.default,{getPopupContainer:e=>e.parentNode},(c&&u&&u.length>0?u:S).map(e=>{return f.default.createElement(C,{value:e.value,key:e.value},e.name)})))),f.default.createElement(w,(0,i.default)({className:b.default.clearConform,label:f.default.createElement("div",{className:b.default.clearConformMinTitle},f.default.createElement("img",{src:y.default,alt:""}),f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.target_value"}),"\xa0:")},N,{style:{textAlign:"left"}}),h("value",{initialValue:O?O.max_replicas:1,rules:[{pattern:new RegExp(/^[0-9]\d*$/,"g"),message:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.number"})},{required:!0,message:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.number"})},{validator:this.checkContent}]})(f.default.createElement(r.default,{placeholder:(0,E.formatMessage)({id:"componentOverview.body.Expansion.AddScaling.number"}),min:1,max:65535,style:{width:"100%"}})),f.default.createElement("div",{className:b.default.conformDesc},f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.dang"}),"memoryaverage_value"===A||"memoryutilization"===A?f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.Memory"}):"cpu",f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.use"}),"memoryaverage_value"===A||"cpuaverage_value"===A?f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.amount"}):f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.rate_unit"}),f.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Expansion.AddScaling.numberOfInstances"}))))))}},u=p))||u),S=m.default.create()(M),k=S;t.default=k},h99e:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var s,i,r,o=l(a("W9HT")),d=n(a("q1tI")),c=l(a("2lxJ")),u=l(a("QDog")),p=l(a("9Qkj")),m=(l(a("06Sp")),a("MuoO")),h=a("7DNP"),f=l(a("AySi")),g=(l(a("6KVG")),l(a("4kmb"))),v=l(a("6rC9")),y=(s=(0,m.connect)(e=>{var t=e.teamControl,a=e.user;return{currentTeamPermissionsInfo:t.currentTeamPermissionsInfo,currentUser:a.currentUser}}),s((r=class extends d.PureComponent{constructor(e){super(e),this.fetchPipePipeline=(()=>{var e=this.props.dispatch,t=this.props.currentUser.enterprise_id;e({type:"teamControl/fetchPluginUrl",payload:{enterprise_id:t,region_name:u.default.getCurrRegionName()},callback:t=>{t&&t.list&&t.list.map(e=>{"rainbond-vm"==e.name&&this.setState({vm_url:e.urls[0]})}),e({type:"rbdPlugin/fetchPluginList",payload:t.list}),t&&t.bean&&t.bean.need_authz&&this.setState({isNeedAuthz:t.bean.need_authz}),this.setState({showPipeline:t.list})}})}),this.queryComponentDeatil=(()=>{var e=u.default.getCurrTeamName(),t=u.default.getSlidePanelComponentID();t&&this.props.dispatch({type:"appControl/fetchDetail",payload:{team_name:e,app_alias:t,vm_url:this.state.vm_url},callback:e=>{this.setState({currentComponent:e.service,GroupShow:!1})},handleError:e=>{e.status&&404===e.status&&this.props.dispatch(h.routerRedux.push("/team/".concat(u.default.getCurrTeamName(),"/region/").concat(u.default.getCurrRegionName(),"/exception/404")))}})}),this.state={isLoading:!1,type:e.type,pageHeader:{},componentPermissions:{},appPermissions:{},routePermission:{},argetServicesPermission:{},certificatePermission:{}}}componentDidMount(){this.getPermissionInfo(),this.fetchPipePipeline()}componentDidUpdate(e){this.props.componentID===e.componentID&&this.props.type===e.type||this.setState({isLoading:!0,type:this.props.type},()=>{this.getPermissionInfo()})}getPermissionInfo(){var e=this.props,t=(e.componentID,e.type),a=e.currentTeamPermissionsInfo,l={gateway:{titleSvg:c.default.getSvg("gatewaySvg",18)},components:{titleSvg:c.default.getSvg("component",18)}},n={pageHeader:l[t]||{}};"gateway"===t?(n.routePermission=p.default.queryPermissionsInfo(null===a||void 0===a?void 0:a.team,"team_route_manage"),n.argetServicesPermission=p.default.queryPermissionsInfo(null===a||void 0===a?void 0:a.team,"team_target_services"),n.certificatePermission=p.default.queryPermissionsInfo(null===a||void 0===a?void 0:a.team,"team_certificate")):"components"===t&&(this.queryComponentDeatil(),n.componentPermissions=p.default.queryPermissionsInfo(null===a||void 0===a?void 0:a.team,"app_overview","app_".concat(u.default.getAppID()))),this.setState(n,()=>{this.setState({isLoading:!1})})}render(){var e=this.props.isVisible,t=this.state,a=t.type,l=t.pageHeader,n=t.componentPermissions,s=(t.appPermissions,t.routePermission),i=t.argetServicesPermission,r=t.certificatePermission,c=t.isLoading;return d.default.createElement("div",{className:"".concat(v.default.slidePanel," ").concat(e?v.default.visible:v.default.hidden)},c?d.default.createElement(o.default,null):d.default.createElement(d.default.Fragment,null,"components"===a&&d.default.createElement(f.default,{componentID:u.default.getSlidePanelComponentID(),pageHeader:l,permissions:n}),"gateway"===a&&d.default.createElement(g.default,{pageHeader:l,permissions:{routePermission:s,argetServicesPermission:i,certificatePermission:r}})))}},i=r))||i),_=y;t.default=_},hIb5:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var s=l(a("BMrR"));a("lUTK");var i,r,o,d=l(a("BvKs")),c=n(a("q1tI")),u=a("MuoO"),p=a("LLXN"),m=l(a("8N5S")),h=l(a("dhX0")),f=l(a("308x")),g=l(a("Lo2C")),v=l(a("Lu99")),y=(i=(0,u.connect)(e=>{var t=e.user,a=e.appControl,l=e.global,n=e.teamControl,s=e.enterprise,i=e.loading;return{currUser:t.currentUser,appDetail:a.appDetail,pods:a.pods,groups:l.groups,build_upgrade:a.build_upgrade,currentTeam:n.currentTeam,currentRegionName:n.currentRegionName,currentEnterprise:s.currentEnterprise,deleteAppLoading:i.effects["appControl/deleteApp"],reStartLoading:i.effects["appControl/putReStart"],startLoading:i.effects["appControl/putStart"],stopLoading:i.effects["appControl/putStop"],moveGroupLoading:i.effects["appControl/moveGroup"],editNameLoading:i.effects["appControl/editName"],updateRollingLoading:i.effects["appControl/putUpdateRolling"],deployLoading:i.effects["appControl/putUpgrade"],buildInformationLoading:i.effects["appControl/getBuildInformation"],pluginList:n.pluginsList}},null,null,{withRef:!0}),i((o=class extends c.Component{constructor(e){super(e),this.changeMenu=(e=>{this.setState({activeTab:null===e||void 0===e?void 0:e.selectedKeys})}),this.state={activeTab:["mnt"]}}render(){var e=this.props,t=e.appDetail,a=e.permissions,l=e.permissions,n=(l.isRely,l.isStorage,l.isPort,l.isPlugin,l.isSource,l.isOtherSetting,this.state.activeTab),i=t&&t.service&&t.service.extend_method,r=[],o=e=>[{key:"mnt",tab:(0,p.formatMessage)({id:"componentOverview.body.tab.bar.mnt"}),auth:["isStorage"]},{key:"port",tab:(0,p.formatMessage)({id:"componentOverview.body.tab.bar.port"}),auth:["isPort"]},{key:"plugin",tab:(0,p.formatMessage)({id:"componentOverview.body.tab.bar.plugin"}),auth:["isPlugin"],condition:()=>"vm"!==e},{key:"resource",tab:(0,p.formatMessage)({id:"componentOverview.body.tab.bar.resource"}),auth:["isSource"],condition:()=>"vm"!==e},{key:"setting",tab:(0,p.formatMessage)({id:"componentOverview.body.tab.bar.setting"}),auth:["isOtherSetting"]}],u=o(i);u.forEach(e=>{var l=!e.auth||e.auth.some(e=>a[e]);!l||e.condition&&!e.condition(t)||r.push(e)});var y={mnt:m.default,port:h.default,plugin:f.default,resource:g.default,setting:v.default},_=y[n[0]];return c.default.createElement("div",null,c.default.createElement(s.default,null,c.default.createElement(d.default,{onSelect:this.changeMenu,selectedKeys:n,style:{paddingBottom:10,border:0},mode:"horizontal"},r.map(e=>c.default.createElement(d.default.Item,{key:e.key},e.tab)))),_&&c.default.createElement(_,this.props))}},r=o))||r);t.default=y},hJQD:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fOrg");var s=l(a("+KLJ"));a("IzEo");var i=l(a("bx4M"));a("qVdP");var r=l(a("jsC+"));a("lUTK");var o=l(a("BvKs"));a("g9YV");var d=l(a("wCAj"));a("2qtc");var c=l(a("kLXV"));a("5Dmo");var u=l(a("3S7+"));a("+L6B");var p=l(a("2/Rp"));a("/xke");var m,h,f,g=l(a("TeRw")),v=a("MuoO"),y=a("7DNP"),_=n(a("q1tI")),b=(a("P5Jw"),l(a("QDog"))),E=a("+n12"),w=a("LLXN"),C=l(a("YAxI")),M=(m=(0,v.connect)(e=>{var t=e.user,a=e.appControl;e.global;return{visitInfo:a.visitInfo,currUser:t.currentUser}}),m((f=class extends _.PureComponent{constructor(e){super(e),this.getHttpLinks=(e=>{var t=[];if(e.length>0)for(var a=0;a<e.length;a++)t=t.concat(e[a].access_urls||[]);return t}),this.showModal=(()=>{this.setState({showModal:!0})}),this.hiddenModal=(()=>{this.setState({showModal:!1})}),this.fetchVisitInfo=(()=>{if(this.mount){var e=this.props,t=e.app_alias,a=e.dispatch;a({type:"appControl/fetchVisitInfo",payload:{team_name:b.default.getCurrTeamName(),app_alias:t},callback:e=>{e&&200===e.status_code&&this.handleTimers("timer",()=>{this.fetchVisitInfo()},5e3)},handleError:e=>{this.handleError(e),this.handleTimers("timer",()=>{this.fetchVisitInfo()},1e4)}})}}),this.handleError=(e=>{var t=this.state.componentTimers;if(!t)return null;e&&e.data&&e.data.msg_show&&g.default.warning({message:(0,w.formatMessage)({id:"notification.warn.error"}),description:e.data.msg_show})}),this.handleTimers=((e,t,a)=>{var l=this.state.componentTimers;if(!l)return null;this[e]=setTimeout(()=>{t()},a)}),this.closeTimer=(()=>{this.timer&&clearInterval(this.timer)}),this.handleClickLink=(e=>{(0,E.openInNewTab)(e.key)}),this.handleClickLinkTcp=(e=>{(0,E.openInNewTab)("http://".concat(e))}),this.renderNoHttpOuterTitle=(e=>_.default.createElement("div",null,_.default.createElement("span",{style:{marginRight:16}},"\u8bbf\u95ee\u5730\u5740\uff1a",e.access_urls[0]),_.default.createElement("span",null,"\u8bbf\u95ee\u534f\u8bae\uff1a ",e.protocol))),this.renderNoPort=(e=>{var t=this.state.showModal,a=this.props.app_alias;return _.default.createElement(_.Fragment,null,_.default.createElement(u.default,{title:(0,w.formatMessage)({id:"tooltip.visit"}),placement:"topRight"},_.default.createElement(p.default,{type:this.props.btntype,onClick:this.showModal},_.default.createElement(w.FormattedMessage,{id:"componentOverview.header.right.visit"}))),t&&_.default.createElement(c.default,{title:"\u63d0\u793a",visible:!0,onCancel:this.hiddenModal,footer:[_.default.createElement(p.default,{onClick:this.hiddenModal}," \u5173\u95ed ")]},_.default.createElement("div",{style:{textAlign:"center",fontSize:16}},"\u5982\u9700\u8981\u63d0\u4f9b\u8bbf\u95ee\u670d\u52a1, \u8bf7",_.default.createElement(y.Link,{onClick:this.hiddenModal,to:"/team/".concat(b.default.getCurrTeamName(),"/region/").concat(b.default.getCurrRegionName(),"/components/").concat(a,"/port")},"\u914d\u7f6e\u7aef\u53e3"))))}),this.showConnectInfo=(e=>{return _.default.createElement(d.default,{rowKey:(e,t)=>t,className:C.default.tdPadding,bordered:!0,columns:[{title:"\u53d8\u91cf\u540d",dataIndex:"attr_name",key:"attr_name",align:"center"},{title:"\u53d8\u91cf\u503c",dataIndex:"attr_value",key:"attr_value",align:"center"},{title:"\u8bf4\u660e",dataIndex:"name",key:"name",align:"center"}],pagination:!1,dataSource:e,bordered:!1})}),this.renderHttpPort=(e=>{var t=this.state.showModal,a=e,l=this.props.app_alias,n=this.getHttpLinks(a.access_info||{});return 1===n.length?_.default.createElement(u.default,{title:(0,w.formatMessage)({id:"tooltip.visit"})},_.default.createElement(p.default,{type:this.props.btntype,onClick:()=>{(0,E.openInNewTab)(n[0])}},_.default.createElement(w.FormattedMessage,{id:"componentOverview.header.right.visit"}))):0===n.length?_.default.createElement(_.Fragment,null,_.default.createElement(u.default,{title:(0,w.formatMessage)({id:"tooltip.visit"}),placement:"topRight"},_.default.createElement(p.default,{type:this.props.btntype,onClick:this.showModal},_.default.createElement(w.FormattedMessage,{id:"componentOverview.header.right.visit"}))),t&&_.default.createElement(c.default,{title:"\u63d0\u793a",visible:!0,onCancel:this.hiddenModal,footer:[_.default.createElement(p.default,{onClick:this.hiddenModal}," \u5173\u95ed ")]},_.default.createElement("div",{style:{textAlign:"center",fontSize:16}},"http\u534f\u8bae\u7aef\u53e3\u9700\u6253\u5f00\u5916\u90e8\u8bbf\u95ee\u670d\u52a1, \u53bb",_.default.createElement(y.Link,{onClick:this.hiddenModal,to:"/team/".concat(b.default.getCurrTeamName(),"/region/").concat(b.default.getCurrRegionName(),"/components/").concat(l,"/port")},"\u6253\u5f00")))):_.default.createElement(u.default,{title:(0,w.formatMessage)({id:"tooltip.visit"}),placement:"topRight"},_.default.createElement(r.default,{overlay:_.default.createElement(o.default,{onClick:this.handleClickLink},n.map(e=>_.default.createElement(o.default.Item,{key:e},e))),placement:"bottomRight"},_.default.createElement(p.default,{type:this.props.btntype},_.default.createElement("a",{href:n[0],target:"_blank"},_.default.createElement(w.FormattedMessage,{id:"componentOverview.header.right.visit"})))))}),this.renderNofHttpOuter=(e=>{var t=this.state.showModal,a=e,l=this.props.app_alias,n=this.getHttpLinks(a.access_info||{}),s=a.access_info||[],i=(p.default,this.hiddenModal,this.props.currUser.teams[0].region);i.filter(e=>{return e.team_region_name==b.default.getCurrRegionName()});return 1===n.length&&"tcp"==s[0].protocol?_.default.createElement(u.default,{title:(0,w.formatMessage)({id:"tooltip.visit"})},_.default.createElement(p.default,{type:this.props.btntype,onClick:()=>{this.handleClickLinkTcp(n[0])}},_.default.createElement(w.FormattedMessage,{id:"componentOverview.header.right.visit"}))):0===n.length?_.default.createElement(_.Fragment,null,_.default.createElement(u.default,{title:(0,w.formatMessage)({id:"tooltip.visit"}),placement:"topRight"},_.default.createElement(p.default,{type:this.props.btntype,onClick:this.showModal},_.default.createElement(w.FormattedMessage,{id:"componentOverview.header.right.visit"}))),t&&_.default.createElement(c.default,{title:"\u63d0\u793a",visible:!0,onCancel:this.hiddenModal,footer:[_.default.createElement(p.default,{onClick:this.hiddenModal}," \u5173\u95ed ")]},_.default.createElement("div",{style:{textAlign:"center",fontSize:16}},"http\u534f\u8bae\u7aef\u53e3\u9700\u6253\u5f00\u5916\u90e8\u8bbf\u95ee\u670d\u52a1, \u53bb",_.default.createElement(y.Link,{onClick:this.hiddenModal,to:"/team/".concat(b.default.getCurrTeamName(),"/region/").concat(b.default.getCurrRegionName(),"/components/").concat(l,"/port")},"\u6253\u5f00")))):_.default.createElement(u.default,{title:(0,w.formatMessage)({id:"tooltip.visit"}),placement:"topRight"},_.default.createElement(r.default,{overlay:_.default.createElement(o.default,null,n.map(e=>_.default.createElement(o.default.Item,{onClick:()=>this.handleClickLinkTcp(e),key:e},e))),placement:"bottomRight"},_.default.createElement(p.default,{type:this.props.btntype},_.default.createElement("a",{onClick:()=>this.handleClickLinkTcp(n[0]),target:"_blank"},_.default.createElement(w.FormattedMessage,{id:"componentOverview.header.right.visit"})))))}),this.renderNotHttpInner=(e=>{var t=this.state.showModal,a=e,l=(this.props.app_alias,a.access_info||[]),n=_.default.createElement(p.default,{onClick:this.hiddenModal},"\u5173\u95ed"),r=[n];function o(e){return _.default.createElement("div",null,_.default.createElement("span",null,"\u8bbf\u95ee\u534f\u8bae\uff1a",e.protocol))}function d(e,t){var a=e.connect_info||[];return _.default.createElement(i.default,{type:"inner",style:{marginBottom:24},title:o(e)},e.connect_info.length?_.default.createElement(_.Fragment,null,_.default.createElement("table",{style:{width:"100%"}},_.default.createElement("thead",null,_.default.createElement("tr",null,_.default.createElement("th",{style:{width:"33%"}},"\u53d8\u91cf\u540d"),_.default.createElement("th",{style:{width:"33%"}},"\u53d8\u91cf\u503c"),_.default.createElement("th",null,"\u8bf4\u660e"))),_.default.createElement("tbody",null,a.map(e=>_.default.createElement("tr",null,_.default.createElement("td",{width:"150"},e.attr_name),_.default.createElement("td",null,e.attr_value),_.default.createElement("td",null,e.name))),a.length?null:_.default.createElement("tr",null,_.default.createElement("td",{colSpan:"3",style:{textAlign:"center"}},"\u6682\u65e0\u6570\u636e"))))):"-")}return _.default.createElement(_.Fragment,null,_.default.createElement(u.default,{title:(0,w.formatMessage)({id:"tooltip.visit"}),placement:"topRight"},_.default.createElement(p.default,{type:this.props.btntype,onClick:this.showModal},_.default.createElement(w.FormattedMessage,{id:"componentOverview.header.right.visit"}))),t&&_.default.createElement(c.default,{title:"\u8bbf\u95ee\u4fe1\u606f",width:"800px",visible:!0,onCancel:this.hiddenModal,footer:r},_.default.createElement(s.default,{style:{marginBottom:16},message:"\u5176\u4ed6\u7ec4\u4ef6\u4f9d\u8d56\u6b64\u7ec4\u4ef6\u540e\u6765\u8bbf\u95ee",type:"info"})," ",l.map((e,t)=>d(e,t))))}),this.state={showModal:!1,componentTimers:this.props.timers},this.mount=!1}componentDidMount(){this.mount=!0,this.fetchVisitInfo()}componentWillReceiveProps(e){var t=e.timers,a=this.props.timers;t!==a&&this.setState({componentTimers:t},()=>{t?this.fetchVisitInfo():this.closeTimer()})}componentWillUnmount(){this.closeTimer(),this.mount=!1,this.props.dispatch({type:"appControl/clearVisitInfo"})}render(){var e=this.props.visitInfo;return e?"no_port"==e.access_type?this.renderNoPort(e):"http_port"===e.access_type?this.renderHttpPort(e):"not_http_outer"===e.access_type?this.renderNofHttpOuter(e):"not_http_inner"===e.access_type||"http_inner"===e.access_type?this.renderNotHttpInner(e):null:null}},h=f))||h);t.default=M},he1n:function(e,t,a){e.exports={container:"container___3fDyg",header_container:"header_container___1muMT",header_left:"header_left___1YJHE",header_left_title:"header_left_title___2XRnU",header_left_title_icon:"header_left_title_icon___3wk8Q",header_left_title_name:"header_left_title_name___23hGM",header_right:"header_right___17fho",header_right_title:"header_right_title___1WAo2",content_container:"content_container___RsPBe",animatedContainer:"animatedContainer___1OEmf",slideDown:"slideDown___19OgA",exit:"exit___1HWt1",slideUp:"slideUp___3Kesj",add_component_container:"add_component_container___1JUaS",app_detail_container:"app_detail_container___1hoXw",app_detail_container_row:"app_detail_container_row___29giR",app_resource_container:"app_resource_container___3p06I"}},iLo2:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var s=l(a("BMrR"));a("jCWc");var i=l(a("kPKH"));a("+L6B");var r=l(a("2/Rp")),o=l(a("jehZ"));a("y8nQ");var d=l(a("Vl3Y"));a("iQDF");var c,u,p,m,h=l(a("+eQT")),f=a("MuoO"),g=l(a("wd/R")),v=n(a("q1tI")),y=a("LLXN"),_=a("YJCA"),b=l(a("YUe+")),E=l(a("UTiu")),w=h.default.RangePicker,C=(c=(0,f.connect)(e=>{var t=e.user,a=e.appControl,l=e.loading;return{currUser:t.currentUser,appDetail:a.appDetail,baseInfo:a.baseInfo,editLoading:l.effects["monitor/editServiceMonitorFigure"]}}),u=d.default.create(),c(p=u((m=class extends v.PureComponent{constructor(e){super(e),this.disabledDate=(e=>{return e&&e>(0,g.default)().endOf("day")}),this.range=((e,t)=>{for(var a=[],l=e;l<t;l++)a.push(l);return a}),this.queryAll=(()=>{this.setState({isRender:!0},()=>{this.setState({isRender:!1})})}),this.onSortEnd=((e,t)=>{var a=e.oldIndex,l=e.newIndex;t.preventDefault();var n=this.props,s=n.handleSorting,i=n.RangeData,r=void 0===i?[]:i;if(a!==l&&r&&r.length>0){var o=(0,_.arrayMove)(r,a,l),d=[];o.map(e=>{d.push(e.graph_id)}),s(d)}}),this.handleChangeTimes=(e=>{var t="",a="";e&&e.length>1&&(t=(0,g.default)(e[0]).valueOf()/1e3,a=(0,g.default)(e[1]).valueOf()/1e3),this.setState({start:t,end:a},()=>{this.props.handleUpData&&this.props.handleUpData()})}),this.state={start:(new Date).getTime()/1e3-3600,end:(new Date).getTime()/1e3,isLoading:!0,isRender:!1}}shouldComponentUpdate(e,t){if(e.moduleName&&"CustomMonitor"===e.moduleName){if(e.isRender||t.isRender)return!0;if(e.RangeData.length==this.props.RangeData.length)return!1}return!0}render(){var e=this.props,t=e.appDetail,a=e.dispatch,l=e.moduleName,n=e.operation,d=e.onDelete,c=e.onEdit,u=e.upData,p=e.baseInfo,m=e.serviceId,h=void 0===m?"":m,f=e.RangeData,C=void 0===f?[]:f,M=e.appAlias,S=void 0===M?"":M,k=this.state,O=k.start,x=k.end,A=k.isLoading,D=k.isRender,F={moduleName:l,start:O,end:x,dispatch:a,appDetail:t,baseInfo:p,appAlias:S},N=(0,_.SortableElement)(e=>{var t=e.value,a=t.title,l=t.promql,n=t.sequence,s=t.ID;return v.default.createElement("div",{key:s,index:n,className:b.default.RangeChartBox},v.default.createElement(E.default,(0,o.default)({key:s,moduleName:"CustomMonitor",style:{cursor:"all-scroll"}},F,{upData:u,onCancelLoading:this.setState({isLoading:!1}),isLoading:A,serviceId:h,isRender:D,CustomMonitorInfo:t,title:a,type:l,onEdit:c,onDelete:d})))}),T={display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:"16px"},L=(0,_.SortableContainer)(e=>{var t=e.items;return v.default.createElement("div",{style:T},t.map(e=>{return v.default.createElement(N,{style:{zIndex:10},key:e.ID,index:e.sequence,value:e})}))});return v.default.createElement(v.Fragment,null,v.default.createElement(s.default,null,v.default.createElement(i.default,{span:24,className:b.default.customBox},v.default.createElement(w,{separator:v.default.createElement(y.FormattedMessage,{id:"componentOverview.body.tab.monitor.to"}),style:{width:"390px"},disabledDate:this.disabledDate,onChange:e=>{this.handleChangeTimes(e)},defaultValue:[(0,g.default)(new Date((new Date).getTime()-36e5),"HH:mm:ss"),(0,g.default)((0,g.default)(new Date),"HH:mm:ss")],showTime:{hideDisabledOptions:!0},format:"YYYY-MM-DD HH:mm:ss"}),v.default.createElement(r.default,{style:{marginLeft:"5px"},onClick:this.queryAll},v.default.createElement(y.FormattedMessage,{id:"componentOverview.body.tab.monitor.query"})),n)),"ResourceMonitoring"===l?v.default.createElement(s.default,{style:{padding:"-8px"}},C.map((e,t)=>{return v.default.createElement(i.default,{span:12,key:e,style:{padding:(t+1)%2==0?"8px 0px 8px 8px":"8px 8px 8px 0 "}},v.default.createElement(E.default,(0,o.default)({},F,{type:e})))})):"CustomMonitor"===l?v.default.createElement("div",{style:{marginTop:"20px"}},v.default.createElement(L,{axis:"xy",distance:1,style:{zIndex:10},items:C,onSortEnd:this.onSortEnd})):C.map(e=>{return v.default.createElement("div",{style:{marginTop:"20px"}},v.default.createElement(E.default,(0,o.default)({key:e},F,{type:e})))}))}},p=m))||p)||p);t.default=C},iPxP:function(e,t,a){e.exports={miniChart:"miniChart___p9L_4",chartContent:"chartContent___WLgJZ",chartLoading:"chartLoading___GB1oK"}},iXxa:function(e,t,a){e.exports={waterWave:"waterWave___3uXDh",text:"text___3bI7Q",waterWaveCanvasWrapper:"waterWaveCanvasWrapper___3s4kB"}},ioek:function(e,t,a){e.exports={selectItem:"selectItem___2GuvK",conformDesc:"conformDesc___ztJtX",setSelect:"setSelect___2_bNW",clearConform:"clearConform___SiofZ",TelescopicModal:"TelescopicModal___3Jus_",clearConformMinTitle:"clearConformMinTitle___2EO54"}},k3y4:function(e,t,a){e.exports={card:"card___9_WnQ"}},"lfV+":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5Dmo");var n=l(a("3S7+")),s=l(a("q1tI")),i=l(a("vDV7")),r=e=>{var t=e.target,a=e.color,l=void 0===a?"rgb(19, 194, 194)":a,r=e.strokeWidth,o=e.percent;return s.default.createElement("div",{className:i.default.miniProgress},s.default.createElement(n.default,{title:"\u76ee\u6807\u503c: ".concat(t,"%")},s.default.createElement("div",{className:i.default.target,style:{left:t?"".concat(t,"%"):null}},s.default.createElement("span",{style:{backgroundColor:l||null}}),s.default.createElement("span",{style:{backgroundColor:l||null}}))),s.default.createElement("div",{className:i.default.progressWrap},s.default.createElement("div",{className:i.default.progress,style:{backgroundColor:l||null,width:o?"".concat(o,"%"):null,height:r||null}})))},o=r;t.default=o},ll25:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var s=n(a("2/Rp"));a("+BJd");var i=n(a("mr32")),r=l(a("q1tI")),o=i.default.CheckableTag;class d extends r.default.Component{constructor(e){super(e),this.handleSelectAll=(e=>{var t=this.getGroupPerm(e).map(e=>{return e.id}),a=this.props.onChange;t=t.filter(e=>{return-1===this.state.selected.indexOf(e)}),this.setState({selected:this.state.selected.concat(t)},()=>{a&&a(this.state.selected.join(","))})}),this.isInGroup=((e,t)=>{var a=this.props.datas.filter(e=>{return e.group_name===t})[0];return!!a&&(a=(a.perms_info||[]).map(e=>{return e.id}),a.indexOf(e)>-1)}),this.getGroupPerm=(e=>{var t=this.props.datas,a=t.filter(t=>{return t.group_name===e})[0];return a&&a.perms_info||[]}),this.handleUnSelectAll=(e=>{var t=this.state.selected.filter(t=>{return!this.isInGroup(t,e)}),a=this.props.onChange;this.setState({selected:t},()=>{a&&a(this.state.selected.join(","))})}),this.handleChange=((e,t)=>{var a=this.props.onChange,l=e.id;if(t)this.setState({selected:this.state.selected.concat([l])},()=>{a&&a(this.state.selected.join(","))});else{var n=this.state.selected.filter(e=>{return e!==l});this.setState({selected:n},()=>{a&&a(this.state.selected.join(","))})}});var t=this.props.value;this.state={selected:t||[]}}componentDidMount(){var e=this.props.onChange;e&&e(this.state.selected.join(","))}render(){var e=this.props,t=e.datas,a=(e.value,e.onChange,this.props.hides||[]);return r.default.createElement("div",null,t.map(e=>{return a.indexOf(e.group_name)>-1?null:e.perms_info.length?r.default.createElement("dl",null,r.default.createElement("dt",null,!1!==this.props.showGroupName?e.group_name:""," ",r.default.createElement(s.default,{style:{marginLeft:16},size:"small",onClick:()=>{this.handleSelectAll(e.group_name)},style:{marginRight:8}},"\u5168\u9009"),r.default.createElement(s.default,{onClick:()=>{this.handleUnSelectAll(e.group_name)},size:"small"},"\u53d6\u6d88\u5168\u9009")),r.default.createElement("dd",null,e.perms_info.map(e=>{return r.default.createElement(o,{key:e.id,checked:this.state.selected.indexOf(e.id)>-1,onChange:t=>{this.handleChange(e,t)}},e.info)}))):null}))}}var c=d;t.default=c},mKRI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l={isStart(e){return 1===e.plugin_status||!0===e.plugin_status},isStop(e){return 0===e.plugin_status||!e.plugin_status}};t.default=l},nIwP:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(a("jehZ"));a("14J3");var i=l(a("BMrR"));a("qVdP");var r=l(a("jsC+"));a("Pwec");var o=l(a("CtXQ"));a("lUTK");var d=l(a("BvKs"));a("+L6B");var c=l(a("2/Rp"));a("/xke");var u,p,m,h=l(a("TeRw")),f=l(a("p0pE")),g=l(a("QDog")),v=l(a("2U5Y")),y=l(a("q76B")),_=l(a("iLo2")),b=l(a("Pp4N")),E=l(a("ALo4")),w=a("MuoO"),C=n(a("q1tI")),M=l(a("AFhn")),S=a("LLXN"),k=(u=(0,w.connect)(e=>{var t=e.appControl,a=e.loading;return{appDetail:t.appDetail,delServiceMonitorFigureLoading:a.effects["monitor/delServiceMonitorFigure"],addKeyImportLoading:a.effects["monitor/addKeyImport"],delLoading:a.effects["monitor/batchDeleteServiceMonitorFigure"]}}),u((m=class extends C.PureComponent{constructor(e){var t;super(e),t=this,this.onCancelCustomMonitoring=(()=>{this.setState({info:{},isCustomMonitoring:!1})}),this.onEdit=((e,t)=>{e.preventDefault(),this.setState({info:t,isCustomMonitoring:!0})}),this.onDelete=(e=>{this.setState({showDelete:e.graph_id})}),this.handleMonitoryPoint=(e=>{this.setState({isMonitoryPoint:e})}),this.handleCustomMonitoring=(()=>{this.setState({isCustomMonitoring:!0})}),this.fetchServiceMonitorFigure=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=t.props.dispatch,l=t.handleParameter();a({type:"monitor/fetchServiceMonitorFigure",payload:(0,f.default)({},l),callback:a=>{if(a&&200===a.status_code){var l=a.list&&a.list.length>0;t.setState({monitorFigureList:l?a.list:[],isMonitorFigure:!l}),e||t.handleUpData(),t.cancalBatchDelete()}}})},this.fetchKeyImport=(()=>{var e=this.props.dispatch,t=this.handleParameter();e({type:"monitor/fetchKeyImport",payload:(0,f.default)({},t),callback:e=>{e&&200===e.status_code&&this.setState({KeyImportLoading:!1,KeyImportList:e.list})}})}),this.addKeyImport=(e=>{var t=this.props.dispatch,a=this.handleParameter();t({type:"monitor/addKeyImport",payload:(0,f.default)({graph_name:e},a),callback:e=>{e&&200===e.status_code&&(this.fetchServiceMonitorFigure(),this.fetchKeyImport())}})}),this.handleSorting=(e=>{var t=this.props.dispatch,a=this.handleParameter();t({type:"monitor/sortMonitorFigure",payload:(0,f.default)({},a,{graph_ids:e}),callback:e=>{e&&200===e.status_code&&this.fetchServiceMonitorFigure(!1)}})}),this.handleUpData=(()=>{this.setState({isRender:!0},()=>{this.setState({isRender:!1})})}),this.handleSubmit=(e=>{var t=this.props.dispatch,a=this.state.info,l=this.handleParameter();a&&a.graph_id?t({type:"monitor/editServiceMonitorFigure",payload:(0,f.default)({},l,e,{graph_id:a.graph_id,sequence:a.sequence}),callback:e=>{e&&200===e.status_code&&(h.default.success({message:(0,S.formatMessage)({id:"notification.success.save"})}),this.fetchServiceMonitorFigure(!1),this.onCancelCustomMonitoring())}}):t({type:"monitor/addServiceMonitorFigure",payload:(0,f.default)({},l,e),callback:e=>{e&&200===e.status_code&&(h.default.success({message:(0,S.formatMessage)({id:"notification.success.add"})}),this.fetchServiceMonitorFigure(),this.onCancelCustomMonitoring())}})}),this.handleSubmitDelete=(()=>{var e=this.props.dispatch,t=this.state.showDelete,a=this.handleParameter();e({type:"monitor/delServiceMonitorFigure",payload:(0,f.default)({},a,{graph_id:t}),callback:e=>{e&&200===e.status_code&&(h.default.success({message:(0,S.formatMessage)({id:"notification.success.delete"})}),this.fetchServiceMonitorFigure(),this.cancalDelete())}})}),this.fetchServiceMonitor=(()=>{var e=this.props.dispatch,t=this.handleParameter();e({type:"monitor/fetchServiceMonitor",payload:t,callback:e=>{e&&200===e.status_code&&this.setState({isMonitorsLoading:!0,isMonitors:e.list.length>0})}})}),this.handleParameter=(()=>{var e=this.props.appDetail;return{team_name:g.default.getCurrTeamName(),app_alias:e.service.service_alias}}),this.cancalDelete=(()=>{this.setState({showDelete:!1})}),this.handleBatchDelete=(()=>{this.setState({BatchDelete:!0})}),this.cancalBatchDelete=(()=>{this.setState({BatchDelete:!1})}),this.state={isMonitorFigure:!1,monitorFigureList:[],isMonitoryPoint:!1,isCustomMonitoring:!1,showDelete:!1,info:{},KeyImportList:[],BatchDelete:!1,isMonitorsLoading:!1,isMonitors:!1,isRender:!1,KeyImportLoading:!0}}componentDidMount(){this.fetchServiceMonitorFigure(),this.fetchKeyImport(),this.fetchServiceMonitor()}render(){var e=this.props,t=e.appDetail,a=e.delServiceMonitorFigureLoading,l=e.addKeyImportLoading,n=e.delLoading,u=g.default.getCurrTeamName(),p=t.service.service_alias,m=t.service.service_id,h=this.state,f=h.isMonitoryPoint,w=h.isCustomMonitoring,k=h.isMonitorFigure,O=h.monitorFigureList,x=h.showDelete,A=h.info,D=h.KeyImportList,F=h.BatchDelete,N=h.isMonitors,T=h.isRender,L=h.KeyImportLoading,P=h.isMonitorsLoading;return C.default.createElement("div",null,w&&C.default.createElement(b.default,{serviceId:m,teamName:u,appAlias:p,info:A,onOk:this.handleSubmit,onCancel:this.onCancelCustomMonitoring}),!f&&!L&&C.default.createElement(i.default,null,C.default.createElement(_.default,{moduleName:"CustomMonitor",isRender:T,handleUpData:this.handleUpData,upData:this.fetchServiceMonitorFigure,handleSorting:this.handleSorting,onDelete:this.onDelete,onEdit:this.onEdit,appAlias:p,serviceId:m,RangeData:k?[]:O,operation:C.default.createElement("div",{style:{display:"inline-block",width:"calc(100% - 450px)",lineHeight:"40px"}},C.default.createElement(c.default,{style:{marginLeft:"5px"},onClick:this.handleCustomMonitoring},C.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitor.add"})),D&&D.length>0&&C.default.createElement(r.default,{overlay:C.default.createElement(d.default,null,D.map(e=>{return C.default.createElement(d.default.Item,{style:{textAlign:"center"}},C.default.createElement("a",{onClick:()=>{this.addKeyImport(e)}},e))})),trigger:["click"],placement:"bottomCenter",disabled:l},C.default.createElement(c.default,{style:{marginLeft:"5px"}},C.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitor.import"}),C.default.createElement(o.default,{type:"down"}))),O&&O.length>0&&C.default.createElement(c.default,{style:{marginLeft:"5px"},loading:n,onClick:this.handleBatchDelete},C.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitor.delete"})),C.default.createElement(c.default,{style:{float:"right",marginTop:"4px"},onClick:()=>{this.handleMonitoryPoint(!0)}},C.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitor.point"})))})),!f&&!w&&k&&P&&C.default.createElement(E.default,{style:{background:"#fff",marginTop:"10px",padding:"20px"},type:"warning",description:C.default.createElement("div",null,C.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitor.noBusiness"}),C.default.createElement("a",{onClick:()=>{N?this.handleCustomMonitoring():this.handleMonitoryPoint(!0)}},N?C.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitor.add"}):C.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.monitor.CustomMonitor.point"})))}),x&&C.default.createElement(y.default,{loading:a,title:C.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.monitor.title"}),desc:C.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.monitor.desc"}),subDesc:C.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.monitor.subDesc"}),onOk:this.handleSubmitDelete,onCancel:this.cancalDelete}),F&&C.default.createElement(v.default,(0,s.default)({title:C.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.BatchDeleteChart.title"}),loading:n,data:O},this.handleParameter(),{onOk:this.fetchServiceMonitorFigure,onCancel:this.cancalBatchDelete})),f&&C.default.createElement(M.default,(0,s.default)({},this.props,{onCancel:()=>{this.fetchServiceMonitorFigure(),this.handleMonitoryPoint(!1)}})))}},p=m))||p);t.default=k},oRox:function(e,t,a){e.exports={desc:"desc___1rVmb"}},"ot6+":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("/zsF");var i=l(a("PArb"));a("5NDa");var r=l(a("5rEg"));a("BoS7");var o=l(a("Sdc0"));a("5Dmo");var d=l(a("3S7+"));a("Pwec");var c=l(a("CtXQ"));a("+L6B");var u=l(a("2/Rp"));a("/xke");var p=l(a("TeRw"));a("Znn+");var m=l(a("ZTPi"));a("y8nQ");var h,f,g,v,y=l(a("Vl3Y")),_=a("MuoO"),b=n(a("q1tI")),E=a("LLXN"),w=a("P5Jw"),C=l(a("+kNj")),M=l(a("QDog")),S=l(a("mWxT")),k=C.default.Description,O=y.default.Item,x=m.default.TabPane,A=(h=(0,_.connect)(e=>{var t=e.global;return{rainbondInfo:t.rainbondInfo}},null,null,{withRef:!0}),f=y.default.create(),h(g=f((v=class extends b.PureComponent{constructor(e){super(e),this.getInfo=(()=>{var e=this.state,t=e.status,a=e.deployment_way,l=e.tabLoading,n=e.setTabActiveKey;this.props.dispatch({type:"appControl/getAutoDeployStatus",payload:{team_name:M.default.getCurrTeamName(),app_alias:this.props.app.service.service_alias,deployment_way:a},callback:e=>{if(e){var a=t,s=l,i=n||(1==e.bean.support_type?0:2==e.bean.support_type?1:2);a.splice(i,1,e.bean.status||!1),s.splice(i,1,e.bean.status||!1),this.setState({display:e.bean.display,status:a,tabLoading:s,url:e.bean.url,secret_key:e.bean.secret_key,support_type:e.bean.support_type,tabActiveKey:i,deploy_keyword:e.bean.deploy_keyword,deploy_mirror:e.bean.trigger,isKeyword:e.bean.deploy_keyword})}}})}),this.handleCancel=(()=>{this.props.dispatch({type:"appControl/cancelAutoDeploy",payload:{team_name:M.default.getCurrTeamName(),app_alias:this.props.app.service.service_alias,deployment_way:this.state.deployment_way},callback:()=>{this.getInfo("cancel")}})}),this.handleOpen=(()=>{this.props.dispatch({type:"appControl/openAutoDeploy",payload:{team_name:M.default.getCurrTeamName(),app_alias:this.props.app.service.service_alias,deployment_way:this.state.deployment_way},callback:()=>{this.getInfo()}})}),this.handleScretSubmit=(()=>{this.props.form.validateFields(["secret_key"],e=>{if(!e){var t=this.props.form.getFieldValue("secret_key");this.props.dispatch({type:"appControl/putAutoDeploySecret",payload:{team_name:M.default.getCurrTeamName(),service_alias:this.props.app.service.service_alias,secret_key:t},callback:()=>{p.default.success({message:(0,E.formatMessage)({id:"notification.success.to_update"})})}})}})}),this.handleCommandSubmit=(()=>{var e=this.state.isKeyword;this.props.form.validateFields(["deploy_keyword"],t=>{if(!t){var a=this.props.form.getFieldValue("deploy_keyword");this.props.dispatch({type:"appControl/putAutoDeployCommand",payload:{team_name:M.default.getCurrTeamName(),service_alias:this.props.app.service.service_alias,keyword:e?a:""},callback:e=>{e&&200===e.status_code&&(p.default.success({message:(0,E.formatMessage)({id:"notification.success.to_update"})}),this.setState({deploy_keyword:e.bean.deploy_keyword,isKeyword:e.bean.deploy_keyword}))}})}})}),this.handleMirrorSubmit=(()=>{this.props.form.validateFields(["deploy_mirror"],e=>{if(!e){var t=this.props.form.getFieldValue("deploy_mirror");this.props.dispatch({type:"appControl/putMirrorCommand",payload:{team_name:M.default.getCurrTeamName(),service_alias:this.props.app.service.service_alias,trigger:t},callback:e=>{e&&200===e.status_code&&(p.default.success({message:(0,E.formatMessage)({id:"notification.success.to_update"})}),this.setState({deploy_mirror:e.bean.trigger,url:e.bean.url}))}})}})}),this.handleTabs=(e=>{this.setState({setTabActiveKey:e,tabActiveKey:e,deployment_way:0==e?"code_webhooks":1==e?"api_webhooks":"image_webhooks"},()=>{this.getInfo()})}),this.handleKeyword=(e=>{this.setState({isKeyword:e},()=>{e||this.handleCommandSubmit()})}),this.openNewTab=((e,t)=>{var a;"Git-Webhook"===e?a="".concat(t,"docs/use-manual/component-manage/build-source/auto_build/#\u57fa\u4e8e\u6e90\u4ee3\u7801\u64cd\u4f5c\u6d41\u7a0b"):"custom"===e?a="".concat(t,"docs/use-manual/component-manage/build-source/auto_build/#api-\u89e6\u53d1\u81ea\u52a8\u6784\u5efa"):"Webhook"===e&&(a="".concat(t,"docs/use-manual/component-manage/build-source/auto_build/#\u57fa\u4e8e\u955c\u50cf\u4ed3\u5e93\u64cd\u4f5c\u6d41\u7a0b")),window.open(a,"_blank")}),this.state={display:!1,status:[!1,!1,!1],support_type:0,url:"",secret_key:"",tabActiveKey:0,setTabActiveKey:!1,deployment_way:this.props.service_source==="".concat((0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.image"}))||"DockerRun"===this.props.service_source||"DockerCompose"===this.props.service_source?"api_webhooks":"code_webhooks",tabLoading:[!1,!1,!1],service_source:this.props.service_source,deploy_keyword:"",deploy_mirror:"",isKeyword:!1}}componentDidMount(){this.getInfo()}shouldComponentUpdate(){return!0}render(){if(!this.state.display)return null;var e=this.props.form.getFieldDecorator,t=this.props.rainbondInfo,a=this.state,l=a.tabActiveKey,n=a.status,h=a.tabLoading,f=a.support_type,g=a.url,v=a.service_source,_=a.isKeyword,M=g.replace("http://127.0.0.1:5000","".concat(window.location.protocol,"//").concat(window.location.host)),A=()=>b.default.createElement("svg",{viewBox:"0 0 30 50",version:"1.1",width:"20px",height:"20px"},b.default.createElement("path",{style:{fill:"#03A9F4"},d:"M 40 20 C 40.390625 18.265625 39.90625 16.21875 37.5 14 C 33.585938 17.542969 34.703125 21.226563 36 23 C 36 23 35.835938 24 32 24 C 28.164063 24 2 24 2 24 C 2 24 0.167969 40 18 40 C 33.59375 40 37.972656 27.996094 38.828125 24.925781 C 39.183594 24.972656 39.578125 25.003906 40 25 C 42.148438 24.984375 44.929688 23.828125 46 19.515625 C 43.160156 18.53125 41.339844 18.976563 40 20 Z "}),b.default.createElement("path",{style:{fill:"#0288D1"},d:"M 2.164063 28 C 2.898438 32.738281 5.984375 40 18 40 C 30.183594 40 35.523438 32.671875 37.683594 28 Z "}),b.default.createElement("path",{style:{fill:"#81D4FA"},d:"M 19.8125 39.9375 C 18.890625 39.617188 14.738281 38.847656 14 33 C 9.789063 34.863281 6.0625 34.375 4.421875 34.007813 C 6.582031 37.238281 10.589844 40 18 40 C 18.621094 40 19.222656 39.976563 19.8125 39.9375 Z "}),b.default.createElement("path",{style:{fill:"#FFFFFF"},d:"M 20 32 C 20 33.105469 19.105469 34 18 34 C 16.894531 34 16 33.105469 16 32 C 16 30.894531 16.894531 30 18 30 C 19.105469 30 20 30.894531 20 32 Z "}),b.default.createElement("path",{style:{fill:"#37474F"},d:"M 14.914063 33.597656 C 15.136719 34.101563 14.933594 34.757813 14.402344 34.914063 C 11.101563 35.886719 8.257813 36.015625 6.105469 36.015625 C 5.464844 35.398438 4.914063 34.738281 4.449219 34.054688 C 7.035156 34.054688 11.160156 33.933594 13.59375 33.089844 C 14.117188 32.90625 14.691406 33.089844 14.914063 33.597656 Z M 2 27 C 2 27 3.875 27.125 5 26 C 6.875 27.6875 10.941406 27.089844 12 26 C 13.0625 27.6875 18.9375 27.375 20 26 C 21.25 27.4375 26.625 27.75 28 26 C 28.480469 27.460938 34.820313 27.875 36 26 C 37.0625 27.089844 41.0625 27.9375 43.3125 26 C 43.875 27.1875 46 27 46 27 L 46 28 L 2 28 M 17 32 C 17 32.550781 17.449219 33 18 33 C 18.550781 33 19 32.550781 19 32 C 19 31.449219 18.550781 31 18 31 C 17.449219 31 17 31.449219 17 32 Z "}),b.default.createElement("path",{style:{fill:"#01579B"},d:"M 11 24 L 6 24 L 6 19 L 11 19 Z M 21 19 L 16 19 L 16 24 L 21 24 Z M 31 19 L 26 19 L 26 24 L 31 24 Z M 16 14 L 11 14 L 11 19 L 16 19 Z M 26 14 L 21 14 L 21 19 L 26 19 Z "}),b.default.createElement("path",{style:{fill:"#0288D1"},d:"M 16 24 L 11 24 L 11 19 L 16 19 Z M 26 19 L 21 19 L 21 24 L 26 24 Z M 26 9 L 21 9 L 21 14 L 26 14 Z M 21 14 L 16 14 L 16 19 L 21 19 Z "})),D=S.default.documentPlatform_url(t);return b.default.createElement(s.default,{style:{marginBottom:24},title:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.automatic"}),extra:b.default.createElement("div",null,!1===n[l]?b.default.createElement(u.default,{onClick:this.handleOpen,icon:"check-circle"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.open"})):b.default.createElement(u.default,{onClick:this.handleCancel,icon:"close-circle"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.close"})))},b.default.createElement(m.default,{onChange:e=>{this.handleTabs(e)}},1===f&&v=="".concat((0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.Source_code"}))&&b.default.createElement(x,{tab:b.default.createElement("span",null,b.default.createElement(c.default,{type:"github"}),"Git-Webhook",b.default.createElement(d.default,{title:D&&b.default.createElement("a",{href:"".concat(D,"docs/use-manual/component-manage/build-source/auto_build/#\u57fa\u4e8e\u6e90\u4ee3\u7801\u64cd\u4f5c\u6d41\u7a0b"),target:"_blank",style:{color:"#fff"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.read"}))||""}," ",b.default.createElement(c.default,{type:"question-circle-o",onClick:()=>this.openNewTab("Git-Webhook",D)}))),key:"0"},h[0]?b.default.createElement("div",null,b.default.createElement(C.default,{size:"small",style:{borderLeft:"10px solid #38AA56",paddingLeft:"10px",marginBottom:16},title:"",col:"1"},b.default.createElement(k,{term:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.Support_type"})},b.default.createElement("div",{style:{marginLeft:"38px"}},"Gitlab,Github,Gitee,Gogs,Coding")),b.default.createElement(k,{term:"Webhook"},b.default.createElement("div",{style:{marginLeft:"32px"}},b.default.createElement("a",null,M," "),b.default.createElement(w.CopyToClipboard,{text:M,onCopy:()=>{p.default.success({message:(0,E.formatMessage)({id:"notification.success.copy"})})}},b.default.createElement(u.default,{size:"small"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.copy"}))))),b.default.createElement(k,{term:"\u5173\u952e\u5b57\u89e6\u53d1"},b.default.createElement("div",{style:{marginLeft:"28px"}},b.default.createElement(o.default,{onChange:this.handleKeyword,defaultChecked:this.state.deploy_keyword}))),b.default.createElement(k,{term:_&&b.default.createElement(b.default.Fragment,null,b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.keyword"})," ",b.default.createElement("span",{style:{display:"inline-block",paddingRight:"20px"}}))},_&&b.default.createElement("div",{style:{display:"flex"}},b.default.createElement("div",{style:{paddingTop:"10px",margin:"0 15px 0 -30px"}},b.default.createElement(d.default,{title:b.default.createElement("div",null,b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.automatic",values:{deploy_keyword:this.state.deploy_keyword}}))},b.default.createElement(c.default,{type:"question-circle-o"}))),b.default.createElement(y.default,{onSubmit:this.handleCommandSubmit},b.default.createElement(O,null,e("deploy_keyword",{initialValue:this.state.deploy_keyword,rules:[{required:!0,message:(0,E.formatMessage)({id:"componentOverview.body.AutoDeploy.keyword_null"})}]})(b.default.createElement(r.default,{addonBefore:"@",style:{width:300}})),b.default.createElement(u.default,{onClick:()=>{this.handleCommandSubmit()},style:{marginLeft:10},size:"small"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.to_update"})),b.default.createElement("p",null,b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.Note",values:{deploy_keyword:this.state.deploy_keyword}}))))))),b.default.createElement(i.default,{style:{margin:"16px 0"}})):b.default.createElement("div",{style:{textAlign:"center",height:"80px",lineHeight:"80px"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.Not_open"}))),b.default.createElement(x,{tab:b.default.createElement("span",null,b.default.createElement(c.default,{type:"api"}),b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.custom"}),b.default.createElement(d.default,{title:D&&b.default.createElement("a",{href:"".concat(D,"docs/use-manual/component-manage/build-source/auto_build/#api-\u89e6\u53d1\u81ea\u52a8\u6784\u5efa"),target:"_blank",style:{color:"#fff"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.read"}))||""}," ",b.default.createElement(c.default,{type:"question-circle-o",onClick:()=>this.openNewTab("custom",D)}))),key:"1"},h[1]?b.default.createElement("div",null,b.default.createElement(C.default,{size:"small",title:"",style:{borderLeft:"10px solid #38AA56",paddingLeft:"10px",marginBottom:16},col:"1"},b.default.createElement(k,{term:"API"},b.default.createElement("a",null,M," "),b.default.createElement(w.CopyToClipboard,{text:M,onCopy:()=>{p.default.success({message:(0,E.formatMessage)({id:"notification.success.copy"})})}},b.default.createElement(u.default,{size:"small"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.copy"})))),b.default.createElement(k,{style:{display:"flex"},term:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.Secret_key"})},b.default.createElement(y.default,{onSubmit:this.handleScretSubmit},b.default.createElement(O,{style:{marginTop:"-6px"}},e("secret_key",{initialValue:this.state.secret_key||"",rules:[{required:!0,min:8,message:(0,E.formatMessage)({id:"componentOverview.body.AutoDeploy.Secret_key_num"})}]})(b.default.createElement(r.default,{style:{width:300}})),b.default.createElement(u.default,{onClick:this.handleScretSubmit,style:{marginLeft:10},size:"small"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.to_update"}))))))):b.default.createElement("div",{style:{textAlign:"center",height:"80px",lineHeight:"80px"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.Not_open"}))),(v=="".concat((0,E.formatMessage)({id:"componentOverview.body.ChangeBuildSource.image"}))||"DockerCompose"==v||"DockerRun"==v)&&b.default.createElement(x,{tab:b.default.createElement("span",null,b.default.createElement(c.default,{component:A}),b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.Webhook"}),b.default.createElement(d.default,{title:D&&b.default.createElement("a",{href:"".concat(D,"docs/use-manual/component-manage/build-source/auto_build/#\u57fa\u4e8e\u955c\u50cf\u4ed3\u5e93\u64cd\u4f5c\u6d41\u7a0b"),target:"_blank",style:{color:"#fff"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.read"}))}," ",b.default.createElement(c.default,{type:"question-circle-o",onClick:()=>this.openNewTab("Webhook",D)}))),key:"2"},h[2]?b.default.createElement("div",null,b.default.createElement(C.default,{size:"small",title:"",style:{borderLeft:"10px solid #38AA56",paddingLeft:"10px",marginBottom:16},col:"1"},b.default.createElement(k,{term:"Webhook"},b.default.createElement("a",null,M," "),b.default.createElement(w.CopyToClipboard,{text:M,onCopy:()=>{p.default.success({message:(0,E.formatMessage)({id:"notification.success.copy"})})}},b.default.createElement(u.default,{size:"small"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.copy"})))),b.default.createElement(k,{style:{display:"flex"},term:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.tag"})},b.default.createElement("div",{style:{display:"flex"}},b.default.createElement(y.default,{onSubmit:this.handleMirrorSubmit},b.default.createElement(O,null,e("deploy_mirror",{initialValue:this.state.deploy_mirror,rules:[{required:!0,message:(0,E.formatMessage)({id:"componentOverview.body.AutoDeploy.keyword_null"})}]})(b.default.createElement(r.default,{style:{width:300},placeholder:(0,E.formatMessage)({id:"componentOverview.body.AutoDeploy.regular_expression"})})),b.default.createElement(u.default,{onClick:()=>{this.handleMirrorSubmit()},style:{marginLeft:10},size:"small"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.to_update"})),b.default.createElement("p",null,b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.note"})))))))):b.default.createElement("div",{style:{textAlign:"center",height:"80px",lineHeight:"80px"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.AutoDeploy.Not_open"})))))}},g=v))||g)||g);t.default=A},"p3+A":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV")),i=l(a("jehZ"));a("5Dmo");var r=l(a("3S7+"));a("IzEo");var o=l(a("bx4M"));a("g9YV");var d=l(a("wCAj"));a("+L6B");var c=l(a("2/Rp"));a("Pwec");var u=l(a("CtXQ"));a("14J3");var p=l(a("BMrR"));a("jCWc");var m=l(a("kPKH"));a("fOrg");var h=l(a("+KLJ")),f=l(a("p0pE"));a("/xke");var g=l(a("TeRw"));a("y8nQ");var v,y,_,b,E=l(a("Vl3Y")),w=a("MuoO"),C=a("7DNP"),M=n(a("q1tI")),S=a("LLXN"),k=l(a("agpv")),O=l(a("z1Ga")),x=l(a("q76B")),A=l(a("MXRY")),D=l(a("cUW5")),F=l(a("puxM")),N=a("xpXo"),T=l(a("QDog")),L=l(a("YTVB")),P=l(a("k9Lm")),I=(v=(0,w.connect)(e=>{var t=e.user,a=e.appControl,l=e.teamControl;return{currUser:t.currentUser,innerEnvs:a.innerEnvs,startProbe:a.startProbe,runningProbe:a.runningProbe,ports:a.ports,baseInfo:a.baseInfo,appDetail:a.appDetail,teamControl:l,appControl:a,volumes:a.volumes,appBaseInfo:a.baseInfo}},null,null,{withRef:!0}),y=E.default.create(),v(_=y((b=class extends M.default.Component{constructor(e){super(e),this.onDeleteVar=(e=>{this.setState({deleteVar:e})}),this.onCancelDeleteVolume=(()=>{this.setState({toDeleteVolume:null})}),this.onEditVolume=(e=>{this.setState({showAddVars:e,editor:e})}),this.onDeleteMnt=(e=>{this.setState({toDeleteMnt:e})}),this.onDeleteVolume=(e=>{this.props.dispatch({type:"appControl/deleteVolume",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,volume_id:e.ID,force:0},callback:t=>{var a;t&&202===t.status_code&&((null===(a=t.list)||void 0===a?void 0:a.length)>0?this.setState({errorDelete:!0,toDeleteVolumeErr:e,errorList:t.list}):this.setState({toDeleteVolume:e}))}})}),this.onPageChange=((e,t)=>{this.setState({page:e,page_size:t},()=>{this.fetchInnerEnvs()})}),this.onMntPageChange=((e,t)=>{this.setState({mntPage:e,mntpageSize:t},()=>{this.loadMntList()})}),this.onEditVar=(e=>{this.setState({showEditVar:e})}),this.onTransfer=(e=>{this.setState({transfer:e})}),this.cancelEditVar=(()=>{this.setState({showEditVar:null})}),this.handleSearch=(e=>{this.setState({page:1,env_name:e},()=>{this.fetchInnerEnvs()})}),this.fetchInnerEnvs=(()=>{var e=this.state,t=e.page,a=e.page_size,l=e.env_name;this.props.dispatch({type:"appControl/fetchInnerEnvs",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,page:t,page_size:a,env_name:l},callback:e=>{if(e&&200===e.status_code){var t=[];e.list&&e.list.length>0&&e.list.map(e=>{var a=T.default.confirmEnding("".concat(e.attr_name),"PASS");a&&t.push(e.ID)}),this.setState({isAttrNameList:t})}}})}),this.handleAddVar=(()=>{this.setState({showAddVar:!0})}),this.handleCancelAddVar=(()=>{this.setState({showAddVar:!1})}),this.handleSubmitAddVar=(e=>{this.props.dispatch({type:"appControl/addInnerEnvs",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,attr_name:e.attr_name,attr_value:e.attr_value,name:e.name},callback:e=>{e&&200===e.status_code&&(g.default.success({message:(0,S.formatMessage)({id:"notification.success.add"})}),this.fetchInnerEnvs(),this.handleCancelAddVar())}})}),this.cancelDeleteVar=(()=>{this.setState({deleteVar:null})}),this.cancelTransfer=(()=>{this.setState({transfer:null})}),this.handleDeleteVar=(e=>{this.props.dispatch({type:"appControl/deleteEnvs",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,ID:this.state.deleteVar.ID,force:e},callback:e=>{e&&200===e.status_code&&(g.default.success({message:(0,S.formatMessage)({id:"notification.success.delete"})}),this.fetchInnerEnvs()),this.cancelDeleteVar(),this.props.onshowRestartTips(!0)}})}),this.handleOk=(()=>{this.props.dispatch({type:"appControl/deleteVolume",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,volume_id:this.state.toDeleteVolumeErr.ID,force:1},callback:e=>{e&&200===e.status_code&&(this.setState({errorDelete:!1}),g.default.success({message:(0,S.formatMessage)({id:"notification.success.delete"})}),this.onCancelDeleteVolume(),this.fetchVolumes(),this.props.onshowRestartTips(!0))}})}),this.handleTransfer=(()=>{var e=this.state.transfer;this.props.dispatch({type:"appControl/putTransfer",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,ID:e.ID,scope:"inner"==e.scope?"outer":"inner"},callback:e=>{e&&200===e.status_code&&(g.default.success({message:(0,S.formatMessage)({id:"notification.success.transfer"})}),this.fetchInnerEnvs(),this.cancelTransfer())}})}),this.handleEditVar=(e=>{var t=this.state.showEditVar;this.props.dispatch({type:"appControl/editEvns",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,ID:t.ID,attr_value:e.attr_value,name:e.name},callback:e=>{e&&200===e.status_code&&(g.default.success({message:(0,S.formatMessage)({id:"notification.success.edit"})}),this.cancelEditVar(),this.fetchInnerEnvs())}})}),this.fetchVolumes=(()=>{this.props.dispatch({type:"appControl/fetchVolumes",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,is_config:!0}})}),this.fetchBaseInfo=(()=>{var e=this.props.dispatch;e({type:"appControl/fetchBaseInfo",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias}})}),this.loadMntList=(()=>{var e=this.state,t=e.mntpageSize,a=e.mntPage;(0,N.getMnt)({team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,page:a,page_size:t,volume_type:["config-file"]}).then(e=>{e&&this.setState({mntList:e.list||[]})})}),this.handleAddVars=(()=>{this.setState({showAddVars:{new:!0}})}),this.handleCancelAddVars=(()=>{this.setState({showAddVars:null,editor:null})}),this.handleSubmitAddVars=(e=>{var t=this.state.editor;t?this.props.dispatch({type:"appControl/editorVolume",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,new_volume_path:e.volume_path,new_file_content:e.file_content,mode:e.mode,ID:t.ID},callback:e=>{e&&200===e.status_code&&(this.fetchVolumes(),this.handleCancelAddVars(),g.default.success({message:(0,S.formatMessage)({id:"notification.success.edit"})}),this.props.onshowRestartTips(!0))}}):this.props.dispatch({type:"appControl/addVolume",payload:(0,f.default)({team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias},e),callback:e=>{e&&200===e.status_code&&(this.fetchVolumes(),this.handleCancelAddVars(),g.default.success({message:(0,S.formatMessage)({id:"notification.success.add"})}),this.props.onshowRestartTips(!0))}})}),this.showAddRelation=(()=>{this.setState({showAddRelation:!0})}),this.handleCancelAddRelation=(()=>{this.setState({showAddRelation:!1})}),this.handleSubmitAddMnt=(e=>{(0,N.addMnt)({team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,body:e}).then(e=>{e&&(this.handleCancelAddRelation(),this.loadMntList(),g.default.success({message:(0,S.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0))})}),this.handleDeleteVolume=(()=>{this.props.dispatch({type:"appControl/deleteVolume",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,volume_id:this.state.toDeleteVolume.ID},callback:e=>{e&&200===e.status_code&&(g.default.success({message:(0,S.formatMessage)({id:"notification.success.delete"})}),this.onCancelDeleteVolume(),this.fetchVolumes(),this.props.onshowRestartTips(!0))}})}),this.handleDeleteMnt=(()=>{this.props.dispatch({type:"appControl/deleteMnt",payload:{team_name:T.default.getCurrTeamName(),app_alias:this.props.appAlias,dep_vol_id:this.state.toDeleteMnt.dep_vol_id},callback:()=>{this.cancelDeleteMnt(),this.loadMntList(),g.default.success({message:(0,S.formatMessage)({id:"notification.success.succeeded"})}),this.props.onshowRestartTips(!0)}})}),this.cancelDeleteMnt=(()=>{this.setState({toDeleteMnt:null})}),this.AfterPassword=((e,t)=>{var a=T.default.fetchSvg("passwordShow"),l=T.default.fetchSvg("passwordHidden");return M.default.createElement("span",{onClick:()=>{this.handlePassword(e,t)}},e?l:a)}),this.handlePassword=((e,t)=>{var a=this.state.isAttrNameList,l=a;if(e){var n=l.indexOf(t);l.splice(n,1)}else l.push(t);this.setState({isAttrNameList:l})}),this.onLinkComponent=(e=>{var t=this.props.dispatch;t(C.routerRedux.push("/team/".concat(T.default.getCurrTeamName(),"/region/").concat(T.default.getCurrRegionName(),"/apps/").concat(T.default.getAppID(),"/overview?type=components&componentID=").concat(e.service_alias,"&tab=environmentConfiguration")))}),this.state={showAddVar:!1,showEditVar:null,deleteVar:null,page:1,page_size:5,env_name:"",showAddVars:null,showAddRelation:!1,mntList:[],toDeleteMnt:null,toDeleteVolume:null,editor:null,isAttrNameList:[],errorDelete:!1,toDeleteVolumeErr:null,mntpageSize:5,mntPage:1}}componentDidMount(){this.props.dispatch({type:"teamControl/fetchAllPerm"}),this.fetchInnerEnvs(),this.loadMntList(),this.fetchVolumes(),this.fetchBaseInfo()}componentWillUnmount(){var e=this.props.dispatch;e({type:"appControl/clearTags"}),e({type:"appControl/clearPorts"}),e({type:"appControl/clearInnerEnvs"}),e({type:"appControl/clearStartProbe"}),e({type:"appControl/clearRunningProbe"}),e({type:"appControl/clearMembers"})}canView(){var e=this.props.componentPermissions.isEnv;return e}render(){var e;if(!this.canView())return M.default.createElement(D.default,null);var t=this.state,a=t.mntList,l=t.page,n=t.page_size,f=this.props,g=f.baseInfo,v=f.volumes,y={wordBreak:"break-all",wordWrap:"break-word"};return"boolean"!==typeof g.build_upgrade?null:M.default.createElement(M.Fragment,null,M.default.createElement(p.default,null,M.default.createElement(m.default,{span:15},M.default.createElement(h.default,{showIcon:!0,message:M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.env.environmentVariable.message"}),type:"info",style:{marginBottom:24}}))),M.default.createElement(p.default,null,M.default.createElement(A.default,{title:M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.env.environmentVariable.title"}),type:"Inner",appAlias:this.props.appAlias}),M.default.createElement(m.default,{span:16},M.default.createElement(h.default,{showIcon:!0,message:M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.env.setting.message"}),type:"info",style:{marginBottom:24,marginTop:24}}))),M.default.createElement(o.default,{style:{marginBottom:24,borderRadius:5},title:M.default.createElement("span",null," ",M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.env.setting.title"})," "),extra:M.default.createElement(c.default,{onClick:this.handleAddVars},M.default.createElement(u.default,{type:"plus"}),M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.env.setting.add"}))},M.default.createElement(F.default,{sm:650},M.default.createElement(d.default,{pagination:{current:l,pageSize:n,total:Number(v.length),onChange:this.onPageChange,onShowSizeChange:this.onPageChange,showQuickJumper:!0,showSizeChanger:!0,showTotal:e=>"\u5171 ".concat(e," \u6761"),pageSizeOptions:["5","10","20","30"],hideOnSinglePage:Number(v.length)<=5},columns:[{title:(0,S.formatMessage)({id:"componentOverview.body.tab.env.setting.volume_name"}),dataIndex:"volume_name"},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.env.setting.volume_path"}),dataIndex:"volume_path"},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.env.setting.mode"}),dataIndex:"mode"},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.env.setting.action"}),dataIndex:"action",render:(e,t)=>M.default.createElement("div",null,M.default.createElement("a",{onClick:()=>{this.onDeleteVolume(t)},href:"javascript:;"},M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.env.setting.delete"})),M.default.createElement("a",{onClick:()=>{this.onEditVolume(t)},href:"javascript:;"},M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.env.setting.edit"})))}],dataSource:v,rowKey:e=>e.volume_name}))),M.default.createElement(o.default,{title:M.default.createElement("span",null," ",M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.env.file.share"})," "),extra:M.default.createElement(c.default,{onClick:this.showAddRelation},M.default.createElement(u.default,{type:"plus"}),M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.env.file.mount"})),style:{borderRadius:5}},M.default.createElement(F.default,{sm:850},M.default.createElement(d.default,{pagination:{current:this.state.mntPage,pageSize:this.state.mntpageSize,total:Number(a.length),onChange:this.onMntPageChange,onShowSizeChange:this.onMntPageChange,showQuickJumper:!0,showSizeChanger:!0,showTotal:e=>"\u5171 ".concat(e," \u6761"),pageSizeOptions:["5","10","20","30"],hideOnSinglePage:Number(a.length)<=5},rowKey:(e,t)=>t,columns:[{title:(0,S.formatMessage)({id:"componentOverview.body.tab.env.file.localMount"}),dataIndex:"local_vol_path",key:"1",width:"20%",render:e=>M.default.createElement(r.default,{title:e},M.default.createElement("span",{style:y},e))},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.env.file.name"}),dataIndex:"dep_vol_name",key:"2",width:"15%",render:e=>M.default.createElement(r.default,{title:e},M.default.createElement("span",{style:y},e))},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.env.file.path"}),dataIndex:"dep_vol_path",key:"3",width:"20%",render:e=>M.default.createElement(r.default,{title:e},M.default.createElement("span",{style:y},e))},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.env.file.Component"}),dataIndex:"dep_app_name",key:"4",width:"15%",render:(e,t)=>M.default.createElement(C.Link,{to:"/team/".concat(T.default.getCurrTeamName(),"/region/").concat(T.default.getCurrRegionName(),"/components/").concat(t.dep_app_alias,"/environmentConfiguration")},e)},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.env.file.Components"}),dataIndex:"dep_app_group",key:"5",width:"15%",render:(e,t)=>M.default.createElement(C.Link,{to:"/team/".concat(T.default.getCurrTeamName(),"/region/").concat(T.default.getCurrRegionName(),"/apps/").concat(t.dep_group_id,"/overview")},e)},{title:(0,S.formatMessage)({id:"componentOverview.body.tab.env.file.action"}),dataIndex:"action",key:"6",width:"15%",render:(e,t)=>M.default.createElement("a",{onClick:()=>{this.onDeleteMnt(t)},href:"javascript:;"},M.default.createElement(S.FormattedMessage,{id:"componentOverview.body.tab.env.file.cancel"}))}],dataSource:a}))),this.state.showAddVars&&M.default.createElement(k.default,(0,i.default)({appBaseInfo:this.props.appBaseInfo,onCancel:this.handleCancelAddVars,onSubmit:this.handleSubmitAddVars,data:this.state.showAddVars,editor:this.state.editor},this.props)),this.state.showAddRelation&&M.default.createElement(O.default,{appAlias:this.props.appAlias,onCancel:this.handleCancelAddRelation,onSubmit:this.handleSubmitAddMnt,volume_type:["config-file"]}),this.state.toDeleteMnt&&M.default.createElement(x.default,{title:M.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.unmount.title"}),desc:M.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.unmount.desc"}),onCancel:this.cancelDeleteMnt,onOk:this.handleDeleteMnt}),this.state.toDeleteVolume&&M.default.createElement(x.default,{title:M.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.configurationFile.title"}),desc:M.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.configurationFile.desc"}),onCancel:this.onCancelDeleteVolume,onOk:this.handleDeleteVolume}),this.state.showAddVar&&M.default.createElement(L.default,{onCancel:this.handleCancelAddVar,onSubmit:this.handleSubmitAddVar,isShowRestartTips:e=>{this.props.onshowRestartTips(e)}}),this.state.transfer&&M.default.createElement(x.default,{onOk:this.handleTransfer,onCancel:this.cancelTransfer,title:M.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.transfer.title"}),desc:M.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.transfer.desc"}),subDesc:""}),this.state.showEditVar&&M.default.createElement(L.default,{onCancel:this.cancelEditVar,onSubmit:this.handleEditVar,data:this.state.showEditVar,isShowRestartTips:e=>{this.props.onshowRestartTips(e)}}),this.state.deleteVar&&M.default.createElement(x.default,{onOk:this.handleDeleteVar,onCancel:this.cancelDeleteVar,title:M.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.env.title"}),desc:M.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.env.desc"}),subDesc:M.default.createElement(S.FormattedMessage,{id:"confirmModal.deldete.env.subDesc"})}),M.default.createElement(s.default,{title:"\u5220\u9664\u914d\u7f6e\u6587\u4ef6",visible:this.state.errorDelete,onOk:this.handleOk,onCancel:()=>{this.setState({errorDelete:!1})}},M.default.createElement("div",{className:P.default.content},M.default.createElement("div",{className:P.default.inner},M.default.createElement("span",{className:P.default.icon},M.default.createElement(u.default,{type:"exclamation-circle-o"})),M.default.createElement("div",{className:P.default.desc},M.default.createElement("p",null,(0,S.formatMessage)({id:"componentOther.customEnvironmentVariables.title"}))))),M.default.createElement("p",{style:{fontWeight:600}},(0,S.formatMessage)({id:"componentOther.customEnvironmentVariables.name"})),null===(e=this.state.errorList)||void 0===e?void 0:e.map((e,t)=>{return M.default.createElement("p",{style:{color:"#4d73b1",cursor:"pointer"},onClick:()=>this.onLinkComponent(e),key:t},e.service_cname)})))}},_=b))||_)||_);t.default=I},pkKe:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV")),i=l(a("jehZ"));a("/xke");var r=l(a("TeRw"));a("5NDa");var o=l(a("5rEg"));a("OaEy");var d=l(a("2fM7"));a("y8nQ");var c,u,p,m=l(a("Vl3Y")),h=n(a("q1tI")),f=a("LLXN"),g=m.default.Item,v=d.default.Option,y=(o.default.TextArea,c=m.default.create(),c((p=class extends h.PureComponent{constructor(e){super(e),this.handleSubmit=(e=>{e.preventDefault(),this.props.form.validateFields({force:!0},(e,t)=>{if(!e){if("\u8bf7\u9009\u62e9\u7aef\u53e3"==t.port)return void r.default.info({message:(0,f.formatMessage)({id:"notification.hint.selectPort"})});this.props.onOk&&this.props.onOk(t)}})}),this.handleCancel=(()=>{this.props.onCancel&&this.props.onCancel()}),this.state={}}render(){var e=this.props.form,t=e.getFieldDecorator,a=(e.getFieldValue,{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}}}),l=this.props.postList;l[0].lb_mpping_port;return h.default.createElement(s.default,{title:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.SubPort.title"}),onOk:this.handleSubmit,visible:!0,onCancel:this.props.onCancel},h.default.createElement(m.default,{onSubmit:this.handleSubmit},h.default.createElement(g,(0,i.default)({},a,{label:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.SubPort.port"})}),t("port",{initialValue:"".concat((0,f.formatMessage)({id:"componentOverview.body.SubPort.port"})),rules:[{required:!0,message:(0,f.formatMessage)({id:"componentOverview.body.SubPort.port"})}]})(h.default.createElement(d.default,{getPopupContainer:e=>e.parentNode},l.map(e=>{return h.default.createElement(v,{value:e.service_id+"||"+e.lb_mpping_port},e.lb_mpping_port)}))))))}},u=p))||u);t.default=y},pybC:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("q1tI")),i=l(a("iLo2"));class r extends s.PureComponent{render(){var e=this.props.appAlias;return s.default.createElement(s.Fragment,null,s.default.createElement(i.default,{moduleName:"PerformanceAnalysis",RangeData:["responseTime","throughput","numberOnline"],appAlias:e}))}}t.default=r},qPtA:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=n(a("kLXV")),i=n(a("jehZ"));a("+L6B");var r=n(a("2/Rp"));a("y8nQ");var o=n(a("Vl3Y")),d=l(a("q1tI")),c=a("LLXN"),u=n(a("CQXj")),p=o.default.Item;class m extends d.PureComponent{render(){var e=this.props,t=e.title,a=e.onCancel,l=this.props.data||{},n={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return d.default.createElement(s.default,{title:t,visible:!0,onCancel:a,footer:[d.default.createElement(r.default,{onClick:a}," ",d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.close"})," ")]},d.default.createElement(o.default,null,d.default.createElement(p,(0,i.default)({},n,{label:d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.port"})}),d.default.createElement("span",null,u.default.getPort(l))),d.default.createElement(p,(0,i.default)({},n,{label:d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.probe"})}),d.default.createElement("span",null,u.default.getProtocol(l))),"http"===l.scheme?d.default.createElement(d.Fragment,null,d.default.createElement(p,(0,i.default)({},n,{label:d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.http"})}),d.default.createElement("span",null,u.default.getHeaders(l))),d.default.createElement(p,(0,i.default)({},n,{label:d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.path"})}),d.default.createElement("span",null,u.default.getPath(l)))):null,d.default.createElement(p,(0,i.default)({},n,{label:d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.initialization"})}),d.default.createElement("span",null,u.default.getInitWaitTime(l),d.default.createElement("span",{style:{marginLeft:8}},d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.second"})))),d.default.createElement(p,(0,i.default)({},n,{label:d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.time"})}),d.default.createElement("span",null,u.default.getIntervalTime(l),d.default.createElement("span",{style:{marginLeft:8}},d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.second"})))),d.default.createElement(p,(0,i.default)({},n,{label:d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.overtime"})}),d.default.createElement("span",null,u.default.getTimeoutTime(l),d.default.createElement("span",{style:{marginLeft:8}},d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.second"})))),d.default.createElement(p,(0,i.default)({},n,{label:d.default.createElement(c.FormattedMessage,{id:"componentOverview.body.ViewRunHealthCheck.frequency"})}),d.default.createElement("span",null,u.default.getFailTimes(l)))))}}t.default=m},qp7c:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("jehZ")),s=l(a("Y/ft")),i=l(a("q1tI")),r=l(a("XEvq")),o=e=>{var t=e.label,a=e.value,l=(0,s.default)(e,["label","value"]);return i.default.createElement("div",(0,n.default)({className:r.default.field},l),i.default.createElement("span",null,t),i.default.createElement("span",null,a))},d=o;t.default=d},qyk8:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M")),s=l(a("jehZ"));a("T2oS");var i=l(a("W9HT")),r=l(a("Y/ft")),o=l(a("q1tI")),d=l(a("TSYQ")),c=l(a("WDld")),u=e=>{var t=e.loading,a=void 0!==t&&t,l=e.contentHeight,u=e.title,p=e.avatar,m=e.action,h=e.total,f=e.footer,g=e.children,v=(0,r.default)(e,["loading","contentHeight","title","avatar","action","total","footer","children"]),y=o.default.createElement("div",{className:c.default.chartCard},o.default.createElement("div",{className:(0,d.default)(c.default.chartTop,{[c.default.chartTopMargin]:!g&&!f})},o.default.createElement("div",{className:c.default.avatar},p),o.default.createElement("div",{className:c.default.metaWrap},o.default.createElement("div",{className:c.default.meta},o.default.createElement("span",{className:c.default.title},u),o.default.createElement("span",{className:c.default.action},m)),void 0!==h&&o.default.createElement("div",{className:c.default.total,dangerouslySetInnerHTML:{__html:h}}))),g&&o.default.createElement("div",{className:c.default.content,style:{height:l||"auto"}},o.default.createElement("div",{className:l&&c.default.contentFixed},g)),f&&o.default.createElement("div",{className:(0,d.default)(c.default.footer,{[c.default.footerMargin]:!g})},f));return o.default.createElement(n.default,(0,s.default)({bodyStyle:{padding:"20px 24px 8px 24px"}},v),o.default.createElement(i.default,{spinning:a,wrapperClassName:c.default.spin},y))},p=u;t.default=p},"r+uN":function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("g9YV");var i=l(a("wCAj"));a("+BJd");var r=l(a("mr32"));a("5Dmo");var o=l(a("3S7+"));a("Awhp");var d=l(a("KrTs"));a("Pwec");var c=l(a("CtXQ"));a("+L6B");var u=l(a("2/Rp")),p=l(a("jHYr"));a("/xke");var m,h,f,g=l(a("TeRw")),v=n(a("q1tI")),y=a("LLXN"),_=a("MuoO"),b=a("7DNP"),E=(a("RBnf"),l(a("QDog")),l(a("lpA0"))),w=l(a("8tPE")),C=(m=(0,_.connect)(e=>{var t=e.loading;return{batchDeleteLoading:t.effects["appControl/putBatchDelete"]}},null,null,{pure:!1}),m((f=class extends v.PureComponent{constructor(e){super(e),this.handleDeleteResource=(()=>{var e=this.props,t=e.dispatch,a=e.onCancel,l=e.group_id,n=e.team_name,s=e.regionName;t({type:"application/deleteGroupAllResource",payload:{team_name:n,group_id:l},callback:e=>{e&&200===e.status_code&&(g.default.success({message:(0,y.formatMessage)({id:"notification.success.delete"})}),a(),t(b.routerRedux.replace("/team/".concat(n,"/region/").concat(s,"/index"))))}})}),this.handleExpandIcon=(e=>{if(e.record.services_info&&e.record.services_info.length>0||e.record.config_groups&&e.record.config_groups.length>0||e.record.k8s_resources&&e.record.k8s_resources.length>0||e.record.domains&&e.record.domains.length>0||e.record.app_share_records&&e.record.app_share_records.length>0)return e.expanded?v.default.createElement("a",{style:{marginright:"0px"},onClick:t=>{e.onExpand(e.record,t)}},(0,y.formatMessage)({id:"button.fold"})):v.default.createElement("a",{style:{marginRight:"0px"},onClick:t=>{e.onExpand(e.record,t)}},(0,y.formatMessage)({id:"button.more"}))}),this.state={}}render(){var e=this.props,t=e.onCancel,a=(e.onOk,e.infoList),l=e.isflag,n=e.desc,m=e.subDesc,h=e.goBack,f=e.onDelete,g=e.loading;(0,p.default)(this.state);var _=[{dataIndex:"name",key:"name",width:"30%",render:(e,t)=>{if(t.services_info)return v.default.createElement("div",null,t.name,v.default.createElement("span",{className:w.default.tableNameSpan},t.services_info.length));if(t.config_groups)return v.default.createElement("div",null,t.name,v.default.createElement("span",{className:w.default.tableNameSpan},t.config_groups.length));if(t.k8s_resources)return v.default.createElement("div",null,t.name,v.default.createElement("span",{className:w.default.tableNameSpan},t.k8s_resources.length));if(t.domains)return v.default.createElement("div",null,t.name,v.default.createElement("span",{className:w.default.tableNameSpan},t.domains.length));if(t.app_share_records){var a=t.app_share_records.length>0&&t.app_share_records.filter(e=>e.name&&e.name.trim());return v.default.createElement("div",null,t.name,v.default.createElement("span",{className:w.default.tableNameSpan},a.length))}}},{title:"",dataIndex:"",width:"5%",align:"center"}],b=[];return a&&Object.keys(a).map(e=>{"services_info"==e&&a[e].length>0?b.push({name:(0,y.formatMessage)({id:"appOverview.app.delete.table.th.service"}),services_info:a[e]||[]}):"config_groups"==e&&a[e].length>0?b.push({name:(0,y.formatMessage)({id:"appOverview.app.delete.table.th.configGroups"}),config_groups:a[e]||[]}):"k8s_resources"==e&&a[e].length>0?b.push({name:(0,y.formatMessage)({id:"appOverview.app.delete.table.th.k8s"}),k8s_resources:a[e]||[]}):"domains"==e&&a[e].length>0?b.push({name:(0,y.formatMessage)({id:"appOverview.app.delete.table.th.domains"}),domains:a[e]||[]}):"app_share_records"==e&&a[e].length>0&&b.push({name:(0,y.formatMessage)({id:"appOverview.app.delete.table.th.shareRecords"}),app_share_records:a[e]||[]})}),v.default.createElement(s.default,{title:(0,y.formatMessage)({id:"appOverview.app.delete.title"}),bodyStyle:{height:l?"200px":"500px",overflowY:"auto"},visible:!0,width:600,onCancel:t,footer:l?[v.default.createElement(u.default,{onClick:t}," ",v.default.createElement(y.FormattedMessage,{id:"button.cancel"})," "),v.default.createElement(u.default,{onClick:h}," ",(0,y.formatMessage)({id:"button.last_step"})," "),v.default.createElement(u.default,{type:"primary",loading:g,onClick:this.handleDeleteResource},(0,y.formatMessage)({id:"button.confirm"}))]:[v.default.createElement(u.default,{onClick:t}," ",v.default.createElement(y.FormattedMessage,{id:"button.cancel"})," "),v.default.createElement(u.default,{type:"primary",onClick:f},(0,y.formatMessage)({id:"button.delete"}))]},l?v.default.createElement("div",{className:w.default.content},v.default.createElement("div",{className:w.default.inner},v.default.createElement("span",{className:w.default.icon},v.default.createElement(c.default,{type:"exclamation-circle-o"})),v.default.createElement("div",{className:w.default.desc},v.default.createElement("p",null,n),v.default.createElement("p",null,m)))):v.default.createElement(i.default,{dataSource:b,rowKey:(e,t)=>t,showHeader:!1,pagination:!1,expandIconColumnIndex:1,expandIconAsCell:!1,expandIcon:this.handleExpandIcon,expandedRowRender:e=>{return e.services_info&&e.services_info.length>0?v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:w.default.titleDesc},v.default.createElement("div",{className:w.default.componentName},(0,y.formatMessage)({id:"appOverview.app.delete.table.td.serviceName"})),v.default.createElement("div",{className:w.default.storageName},(0,y.formatMessage)({id:"appOverview.app.delete.table.td.storageName"}))),e.services_info.map(e=>{return v.default.createElement("div",{className:w.default.tableBox},v.default.createElement("div",{className:w.default.storageContent},v.default.createElement("div",{className:w.default.serviceName},v.default.createElement("p",{style:{margin:0}},e.status&&v.default.createElement(d.default,{status:E.default.appStatusToBadgeStatus(e.status)}),e.service_name,e.is_related&&v.default.createElement(o.default,{title:(0,y.formatMessage)({id:"appOverview.app.delete.table.td.related"})}," ",v.default.createElement("span",{style:{color:"#8b8b8b"}},"\uff08",(0,y.formatMessage)({id:"appOverview.app.delete.table.td.related"}),"\uff09")))),v.default.createElement("div",{className:w.default.volumeName},e.volume.length>0?e.volume.map(e=>{return v.default.createElement(r.default,{className:w.default.tags,color:"blue"},e)}):"-")))})):e.config_groups&&e.config_groups.length>0?v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:w.default.titleDesc},v.default.createElement("div",{className:w.default.componentName},(0,y.formatMessage)({id:"appOverview.app.delete.table.td.appConfigGroups"}))),v.default.createElement("div",{className:w.default.configGroups},e.config_groups.map(e=>{return v.default.createElement(r.default,{className:w.default.tags,color:"blue"},e)}))):e.k8s_resources&&e.k8s_resources.length>0?v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:w.default.titleDesc},v.default.createElement("div",{className:w.default.componentName},(0,y.formatMessage)({id:"appOverview.app.delete.table.td.k8s"}))),v.default.createElement("div",{className:w.default.k8sResources},e.k8s_resources.map(e=>{return v.default.createElement(r.default,{className:w.default.tags,color:"blue"},e.name,"\uff08",e.type,"\uff09")}))):e.domains&&e.domains.length>0?v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:w.default.titleDesc},v.default.createElement("div",{className:w.default.componentName},(0,y.formatMessage)({id:"appOverview.app.delete.table.td.domain"}))),v.default.createElement("div",{className:w.default.k8sResources},e.domains.map(e=>{return v.default.createElement(r.default,{className:w.default.tags,color:"blue"},e)}))):e.app_share_records&&e.app_share_records.length>0?v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:w.default.titleDesc},v.default.createElement("div",{className:w.default.componentName},(0,y.formatMessage)({id:"appOverview.app.delete.table.td.shareRecords"}))),v.default.createElement("div",{className:w.default.k8sResources},e.app_share_records.map(e=>{return null!=e&&""!=e&&v.default.createElement(r.default,{className:w.default.tags,color:"blue"},e.name,"\uff08",e.version,"\uff09")}))):v.default.createElement(v.default.Fragment,null)},columns:_}))}},h=f))||h);t.default=C},ri62:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("T2oS");var i=l(a("W9HT"));a("g9YV");var r=l(a("wCAj"));a("5NDa");var o=l(a("5rEg"));a("fOrg");var d=l(a("+KLJ"));a("+L6B");var c=l(a("2/Rp"));a("/xke");var u=l(a("TeRw"));a("OaEy");var p=l(a("2fM7"));a("y8nQ");var m,h,f,g,v=l(a("Vl3Y")),y=a("MuoO"),_=n(a("q1tI")),b=a("LLXN"),E=l(a("QDog")),w=v.default.Item,C=p.default.Option,M=(m=v.default.create(),h=(0,y.connect)(e=>{var t=e.loading;return{checkK8sLoading:t.effects["application/setCheckK8sServiceName"],governanceLoading:t.effects["application/setgovernancemode"]}}),m(f=h((g=class extends _.PureComponent{constructor(e){super(e),this.handleGovernanceModelList=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a({type:"application/getGovernancemodeList",payload:{team_name:E.default.getCurrTeamName(),app_id:l},callback:e=>{this.setState({list:e.list,listLoading:!1})},handleError:e=>{}})}),this.setK8sServiceNames=(e=>{var t=this.props,a=t.dispatch,l=t.appID,n=t.onCancel,s=this.state.ServiceNameList,i=[];s.map(t=>{var a=t.service_id,l=t.port_alias,n=t.service_cname,s=t.k8s_service_name,r=t.port,o="".concat(a,"/").concat(l),d="".concat(a,"/").concat(s);o&&d&&i.push({service_cname:n,service_id:a,port:r,port_alias:e[o],k8s_service_name:e[d]})}),a({type:"application/setCheckK8sServiceName",payload:{tenantName:E.default.getCurrTeamName(),group_id:l,arr:i},callback:e=>{e&&200===e.status_code&&(this.handleNotification(),n())}})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props.form,a=this.state,l=a.step;a.isFlag,a.action,a.newFlag;t.validateFields((e,t)=>{e||(l?this.setK8sServiceNames(t):this.handleGovernancemode(t))})}),this.handleGovernancemode=(e=>{var t=this.props,a=t.dispatch,l=t.appID,n=t.onCancel,s=t.onOk,i=this.state.action;a({type:"application/setgovernancemode",payload:{tenantName:E.default.getCurrTeamName(),group_id:l,governance_mode:e.governance_mode,action:i},callback:t=>{t.bean.governance_cr&&"create"==i?this.handleCreateKubernetes(t.bean.governance_cr):t.bean.governance_cr&&"update"==i?this.handleUpdateKubernetes(t.bean.governance_cr):this.handleDeleteKubernetes(),s(),"BUILD_IN_SERVICE_MESH"!==e.governance_mode?this.fetchServiceNameList():(this.handleNotification(),n())}})}),this.handleNotification=(()=>{u.default.success({message:(0,b.formatMessage)({id:"notification.hint.component.change"}),duration:"3"})}),this.fetchServiceNameList=(()=>{var e=this.props,t=e.dispatch,a=e.appID,l=e.onCancel;t({type:"application/fetchServiceNameList",payload:{tenantName:E.default.getCurrTeamName(),group_id:a},callback:e=>{e&&e.bean&&(e.list&&e.list.length>0?this.setState({step:!0,ServiceNameList:e.list}):(this.handleNotification(),l()))}})}),this.checkK8sServiceName=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a({type:"application/checkK8sServiceName",payload:{tenantName:E.default.getCurrTeamName(),group_id:l,service_alias:e.service_alias,k8s_service_name:e.k8s_service_name},callback:e=>{e&&e.bean&&!e.bean.is_valid&&this.setK8sServiceNames()}})}),this.checkServiceName=((e,t,a)=>{var l=this.props,n=l.dispatch,s=l.appID,i=this.stata.ServiceNameList;try{n({type:"application/checkK8sServiceName",payload:{tenantName:E.default.getCurrTeamName(),group_id:s,service_alias:i[0].service_alias,k8s_service_name:i[0].k8s_service_name},callback:e=>{if(!e||!e.bean||e.bean.is_valid)throw new Error((0,b.formatMessage)({id:"placeholder.govern.is_valid"}));a()}})}catch(e){return void a(e)}a()}),this.rowKey=((e,t)=>t),this.handleOnCancel=(()=>{var e=this.props.onCancel;this.state.step&&this.handleNotification(),e()}),this.handleChange=(e=>{var t=this.props;t.dispatch,t.appID,t.mode;this.setState({governName:e}),"BUILD_IN_SERVICE_MESH"==e||"KUBERNETES_NATIVE_SERVICE"==e?this.setState({newFlag:!0},()=>{var e=this.state,t=e.isFlag,a=e.newFlag;t?t==a?this.setState({action:""},()=>{this.getActionValue()}):this.setState({action:"create"},()=>{this.getActionValue()}):t==a?this.setState({action:"update"},()=>{this.getActionValue()}):this.setState({action:"delete"},()=>{this.getActionValue()})}):this.setState({newFlag:!1},()=>{var e=this.state,t=e.isFlag,a=e.newFlag;t?t==a?this.setState({action:"update"},()=>{this.getActionValue()}):this.setState({action:"create"},()=>{this.getActionValue()}):t==a?this.setState({action:"update"},()=>{this.getActionValue()}):this.setState({action:"delete"},()=>{this.getActionValue()})})}),this.getActionValue=(()=>{var e=this.state.action;return e}),this.handleCreateKubernetes=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a({type:"application/createKubernetesVal",payload:{team_name:E.default.getCurrTeamName(),app_id:l,governance_cr:e},callback:e=>{},handleError:e=>{}})}),this.handleUpdateKubernetes=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a({type:"application/updateKubernetesVal",payload:{team_name:E.default.getCurrTeamName(),app_id:l,governance_cr:e},callback:e=>{},handleError:e=>{}})}),this.handleDeleteKubernetes=(()=>{var e=this.props,t=e.dispatch,a=e.appID;t({type:"application/deleteKubernetesVal",payload:{team_name:E.default.getCurrTeamName(),app_id:a},callback:e=>{},handleError:e=>{}})}),this.handleFindDesc=(e=>{var t=this.state.list;return _.default.createElement("div",{style:{marginTop:"10px"}},t.map(t=>{return t.name==e?t.description:""}))}),this.blurInput=((e,t)=>{var a=this.state.ServiceNameList,l=[];a.map((a,n)=>{a.service_id==t?(a.k8s_service_name=e.target.value,l.push(a)):l.push(a)}),this.setState({ServiceNameList:l})}),this.state={step:!1,ServiceNameList:[],btnConfig:!1,list:[],governName:this.props.mode||"",isFlag:"KUBERNETES_NATIVE_SERVICE"==this.props.mode||"BUILD_IN_SERVICE_MESH"==this.props.mode,action:"",newFlag:!1,listLoading:!0}}componentDidMount(){this.handleGovernanceModelList()}render(){var e=this.props,t=e.loading,a=void 0!==t&&t,l=(e.onCancel,e.form),n=e.checkK8sLoading,u=e.governanceLoading,m=e.mode,h=this.state,f=h.step,g=h.ServiceNameList,y=h.btnConfig,M=h.list,S=(h.action,h.governName),k=h.listLoading,O=l.getFieldDecorator;l.getFieldValue;return _.default.createElement(s.default,{title:(0,b.formatMessage)({id:"confirmModal.app.govern.title"}),visible:!0,confirmLoading:a||n||u,onOk:this.handleSubmit,onCancel:this.handleOnCancel,width:800,footer:[_.default.createElement(c.default,{onClick:this.handleOnCancel},(0,b.formatMessage)({id:"popover.cancel"})),_.default.createElement(c.default,{type:"primary",disabled:y,loading:a||n||u,onClick:this.handleSubmit},(0,b.formatMessage)({id:"popover.confirm"}))]},_.default.createElement(d.default,{style:{marginBottom:"20px"},message:(0,b.formatMessage)({id:"confirmModal.app.govern.alert.msg"}),type:"info",showIcon:!0}),_.default.createElement(v.default,{onSubmit:this.handleSubmit},f?_.default.createElement(r.default,{size:"middle",rowKey:this.rowKey,pagination:!1,dataSource:g||[],columns:[{title:(0,b.formatMessage)({id:"confirmModal.app.govern.label.name_port"}),dataIndex:"service_alias",width:200,render:(e,t)=>_.default.createElement("div",null,t.service_cname,"/",t.port)},{title:(0,b.formatMessage)({id:"confirmModal.app.govern.label.alias"}),dataIndex:"port_alias",width:200,render:(e,t)=>_.default.createElement(w,{style:{marginBottom:0}},O("".concat(t.service_id,"/").concat(t.port_alias),{initialValue:e||"",rules:[{required:!0,message:(0,b.formatMessage)({id:"placeholder.copy.not_null"})}]})(_.default.createElement(o.default,{size:"small"})))},{title:(0,b.formatMessage)({id:"confirmModal.app.govern.label.DNS"}),dataIndex:"k8s_service_name",width:200,render:(e,t)=>_.default.createElement(w,{style:{marginBottom:0}},O("".concat(t.service_id,"/").concat(t.k8s_service_name),{initialValue:e||"",rules:[{required:!0,message:(0,b.formatMessage)({id:"placeholder.copy.not_null"})},{max:63,message:(0,b.formatMessage)({id:"placeholder.max63"})},{pattern:/^[a-z]([-a-z0-9]*[a-z0-9])?$/,message:(0,b.formatMessage)({id:"placeholder.k8s_service_name.msg"})}]})(_.default.createElement(o.default,{size:"small",onBlur:e=>{this.blurInput(e,t.service_id)}})))}]}):_.default.createElement(i.default,{spinning:k},_.default.createElement(w,{labelCol:{xs:{span:14},sm:{span:8}},wrapperCol:{xs:{span:14,offset:0},sm:{span:8}},label:(0,b.formatMessage)({id:"confirmModal.app.govern.label.change"})},O("governance_mode",{initialValue:m||"KUBERNETES_NATIVE_SERVICE",rules:[{required:!0,message:(0,b.formatMessage)({id:"placeholder.copy.not_null"})}]})(_.default.createElement(p.default,{style:{width:"357px"},onChange:this.handleChange,getPopupContainer:e=>e.parentNode},M.map(e=>{return _.default.createElement(C,{key:e.name,value:e.name},"BUILD_IN_SERVICE_MESH"===e.name||"KUBERNETES_NATIVE_SERVICE"===e.name?E.default.fetchGovernanceMode(e.name):e.name)})))),_.default.createElement("div",{style:{width:"468px",margin:"0 auto",border:"1px solid #ccc",padding:"10px",borderRadius:"8px"}},_.default.createElement("label",{htmlFor:"governance_mode",className:"ant-form-item-required",title:(0,b.formatMessage)({id:"confirmModal.app.govern.label.mode"})},(0,b.formatMessage)({id:"confirmModal.app.govern.label.mode"})),this.handleFindDesc(S)))))}},f=g))||f)||f);t.default=M},sC1O:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("y8nQ");var s=l(a("Vl3Y"));a("5NDa");var i=l(a("5rEg"));a("OaEy");var r,o,d,c=l(a("2fM7")),u=n(a("q1tI")),p=a("MuoO"),m=(a("7DNP"),a("P5Jw"),l(a("p3+A"))),h=(c.default.Option,i.default.Search,r=(0,p.connect)(e=>{var t=e.user,a=e.appControl;return{currUser:t.currentUser,baseInfo:a.baseInfo,extendInfo:a.extendInfo,instances:a.pods}},null,null,{pure:!1,withRef:!0}),o=s.default.create(),r(d=o(d=class extends u.PureComponent{constructor(e){super(e),this.state={}}render(){return u.default.createElement("div",null,u.default.createElement(m.default,this.props))}})||d)||d);t.default=h},sg1L:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M")),i=l(a("jehZ"));a("+L6B");var r=l(a("2/Rp"));a("5NDa");var o=l(a("5rEg"));a("Q9mQ");var d=l(a("diRs"));a("O3gP");var c=l(a("lrIw"));a("/xke");var u=l(a("TeRw")),p=l(a("p0pE"));a("y8nQ");var m=l(a("Vl3Y"));a("OaEy");var h,f,g,v,y=l(a("2fM7")),_=a("MuoO"),b=n(a("q1tI")),E=a("LLXN"),w=a("RBnf"),C=a("xpXo"),M=l(a("QDog")),S=(y.default.Option,h=m.default.create(),f=(0,_.connect)(),h(g=f((v=class extends b.PureComponent{constructor(e){super(e),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,l=(t.dispatch,this.state.scheduleValue,M.default.getCurrTeamName()),n=this.props.service_alias||"";a.validateFields((e,t)=>{e||(t.schedule&&(t.schedule=this.extractText(t.schedule)),(0,C.addRunStrategy)((0,p.default)({team_name:l,service_alias:n},t)).then(e=>{u.default.success({message:(0,E.formatMessage)({id:"notification.success.data_save"})}),this.handleRunStrategy()}).catch(e=>{handleAPIError(e)}))})}),this.extractText=(e=>{return e.includes("(")?e.split(/\s*\(.*?\)\s*/)[0].trim():e.trim()}),this.handleRunStrategy=(()=>{var e=M.default.getCurrTeamName(),t=this.props.service_alias||"";(0,C.getRunStrategy)({team_name:e,service_alias:t}).then(e=>{this.setState({data:e.bean})}).catch(e=>{handleAPIError(e)})}),this.handleCheckPort=((e,t,a)=>{this.props.form.getFieldValue;var l=/\D/g;t.match(l)&&a(b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.Floating"})),a()}),this.state={data:{}}}componentDidMount(){this.handleRunStrategy()}render(){var e=this.props,t=e.form.getFieldDecorator,a=e.extend_method,l=this.state,n=l.data,u=(l.scheduleValue,{labelCol:{xs:{span:3},sm:{span:3}},wrapperCol:{xs:{span:5},sm:{span:5}}}),p=[{name:(0,E.formatMessage)({id:"componentOverview.body.Strategy.hour"}),value:"0 * * * *"},{name:(0,E.formatMessage)({id:"componentOverview.body.Strategy.day"}),value:"0 0 * * *"},{name:(0,E.formatMessage)({id:"componentOverview.body.Strategy.week"}),value:"0 0 * * 0"},{name:(0,E.formatMessage)({id:"componentOverview.body.Strategy.month"}),value:"0 0 1 * *"},{name:(0,E.formatMessage)({id:"componentOverview.body.Strategy.year"}),value:"0 0 1 1 *"}];return b.default.createElement("div",{style:{marginBottom:"24px"}},b.default.createElement(s.default,{title:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.run"})},b.default.createElement(m.default,(0,i.default)({},u,{onSubmit:this.handleSubmit}),"cronjob"===a&&b.default.createElement("div",null,b.default.createElement(m.default.Item,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.rule"})},t("schedule",{initialValue:(null===n||void 0===n?void 0:n.schedule)||"",rules:[{required:!0,message:(0,E.formatMessage)({id:"componentOverview.body.Strategy.not_null"})}]})(b.default.createElement(c.default,{defaultValue:n.schedule||""},p.length>0&&p.map(e=>{return b.default.createElement(c.default.Option,{value:e.value},e.name)})))),b.default.createElement(d.default,{content:b.default.createElement("div",{style:{padding:"4px 8px",height:"auto",fontSize:"12px",color:"#757575"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.timing"})),placement:"right",trigger:"hover"},b.default.createElement(w.QuestionCircleOutlined,{style:{marginLeft:"10px",fontSize:"14px",position:"absolute",left:"34%",top:"30%"}}))),b.default.createElement("div",null,b.default.createElement(m.default.Item,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.max"})},t("backoff_limit",{initialValue:n.backoff_limit||"",rules:[{required:!1,message:(0,E.formatMessage)({id:"componentOverview.body.Strategy.not_null"})},{max:20,message:(0,E.formatMessage)({id:"componentOverview.body.Strategy.length"})},{validator:this.handleCheckPort}]})(b.default.createElement(o.default,{type:"number",placeholder:(0,E.formatMessage)({id:"componentOverview.body.Strategy.input_max"})}))),b.default.createElement(d.default,{content:b.default.createElement("div",{style:{padding:"4px 8px",height:"auto",fontSize:"12px",color:"#757575"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.fail"})),placement:"right",trigger:"hover"},b.default.createElement(w.QuestionCircleOutlined,{style:{marginLeft:"10px",fontSize:"14px",position:"absolute",left:"34%",top:"30%"}}))),b.default.createElement("div",null,b.default.createElement(m.default.Item,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.number"})},t("parallelism",{initialValue:n.parallelism||"",rules:[{required:!1,message:(0,E.formatMessage)({id:"componentOverview.body.Strategy.not_null"})},{max:20,message:(0,E.formatMessage)({id:"componentOverview.body.Strategy.length"})},{validator:this.handleCheckPort}]})(b.default.createElement(o.default,{type:"number",placeholder:(0,E.formatMessage)({id:"componentOverview.body.Strategy.input_number"})}))),b.default.createElement(d.default,{content:b.default.createElement("div",{style:{padding:"4px 8px",height:"auto",fontSize:"12px",color:"#757575"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.pod_onetime"})),placement:"right",trigger:"hover"},b.default.createElement(w.QuestionCircleOutlined,{style:{marginLeft:"10px",fontSize:"14px",position:"absolute",left:"34%",top:"30%"}}))),b.default.createElement("div",null,b.default.createElement(m.default.Item,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.max_time"})},t("active_deadline_seconds",{initialValue:n.active_deadline_seconds||"",rules:[{required:!1,message:(0,E.formatMessage)({id:"componentOverview.body.Strategy.not_null"})},{max:20,message:(0,E.formatMessage)({id:"componentOverview.body.Strategy.length"})},{validator:this.handleCheckPort}]})(b.default.createElement(o.default,{type:"number",placeholder:(0,E.formatMessage)({id:"componentOverview.body.Strategy.Run_time"})}))),b.default.createElement(d.default,{content:b.default.createElement("div",{style:{padding:"4px 8px",height:"auto",fontSize:"12px",color:"#757575"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.job"})),placement:"right",trigger:"hover"},b.default.createElement(w.QuestionCircleOutlined,{style:{marginLeft:"10px",fontSize:"14px",position:"absolute",left:"34%",top:"30%"}}))),b.default.createElement("div",null,b.default.createElement(m.default.Item,{label:b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.completions"})},t("completions",{initialValue:n.completions||"",rules:[{required:!1,message:(0,E.formatMessage)({id:"componentOverview.body.Strategy.not_null"})},{max:20,message:(0,E.formatMessage)({id:"componentOverview.body.Strategy.length"})},{validator:this.handleCheckPort}]})(b.default.createElement(o.default,{type:"number",placeholder:(0,E.formatMessage)({id:"componentOverview.body.Strategy.input_completions"})}))),b.default.createElement(d.default,{content:b.default.createElement("div",{style:{padding:"4px 8px",height:"auto",fontSize:"12px",color:"#757575"}},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.pod"})),placement:"right",trigger:"hover"},b.default.createElement(w.QuestionCircleOutlined,{style:{marginLeft:"10px",fontSize:"14px",position:"absolute",left:"34%",top:"30%"}}))),b.default.createElement(m.default.Item,{wrapperCol:{xs:{span:3,offset:3},sm:{span:3,offset:3}}},b.default.createElement(r.default,{type:"primary",htmlType:"submit"},b.default.createElement(E.FormattedMessage,{id:"componentOverview.body.Strategy.save"}))))))}},g=v))||g)||g),k=S;t.default=k},v65o:function(e,t,a){e.exports={pageValue_style:"pageValue_style___1bqti",tipText_style:"tipText_style___whrMS",handleBtn_style:"handleBtn_style___1K9W7",selectstyle:"selectstyle___FCcAV",accountName_style:"accountName_style___NHR6r",en_accountName_style:"en_accountName_style___MfSIQ",nodeSelector_sytle:"nodeSelector_sytle___1wFGr",yamlValue_style:"yamlValue_style___3yULz",yamlTitle_style:"yamlTitle_style___ed2IH"}},vDV7:function(e,t,a){e.exports={miniProgress:"miniProgress___1Ytl3",progressWrap:"progressWrap___1iN0h",progress:"progress___301Ev",target:"target___VGicK"}},vX3j:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var s=l(a("wCAj"));a("IzEo");var i=l(a("bx4M"));a("14J3");var r=l(a("BMrR"));a("jCWc");var o=l(a("kPKH"));a("+L6B");var d=l(a("2/Rp")),c=l(a("jehZ"));a("5NDa");var u=l(a("5rEg"));a("/xke");var p=l(a("TeRw")),m=l(a("p0pE"));a("2qtc");var h=l(a("kLXV"));a("y8nQ");var f=l(a("Vl3Y"));a("7Kak");var g,v,y,_,b=l(a("9yH6")),E=a("MuoO"),w=a("7DNP"),C=n(a("q1tI")),M=a("LLXN"),S=a("P5Jw"),k=l(a("q76B")),O=l(a("QDog")),x=(b.default.Group,f.default.Item),A=h.default.confirm,D=/^(?=^.{3,255}$)(http(s)?:\/\/)?(www\.)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:\d+)*(\/\w+\.\w+)*$/,F=/^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/,N=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,T=(g=(0,E.connect)(e=>{var t=e.user,a=e.appControl;return{currUser:t.currentUser,appRequest:a.appRequest,appRequestRange:a.appRequestRange,requestTime:a.requestTime,requestTimeRange:a.requestTimeRange,appDisk:a.appDisk,appMemory:a.appMemory,appDetail:a.appDetail}},null,null,{withRef:!0}),v=f.default.create(),g(y=v((_=class extends C.PureComponent{constructor(e){super(e),this.fetchParameter=(()=>{this.props.appAlias;return{team_name:O.default.getCurrTeamName(),region_name:O.default.getCurrRegionName(),app_alias:O.default.getSlidePanelComponentID()}}),this.showConfirm=(()=>{var e=this.props.dispatch,t=this.fetchParameter(),a=t.team_name,l=t.region_name,n=t.app_alias;A({title:(0,M.formatMessage)({id:"componentOverview.body.ThirdPartyServices.port"}),content:(0,M.formatMessage)({id:"componentOverview.body.ThirdPartyServices.foreign"}),okText:(0,M.formatMessage)({id:"componentOverview.body.ThirdPartyServices.configure"}),onOk(){e(w.routerRedux.push("/team/".concat(a,"/region/").concat(l,"/apps/").concat(O.default.getAppID(),"/overview?type=components&componentID=").concat(n,"&tab=port")))},onCancel(){console.log("Cancel")}})}),this.handleGetList=(()=>{var e=this.props.dispatch;e({type:"appControl/getInstanceList",payload:this.fetchParameter(),callback:e=>{e&&200===e.status_code&&this.setState({endpoint_num:e.bean.endpoint_num>0?e.bean.endpoint_num:"",list:e.list})}})}),this.openDeleteVar=(e=>{this.setState({deleteVar:!0,ep_id:e})}),this.cancelDeleteVar=(()=>{this.setState({deleteVar:null})}),this.handleDeleteVar=(()=>{var e=this.state.ep_id;this.props.dispatch({type:"appControl/deleteInstanceList",payload:(0,m.default)({},this.fetchParameter(),{ep_id:e}),callback:e=>{e&&200===e.status_code&&(this.handleGetList(),this.cancelDeleteVar(),setTimeout(()=>{this.handleGetList()},5e4),p.default.info({message:(0,M.formatMessage)({id:"notification.hint.need_updata"})}))}})}),this.handleModify=(e=>{this.props.dispatch({type:"appControl/modifyInstanceList",payload:(0,m.default)({},this.fetchParameter(),{ep_id:e.ep_id}),callback:e=>{e&&200===e.status_code&&(e.bean&&e.bean.port_closed?this.showConfirm():(this.handleGetList(),this.cancelDeleteVar()))}})}),this.addInstance=(()=>{this.setState({visible:!0})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.dispatch;a.validateFields((e,t)=>{e||l({type:"appControl/addInstanceList",payload:(0,m.default)({},this.fetchParameter(),{ip:t.ip}),callback:e=>{e&&200===e.status_code&&(this.setState({visible:!1}),this.handleGetList(),p.default.info({message:(0,M.formatMessage)({id:"notification.hint.need_updata"})}))}})})}),this.handleCancel=(()=>{this.setState({visible:!1})}),this.validAttrName=((e,t,a)=>{t&&""!==t?("1.1.1.1"===t&&a(C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.address"})),D.test(t||"")||F.test(t||"")||N.test(t||"")?a():a(C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.correct_address"}))):a(C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.ip"}))}),this.handleUpDatekey=(()=>{var e=this.props.dispatch;e({type:"appControl/editUpDatekey",payload:this.fetchParameter(),callback:e=>{e&&200===e.status_code&&this.setState({api_service_key:e.bean&&e.bean.api_service_key})}})}),this.state={endpoint_num:"",list:[],deleteVar:!1,visible:!1,ep_id:"",api_service_key:""}}componentDidMount(){this.handleGetList()}render(){var e=this.state,t=e.list,a=e.endpoint_num,l=e.api_service_key,n=e.visible,m=e.deleteVar,f=this.props,g=f.groupDetail,v=f.appDetail,y=f.form,_=y.getFieldDecorator,b=g&&g.app_type&&"helm"===g.app_type,E={labelCol:{span:5},wrapperCol:{span:19}},w=[{title:(0,M.formatMessage)({id:"componentOverview.body.ThirdPartyServices.instance_address"}),dataIndex:"ip",key:"1"},{title:(0,M.formatMessage)({id:"componentOverview.body.ThirdPartyServices.health_state"}),dataIndex:"status",align:"center",key:"2",render:e=>{var t={healthy:(0,M.formatMessage)({id:"componentOverview.body.ThirdPartyServices.health"}),unhealthy:(0,M.formatMessage)({id:"componentOverview.body.ThirdPartyServices.unhealth"}),notready:(0,M.formatMessage)({id:"componentOverview.body.ThirdPartyServices.not_ready"}),unknown:(0,M.formatMessage)({id:"componentOverview.body.ThirdPartyServices.unknown"})};return C.default.createElement("span",{style:{color:"healthy"==e?"green":"unhealthy"==e?"red":""}},t[e]||C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.not_online"}))}}];b||w.push({title:(0,M.formatMessage)({id:"componentOverview.body.ThirdPartyServices.operation"}),dataIndex:"ep_id",key:"3",render:e=>C.default.createElement("a",{style:{marginRight:"5px"},onClick:()=>{this.openDeleteVar(e)}},C.default.createElement(M.FormattedMessage,{id:"button.delete"}))});var O=l||(v.api_service_key?v.api_service_key:"");return C.default.createElement(C.Fragment,null,C.default.createElement(r.default,null,n&&C.default.createElement(h.default,{title:C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.add"}),visible:!0,onOk:this.handleSubmit,onCancel:this.handleCancel},C.default.createElement(x,(0,c.default)({},E,{label:C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.instance_address"})}),_("ip",{rules:[{required:!0,validator:this.validAttrName}],initialValue:void 0})(C.default.createElement(u.default,{placeholder:(0,M.formatMessage)({id:"componentOverview.body.ThirdPartyServices.input_address"})})))),v&&v.service&&"third_party"===v.service.service_source&&C.default.createElement(i.default,{title:C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.service_instance"}),extra:b?null:C.default.createElement("div",null,C.default.createElement(d.default,{style:{marginRight:"5px"},onClick:()=>{this.handleGetList()}},C.default.createElement(M.FormattedMessage,{id:"button.freshen"})),"kubernetes"!==v.register_way&&C.default.createElement(d.default,{type:"primary",onClick:()=>{this.addInstance()}},C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.add"})))},C.default.createElement(r.default,null,C.default.createElement(o.default,{span:12},C.default.createElement("p",null,C.default.createElement("b",{style:{marginRight:16}},C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.type"})),v.register_way?v.register_way:""),v.api_url&&C.default.createElement("p",null,C.default.createElement("b",{style:{marginRight:16}},C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.api"})),v.api_url?v.api_url:"",C.default.createElement("div",{style:{margin:"5px 0"}},C.default.createElement("span",null,C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.key"})," ",C.default.createElement("a",null,O),C.default.createElement(S.CopyToClipboard,{text:O,onCopy:()=>{p.default.success({message:(0,M.formatMessage)({id:"notification.success.copy"})})}},C.default.createElement(d.default,{size:"small",style:{margin:"0 10px"}},C.default.createElement(M.FormattedMessage,{id:"button.copy"})))),C.default.createElement(d.default,{size:"small",onClick:()=>{this.handleUpDatekey()}},C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.re_key"})))),a&&C.default.createElement("p",null,C.default.createElement("b",{style:{marginRight:16}},C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.number"})),a>0?a:""),"kubernetes"===v.endpoints_type&&C.default.createElement("p",null,C.default.createElement("b",{style:{marginRight:16}}),v.kubernetes.namespace,"/",v.kubernetes.serviceName),v.discovery_type&&C.default.createElement("p",null,C.default.createElement("b",{style:{marginRight:16}},C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.dynamic"})),v.discovery_type),v.discovery_key&&C.default.createElement("p",null,C.default.createElement("b",{style:{marginRight:16}},C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.dynamic_key"})),v.discovery_key)),v.api_url&&C.default.createElement(o.default,{span:12},C.default.createElement("span",null,"API",C.default.createElement(M.FormattedMessage,{id:"componentOverview.body.ThirdPartyServices.msg"})),C.default.createElement("div",{style:{background:"#000",color:"#fff",padding:"16px"}},"curl -X PUT --url ".concat(v.api_url,' -H "Content-Type: application/json" -d \'{"secret_key":"').concat(O,'","ip":"192.168.1.1","is_online":true}\'')))))),C.default.createElement(r.default,null,C.default.createElement(s.default,{rowKey:(e,t)=>t,dataSource:t,columns:w,style:{background:"#fff",margin:"12px 0"}})),m&&C.default.createElement(k.default,{onOk:this.handleDeleteVar,onCancel:this.cancelDeleteVar,title:C.default.createElement(M.FormattedMessage,{id:"confirmModal.deldete.env.title"}),desc:C.default.createElement(M.FormattedMessage,{id:"confirmModal.deldete.env.desc"}),subDesc:C.default.createElement(M.FormattedMessage,{id:"confirmModal.deldete.env.subDesc"})}))}},y=_))||y)||y);t.default=T},ye39:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var s=l(a("BMrR"));a("jCWc");var i=l(a("kPKH"));a("IzEo");var r=l(a("bx4M"));a("DjyN");var o=l(a("NUBc"));a("P2fV");var d=l(a("NJEC"));a("/zsF");var c=l(a("PArb"));a("5Dmo");var u=l(a("3S7+"));a("y8nQ");var p,m,h,f,g=l(a("Vl3Y")),v=a("MuoO"),y=l(a("wd/R")),_=n(a("q1tI")),b=l(a("QDog")),E=l(a("9Qkj")),w=l(a("8+Sn")),C=l(a("LrcT")),M=l(a("Sw8b")),S=l(a("2lxJ")),k=a("LLXN"),O=(p=(0,v.connect)(e=>{var t=e.appControl,a=e.teamControl;return{appDetail:t.appDetail,currentTeamPermissionsInfo:a.currentTeamPermissionsInfo}}),m=g.default.create(),p(h=m((f=class extends _.PureComponent{constructor(e){super(e),this.handlePermissions=(()=>{var e,t=this.props,a=t.currentTeamPermissionsInfo,l=t.appDetail;if(a&&l)return E.default.queryPermissionsInfo(null===a||void 0===a?void 0:a.team,"app_upgrade","app_".concat(null===l||void 0===l?void 0:null===(e=l.service)||void 0===e?void 0:e.group_id))}),this.showModal=(e=>{this.setState({EventID:e,logVisible:!0})}),this.handleOk=(()=>{this.setState({logVisible:!1})}),this.handleCancel=(()=>{this.setState({logVisible:!1})}),this.handleRolback=(e=>{var t=this.props.onRollback;t&&t(e)}),this.handleDel=(e=>{var t=this.props.handleDel;t&&t(e)}),this.showStatus=(e=>{switch(e){case"":return"".concat((0,k.formatMessage)({id:"componentOverview.body.tab.overview.buildHistory.under"}));case"success":return"".concat((0,k.formatMessage)({id:"componentOverview.body.tab.overview.buildHistory.success"}));case"failure":return"".concat((0,k.formatMessage)({id:"componentOverview.body.tab.overview.buildHistory.fail"}));default:return"".concat((0,k.formatMessage)({id:"componentOverview.body.tab.overview.buildHistory.unknown"}))}}),this.state={logVisible:!1,EventID:"",language:"zh-CN"===w.default.get("language"),appUpgradePermission:this.handlePermissions()}}componentDidMount(){}render(){var e=this.props,t=e.dataList,a=e.current_version,l=e.componentPermissions.isDelete,n=e.pages,p=e.pageSize,m=e.total,h=e.onPageChange,f=e.onShowSizeChange,g=this.state,v=g.EventID,E=g.logVisible,w=g.language,O=g.appUpgradePermission,x=O.isUpgrade,A=O.isRollback;return _.default.createElement(s.default,{gutter:24},E&&_.default.createElement(M.default,{title:_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.buildLog"}),EventID:v,onOk:this.handleOk,onCancel:this.handleCancel,width:"1200px"}),_.default.createElement(i.default,{xs:24,xm:24,md:24,lg:24,xl:24},_.default.createElement(r.default,{bordered:!1,title:_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.buildVersionHistory"}),style:{margin:"20px 0"}},_.default.createElement("div",{className:C.default.buildHistoryBox},_.default.createElement("ul",{className:C.default.buildHistoryList},t&&t.length>0&&t.map(e=>{var t=e.code_commit_msg,n=e.image_domain,s=e.build_user,i=e.code_version,r=e.status,o=e.create_time,p=e.build_version,m=e.finish_time,h=e.upgrade_or_rollback,f=e.event_id,g=e.image_repo,v=e.code_branch,E=e.image_tag,M=e.kind;return _.default.createElement("li",{key:p,className:"".concat(C.default.rowLi," ").concat(w?C.default.prRow:C.default.en_prRow," ").concat("success"===r?C.default.passed:"failure"===r?C.default.failed:C.default.canceled," ")},_.default.createElement("div",{className:"".concat(w?C.default.lineone:C.default.en_lineone," ").concat(C.default.fadeOute)},_.default.createElement("div",{className:"".concat(C.default.rowRtem," ").concat(C.default.buildInfo)},_.default.createElement("div",{className:" ".concat(C.default.alcen,"  ").concat(C.default.rowBranch)},_.default.createElement("span",{className:"".concat(C.default.statusIcon," ")},"success"===r?b.default.fetchSvg("success"):"failure"===r?_.default.createElement("span",{className:C.default.icon,style:{textAlign:"center",color:b.default.getPublicColor("rbd-error-status"),display:"inline-block",lineHeight:1}},"!"):b.default.fetchSvg("close")),_.default.createElement("a",{className:" ".concat(C.default.alcen," ").concat(C.default.passeda," ")},_.default.createElement(u.default,{title:p&&a&&p===a?p+(0,k.formatMessage)({id:"componentOverview.body.tab.overview.buildHistory.currentVersion"}):p},_.default.createElement("font",{className:C.default.nowarpCorolText,style:{width:180,color:"success"===r?b.default.getPublicColor("rbd-success-status"):"failure"===r?b.default.getPublicColor("rbd-error-status"):"#9d9d9d",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},p,p&&a&&p===a&&_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.currentVersion"}))))),_.default.createElement("div",{className:" ".concat(C.default.alcen," ").concat(C.default.rowMessage," ")},_.default.createElement(u.default,{title:M&&("\u6e90\u7801\u6784\u5efa"===M?_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.submitInformation"}):"\u672c\u5730\u6587\u4ef6"===M?_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.fileName"}):_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.address"}))},M&&S.default.getSvg("\u6e90\u7801\u6784\u5efa"===M?"msg":"\u672c\u5730\u6587\u4ef6"===M?"fileName":"jingxiang",12,"rbd-content-color-secondary")),_.default.createElement(u.default,{title:M&&("\u6e90\u7801\u6784\u5efa"===M?t&&t:"\u672c\u5730\u6587\u4ef6"===M?t&&t:n&&n)},_.default.createElement("span",{className:C.default.nowarpCorolText,style:{width:"90%"}},M&&("\u6e90\u7801\u6784\u5efa"===M?t&&t:"\u672c\u5730\u6587\u4ef6"===M?t&&t:n&&n))))),_.default.createElement("div",{className:"".concat(C.default.rowRtem," ").concat(C.default.buildCommitter," ").concat(C.default.alcen)},_.default.createElement("div",{style:{width:"210px"}},_.default.createElement("a",{style:{width:"100%",cursor:"auto"}},_.default.createElement("font",{className:C.default.nowarpCorolText,style:{width:"90%"}},s&&" @&nbsp;".concat(s)))),_.default.createElement("div",{className:" ".concat(C.default.alcen," ").concat(C.default.calcwd," ")},_.default.createElement("a",{className:"".concat(C.default.alcen),style:{width:"50%",cursor:"auto"}},_.default.createElement(u.default,{title:M&&("\u6e90\u7801\u6784\u5efa"===M?_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.CodeBranch"}):"\u672c\u5730\u6587\u4ef6"===M?_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.uploadTime"}):_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.imageName"}))},M&&S.default.getSvg("\u6e90\u7801\u6784\u5efa"===M?"fenzhi":"\u672c\u5730\u6587\u4ef6"===M?"upLoad":"jingxiang",12,"rbd-content-color-secondary")),_.default.createElement(u.default,{title:M&&("\u6e90\u7801\u6784\u5efa"===M?v&&v:"\u672c\u5730\u6587\u4ef6"===M?v&&v:g&&g)},_.default.createElement("span",{className:C.default.nowarpCorolText,style:{width:"90%"}},M&&("\u6e90\u7801\u6784\u5efa"===M?v&&v:"\u672c\u5730\u6587\u4ef6"===M?v&&v:g&&g)))),_.default.createElement("a",{className:" ".concat(C.default.alcen," "),style:{width:"50%",cursor:"auto"}},_.default.createElement(u.default,{title:M&&("\u6e90\u7801\u6784\u5efa"===M?_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.codeVersion"}):"\u672c\u5730\u6587\u4ef6"===M?_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.file"}):_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.tag"}))},_.default.createElement("span",{className:" ".concat(C.default.alcen," ").concat(C.default.buildwidth," "),style:{color:"rgba(0, 0, 0, 0.65)"}},M&&S.default.getSvg("\u6e90\u7801\u6784\u5efa"===M?"code":"\u672c\u5730\u6587\u4ef6"===M?"MD5":"jingxiangTga",12,"rbd-content-color-secondary"))),_.default.createElement(u.default,{title:M&&("\u6e90\u7801\u6784\u5efa"===M?i:"\u672c\u5730\u6587\u4ef6"===M?i:E&&E)},_.default.createElement("font",{className:C.default.nowarpCorolText,style:{width:"90%"}},M&&("\u6e90\u7801\u6784\u5efa"===M?i&&i.substr(0,8):"\u672c\u5730\u6587\u4ef6"===M?i&&i:E||""))))))),_.default.createElement("div",{className:"".concat(w?C.default.linetwo:C.default.en_linetwo)},_.default.createElement("div",{className:"".concat(C.default.rowRtem," ").concat(C.default.alcen)},_.default.createElement("a",{className:"success"===r?C.default.passeda:"failure"===r?C.default.faileda:C.default.canceleda},b.default.fetchSvg("logState","failure"===r?"#39AA56#db4545":b.default.getPublicColor("rbd-success-status")),_.default.createElement("font",{style:{fontSize:"14px",color:"failure"===r?"#39AA56#db4545":b.default.getPublicColor("rbd-success-status")}},this.showStatus(r)))),_.default.createElement("div",{className:"".concat(C.default.rowRtem," ")})),_.default.createElement("div",{className:"".concat(w?C.default.linestree:C.default.en_linestree)},_.default.createElement("div",{className:"".concat(C.default.rowRtem," ").concat(C.default.rowDuration)},_.default.createElement("div",{className:C.default.alcen},_.default.createElement(u.default,{title:_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.runTime"})},b.default.fetchSvg("runTime")),_.default.createElement("time",{className:C.default.labelAlign},_.default.createElement("font",{style:{display:"inline-block",color:b.default.getPublicColor("rbd-content-color")}},b.default.fetchTime(m?new Date(m).getTime()-new Date(o).getTime():Date.parse(new Date)-new Date(o).getTime()))))),_.default.createElement("div",{className:"".concat(C.default.rowRtem," ").concat(C.default.rowCalendar," ").concat(C.default.alcen)},_.default.createElement("div",{className:C.default.alcen},_.default.createElement(u.default,{title:_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.creationTime"})},b.default.fetchSvg("createTime")),_.default.createElement("time",{className:C.default.labelAlign},_.default.createElement("font",{style:{display:"inline-block",color:b.default.getPublicColor("rbd-content-color")}},o&&(0,y.default)(o).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss")))))),_.default.createElement("div",{className:"".concat(w?C.default.linefour:C.default.en_linefour)},_.default.createElement("span",null,_.default.createElement("a",{style:{fontSize:"12px"},onClick:()=>{this.showModal(f)}},_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.log"}))),1==h&&x?_.default.createElement(d.default,{title:_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.popUpgrade"}),onConfirm:()=>{this.handleRolback(e)}},_.default.createElement("span",null,_.default.createElement(c.default,{type:"vertical"}),_.default.createElement("a",{style:{fontSize:"12px"}},_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.upgrade"})))):-1==h&&"success"==r&&p!=a&&A&&a?_.default.createElement(d.default,{title:_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.poprollback"}),onConfirm:()=>{this.handleRolback(e)}},_.default.createElement("span",null,_.default.createElement(c.default,{type:"vertical"}),_.default.createElement("a",{style:{fontSize:"12px"}},_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.roolback"})))):"",_.default.createElement(d.default,{title:_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.popDelete"}),onConfirm:()=>{this.handleDel(e)}},p!==a&&l&&a&&r.length>0&&_.default.createElement("span",null,_.default.createElement(c.default,{type:"vertical"}),_.default.createElement("a",{style:{fontSize:"12px"}},_.default.createElement(k.FormattedMessage,{id:"componentOverview.body.tab.overview.buildHistory.delete"}))))))}))),_.default.createElement("div",{style:{textAlign:"right",marginTop:"24px"}},Number(m)>p&&_.default.createElement(o.default,{current:n,pageSize:p,showSizeChanger:!0,total:Number(m),defaultCurrent:1,onChange:h,pageSizeOptions:["5","10","20","50"],onShowSizeChange:f})))))}},h=f))||h)||h),x=O;t.default=x},z1Ga:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=n(a("kLXV"));a("g9YV");var i=n(a("wCAj"));a("5Dmo");var r=n(a("3S7+"));a("14J3");var o=n(a("BMrR"));a("OaEy");var d=n(a("2fM7"));a("jCWc");var c=n(a("kPKH"));a("5NDa");var u=n(a("5rEg"));a("/xke");var p=n(a("TeRw")),m=a("7DNP"),h=l(a("q1tI")),f=a("LLXN"),g=a("xpXo"),v=n(a("QDog"));class y extends h.PureComponent{constructor(e){var t;super(e),t=this,this.handleSubmit=(()=>{if(this.state.selectedRowKeys.length){var e=[];e=this.state.selectedRowKeys.map(e=>{var t=this.state.list[e];return{id:t.dep_vol_id,path:this.state.localpaths[t.dep_vol_id]}}),e=e.filter(e=>!!e.path),e.length?this.props.onSubmit&&this.props.onSubmit(e):p.default.warning({message:(0,f.formatMessage)({id:"notification.warn.inspect.fillIn"})})}else p.default.warning({message:(0,f.formatMessage)({id:"notification.warn.choice.catalogue"})})}),this.handleTableChange=((e,t)=>{this.setState({current:e,pageSize:t},()=>{this.loadUnMntList()})}),this.loadUnMntList=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.setState({loading:!0}),(0,g.getMnt)({team_name:v.default.getCurrTeamName(),app_alias:t.props.appAlias,page:t.state.current,page_size:t.state.pageSize,type:"unmnt",volume_type:t.props.volume_type?t.props.volume_type:["share-file","memoryfs","local"],dep_app_group:t.state.dep_app_group||"",dep_app_name:t.state.dep_app_name||"",config_name:t.state.config_name||""}).then(a=>{a&&(e&&t.handleData(a.list),t.setState({list:a.list||[],total:a.total,loading:!1}))})},this.handleCancel=(()=>{this.props.onCancel&&this.props.onCancel()}),this.isDisabled=((e,t)=>-1===this.state.selectedRowKeys.indexOf(t)),this.handleChange=((e,t,a)=>{var l=this.state.localpaths;l[t.dep_vol_id]=e,this.setState({localpaths:l})}),this.handleData=(e=>{var t=[],a=[];e.reduce((e,l)=>{var n=l.dep_app_alias,s=l.dep_app_name,i=l.dep_group_id,r=l.dep_app_group,o=a.find(e=>e.key===n),d=t.find(e=>e.key===i);return d||t.push({key:i,value:r}),o||a.push({key:n,value:s}),e},{});this.setState({appList:t,comList:a})}),this.handleDependChange=((e,t)=>{"dep_app_group"===t?this.setState({dep_app_group:e},()=>{this.loadUnMntList(!1)}):"dep_app_name"===t?this.setState({dep_app_name:e},()=>{this.loadUnMntList(!1)}):"config_name"===t&&this.setState({config_name:e},()=>{this.loadUnMntList(!1)})}),this.state={selectedRowKeys:[],list:[],total:0,current:1,pageSize:6,localpaths:{},appList:[],comList:[],loading:!0}}componentDidMount(){this.loadUnMntList()}render(){var e={onChange:(e,t)=>{this.setState({selectedRowKeys:e})}},t=this.state,a=t.total,l=t.current,n=t.pageSize,p=t.loading,g={onChange:this.handleTableChange,total:a,pageSize:n,current:l};return h.default.createElement(s.default,{title:h.default.createElement(f.FormattedMessage,{id:"componentOverview.body.tab.RelationMnt.title"}),width:1150,visible:!0,onOk:this.handleSubmit,onCancel:this.handleCancel},h.default.createElement(o.default,{style:{paddingBottom:10}},h.default.createElement(c.default,{span:8},(0,f.formatMessage)({id:"componentOther.relationMnt.name"}),h.default.createElement(u.default,{style:{width:240},onBlur:e=>this.handleDependChange(e.target.value,"config_name"),placeholder:(0,f.formatMessage)({id:"componentOther.relationMnt.file_name"})})),h.default.createElement(c.default,{span:8},(0,f.formatMessage)({id:"componentOther.relationMnt.app"}),h.default.createElement(d.default,{allowClear:!0,placeholder:(0,f.formatMessage)({id:"componentOther.relationMnt.select_app"}),style:{width:240},onChange:e=>this.handleDependChange(e,"dep_app_group")},this.state.appList.map(e=>{return h.default.createElement(d.default.Option,{key:e.value,value:e.value},e.value)}))),h.default.createElement(c.default,{span:8},(0,f.formatMessage)({id:"componentOther.relationMnt.com"}),h.default.createElement(d.default,{allowClear:!0,placeholder:(0,f.formatMessage)({id:"componentOther.relationMnt.select_com"}),style:{width:240},onChange:e=>this.handleDependChange(e,"dep_app_name")},this.state.comList.map(e=>{return h.default.createElement(d.default.Option,{key:e.value,value:e.value},e.value)})))),h.default.createElement(i.default,{loading:p,rowKey:(e,t)=>t,pagination:g,dataSource:this.state.list,rowSelection:e,style:{width:"100%",overflowX:"auto"},columns:[{title:(0,f.formatMessage)({id:"componentOverview.body.tab.RelationMnt.localpath"}),dataIndex:"localpath",key:"1",width:"20%",render:(e,t,a)=>h.default.createElement(u.default,{onChange:e=>{this.handleChange(e.target.value,t,a)},disabled:this.isDisabled(t,a)})},{title:(0,f.formatMessage)({id:"componentOverview.body.tab.RelationMnt.dep_vol_name"}),dataIndex:"dep_vol_name",key:"2",width:"20%",render:(e,t)=>h.default.createElement(r.default,{title:e},h.default.createElement("span",{style:{wordBreak:"break-all",wordWrap:"break-word"}},e))},{title:(0,f.formatMessage)({id:"componentOverview.body.tab.RelationMnt.dep_vol_path"}),dataIndex:"dep_vol_path",key:"3",width:"20%",render:(e,t)=>h.default.createElement(r.default,{title:e},h.default.createElement("span",{style:{wordBreak:"break-all",wordWrap:"break-word"}},e))},{title:(0,f.formatMessage)({id:"componentOverview.body.tab.RelationMnt.dep_app_name"}),dataIndex:"dep_app_name",key:"5",width:"20%",render:(e,t)=>{return h.default.createElement(r.default,{title:e},h.default.createElement(m.Link,{to:"/team/".concat(v.default.getCurrTeamName(),"/region/").concat(v.default.getCurrRegionName(),"/apps/").concat(t.dep_group_id,"/overview?type=components&componentID=").concat(t.dep_app_alias,"&tab=overview")},h.default.createElement("span",{style:{wordBreak:"break-all",wordWrap:"break-word"}},e)))}},{title:(0,f.formatMessage)({id:"componentOverview.body.tab.RelationMnt.dep_app_group"}),dataIndex:"dep_app_group",key:"6",width:"15%",render:(e,t)=>{return h.default.createElement(r.default,{title:e},h.default.createElement(m.Link,{to:"/team/".concat(v.default.getCurrTeamName(),"/region/").concat(v.default.getCurrRegionName(),"/apps/").concat(t.dep_group_id,"/overview")},h.default.createElement("span",{style:{wordBreak:"break-all",wordWrap:"break-word"}},e)))}}]}))}}t.default=y},zMIy:function(e,t,a){e.exports={logsss:"logsss___2W4kX",podCascader:"podCascader___3Aq0a",logModal:"logModal___24kgh",History1000Log:"History1000Log___2tNcS"}},zQST:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l={haveFeature(e,t){return!(!e||0===e.length)&&e.filter(e=>e.code===t).length>0}};t.default=l},zRno:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("q1tI")),s={getSvg(e,t,a){var l={addSvg:n.default.createElement("svg",{t:"1668670915612",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14252",width:t,height:t},n.default.createElement("path",{d:"M305.6 225.6c-17.6-17.6-43.2-17.6-59.2 0L19.2 460.8c-25.6 30.4-25.6 72 0 97.6l225.6 235.2c8 8 20.8 12.8 30.4 12.8s20.8-4.8 30.4-12.8c17.6-17.6 17.6-43.2 0-59.2L88 512l217.6-225.6c17.6-17.6 17.6-43.2 0-60.8zM1001.6 460.8L774.4 225.6c-17.6-17.6-43.2-17.6-59.2 0s-17.6 43.2 0 59.2L932.8 512 715.2 737.6c-17.6 17.6-17.6 43.2 0 59.2 8 8 17.6 12.8 30.4 12.8 12.8 0 20.8-4.8 30.4-12.8l225.6-235.2c28.8-28.8 28.8-70.4 0-100.8zM612.8 230.4c-20.8-8-46.4 4.8-56 25.6L382.4 742.4c-8 20.8 4.8 46.4 25.6 56 4.8 0 8 4.8 12.8 4.8 17.6 0 33.6-12.8 38.4-30.4l179.2-491.2c8-20.8-4.8-46.4-25.6-51.2z","p-id":"14253",fill:"#4e74ae"})),"7z":n.default.createElement("svg",{t:"1676010942108",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1603",width:t,height:t},n.default.createElement("path",{d:"M354.40128 0c-87.04 0-157.44 70.55872-157.44 157.59872v275.68128H78.72c-21.6576 0-39.36256 17.69984-39.36256 39.36256v236.31872c0 21.6576 17.69984 39.35744 39.36256 39.35744h118.24128v118.08256c0 87.04 70.4 157.59872 157.44 157.59872h472.63744c87.04 0 157.59872-70.55872 157.59872-157.59872V315.0336c0-41.74848-38.9888-81.93024-107.52-149.27872l-29.11744-29.12256L818.87744 107.52C751.5392 38.9888 711.39328 0 669.59872 0H354.4064z m0 78.72h287.20128c28.35456 7.0912 27.99616 42.1376 27.99616 76.8v120.16128c0 21.6576 17.69984 39.35744 39.36256 39.35744h118.07744c39.38816 0 78.87872-0.0256 78.87872 39.36256v512c0 43.32032-35.55328 78.87872-78.87872 78.87872H354.4064c-43.32544 0-78.72-35.5584-78.72-78.87872v-118.08256h393.91744c21.66272 0 39.36256-17.69472 39.36256-39.35744V472.64256c0-21.66272-17.69984-39.36256-39.36256-39.36256H275.68128V157.59872c0-43.32032 35.39456-78.87872 78.72-78.87872zM254.23872 507.36128h113.28v17.28l-67.2 158.39744h-23.04l68.16256-155.52H254.23872v-20.15744z m138.24 44.16h82.56v17.28l-62.39744 97.92h65.28v16.31744H388.63872v-15.36l64.32256-99.84H392.47872v-16.31744z","p-id":"1604"})),otherFile:n.default.createElement("svg",{t:"1676012048309",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1187",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#FFCA28","p-id":"1188"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#FFCA28","p-id":"1189"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#FFCA28","p-id":"1190"}),n.default.createElement("path",{d:"M294.855111 756.622222v-72.704h65.024v-38.144H294.855111v-41.728h75.776v-38.144H249.031111V756.622222zM449.479111 756.622222V565.902222h-45.824V756.622222zM613.319111 756.622222v-38.4H539.079111V565.902222h-45.824V756.622222zM769.991111 756.622222v-38.4h-77.824v-40.448h63.744v-38.4H692.167111v-35.328h75.008v-38.144h-120.832V756.622222z",fill:"#FFFFFF","p-id":"1191"})),jar:n.default.createElement("svg",{t:"1676012200084",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1348",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#FF4D4F","p-id":"1349"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#FF4D4F","p-id":"1350"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#FF4D4F","p-id":"1351"}),n.default.createElement("path",{d:"M330.097778 757.504c42.752 0 62.464-30.72 62.464-68.096V563.2H346.737778v122.624c0 24.832-7.936 32.256-22.784 32.256-9.216 0-18.944-5.888-25.6-18.944L267.377778 722.432c13.568 23.552 33.024 35.072 62.72 35.072zM525.169778 563.2l59.136 190.72h-48.128l-11.008-43.776h-56.32l-11.008 43.776h-46.592L470.385778 563.2h54.784z m-27.904 34.304h-1.024c-4.608 19.968-9.728 42.24-14.592 61.184l-4.096 16.128h38.912l-4.096-16.128c-5.12-18.944-9.984-41.728-15.104-61.184zM674.161778 563.2c40.704 0 74.496 14.08 74.496 60.16 0 27.904-13.056 45.824-32.768 55.04l42.496 75.52h-51.2l-35.072-67.072h-22.016v67.072h-45.824V563.2z m-3.584 36.352h-20.48v51.2h20.48c21.76 0 33.536-9.472 33.536-27.392 0-17.92-11.776-23.808-33.536-23.808z",fill:"#FFFFFF","p-id":"1352"})),py:n.default.createElement("svg",{t:"1676012249377",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1507",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#FFA940","p-id":"1508"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#FFA940","p-id":"1509"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#FFA940","p-id":"1510"}),n.default.createElement("path",{d:"M399.854933 756.622222v-63.232h22.272c40.448 0 75.264-19.968 75.264-65.28 0-47.104-34.56-62.208-76.288-62.208h-67.072V756.622222h45.824z m19.968-99.328h-19.968v-55.04h18.688c22.016 0 34.304 6.656 34.304 25.856 0 18.688-10.752 29.184-33.024 29.184zM608.500622 756.622222v-67.328l57.6-123.392h-47.872l-15.872 42.496c-5.376 14.336-10.501689 27.648-15.872 42.496h-1.024c-5.376-14.848-10.24-28.16-15.36-42.496l-15.872-42.496h-48.64l57.344 123.392V756.622222h45.568z",fill:"#FFFFFF","p-id":"1511"})),exe:n.default.createElement("svg",{t:"1676012266277",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1668",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#448AFF","p-id":"1669"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#448AFF","p-id":"1670"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#448AFF","p-id":"1671"}),n.default.createElement("path",{d:"M409.440711 756.622222v-38.4h-77.824v-40.448h63.749689v-38.4H331.611022v-35.328h75.013689v-38.144h-120.832V756.622222zM477.0304 756.622222l16.384-37.12c4.346311-9.984 8.704-19.968 13.050311-31.744h1.024c5.12 11.776 9.477689 21.76 14.085689 31.744L539.232711 756.622222h50.949689l-52.48-96 49.152-94.72h-48.384l-13.824 34.304a503.443911 503.443911 0 0 0-12.288 31.232h-1.024c-5.376-12.288-9.472-22.272-13.824-31.232l-15.36-34.304h-50.949689l49.413689 92.672L428.3904 756.622222h48.64zM738.912711 756.622222v-38.4h-77.824v-40.448h63.749689v-38.4h-63.749689v-35.328h75.013689v-38.144h-120.832V756.622222z",fill:"#FFFFFF","p-id":"1672"})),jpg:n.default.createElement("svg",{t:"1676012417349",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1829",width:t,height:t},n.default.createElement("path",{d:"M590.222222 79.644444L859.022222 347.943822V881.777778c0 37.700267-30.5664 68.266667-68.266666 68.266666H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266666V147.911111c0-37.700267 30.5664-68.266667 68.266666-68.266667h356.977778z m-11.764622 28.444445H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 147.911111v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799466L233.244444 921.6h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 881.777778V359.742578L578.4576 108.088889z",fill:"#EFCB35","p-id":"1830"}),n.default.createElement("path",{d:"M854.755556 376.337067h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V79.644444h28.444444v213.162667c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#EFCB35","p-id":"1831"}),n.default.createElement("path",{d:"M56.888889 494.933333m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#EFCB35","p-id":"1832"}),n.default.createElement("path",{d:"M330.581333 765.895111c42.752 0 62.464-30.72 62.464-68.096v-126.208h-45.824v122.624c0 24.832-7.936 32.256-22.784 32.256-9.216 0-18.944-5.888-25.6-18.944l-30.976 23.296c13.568 23.552 33.024 35.072 62.72 35.072z m151.04-3.584v-63.232h22.272c40.448 0 75.264-19.968 75.264-65.28 0-47.104-34.56-62.208-76.288-62.208h-67.072V762.311111h45.824z m19.968-99.328h-19.968v-55.04h18.688c22.016 0 34.304 6.656 34.304 25.856 0 18.688-10.752 29.184-33.024 29.184z m195.84 102.912c26.624 0 50.176-10.496 63.488-23.296v-89.088H690.005333v37.376h30.208v30.72c-4.096 3.072-11.264 4.864-17.92 4.864-35.584 0-52.48-22.016-52.48-59.904 0-37.12 20.224-59.136 48.384-59.136 15.872 0 25.856 6.4 35.328 14.848l24.064-29.184c-13.056-13.056-33.024-24.832-60.928-24.832-50.944 0-93.696 36.352-93.696 99.84 0 64.512 41.728 97.792 94.464 97.792z",fill:"#FFFFFF","p-id":"1833"})),jpeg:n.default.createElement("svg",{t:"1676012417349",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1829",width:t,height:t},n.default.createElement("path",{d:"M590.222222 79.644444L859.022222 347.943822V881.777778c0 37.700267-30.5664 68.266667-68.266666 68.266666H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266666V147.911111c0-37.700267 30.5664-68.266667 68.266666-68.266667h356.977778z m-11.764622 28.444445H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 147.911111v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799466L233.244444 921.6h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 881.777778V359.742578L578.4576 108.088889z",fill:"#EFCB35","p-id":"1830"}),n.default.createElement("path",{d:"M854.755556 376.337067h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V79.644444h28.444444v213.162667c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#EFCB35","p-id":"1831"}),n.default.createElement("path",{d:"M56.888889 494.933333m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#EFCB35","p-id":"1832"}),n.default.createElement("path",{d:"M330.581333 765.895111c42.752 0 62.464-30.72 62.464-68.096v-126.208h-45.824v122.624c0 24.832-7.936 32.256-22.784 32.256-9.216 0-18.944-5.888-25.6-18.944l-30.976 23.296c13.568 23.552 33.024 35.072 62.72 35.072z m151.04-3.584v-63.232h22.272c40.448 0 75.264-19.968 75.264-65.28 0-47.104-34.56-62.208-76.288-62.208h-67.072V762.311111h45.824z m19.968-99.328h-19.968v-55.04h18.688c22.016 0 34.304 6.656 34.304 25.856 0 18.688-10.752 29.184-33.024 29.184z m195.84 102.912c26.624 0 50.176-10.496 63.488-23.296v-89.088H690.005333v37.376h30.208v30.72c-4.096 3.072-11.264 4.864-17.92 4.864-35.584 0-52.48-22.016-52.48-59.904 0-37.12 20.224-59.136 48.384-59.136 15.872 0 25.856 6.4 35.328 14.848l24.064-29.184c-13.056-13.056-33.024-24.832-60.928-24.832-50.944 0-93.696 36.352-93.696 99.84 0 64.512 41.728 97.792 94.464 97.792z",fill:"#FFFFFF","p-id":"1833"})),pdf:n.default.createElement("svg",{t:"1676012464168",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1990",width:t,height:t},n.default.createElement("path",{d:"M590.222222 79.644444L859.022222 347.943822V881.777778c0 37.700267-30.5664 68.266667-68.266666 68.266666H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266666V147.911111c0-37.700267 30.5664-68.266667 68.266666-68.266667h356.977778z m-11.764622 28.444445H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 147.911111v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799466L233.244444 921.6h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 881.777778V359.742578L578.4576 108.088889z",fill:"#FF7875","p-id":"1991"}),n.default.createElement("path",{d:"M854.755556 376.337067h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V79.644444h28.444444v213.162667c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#FF7875","p-id":"1992"}),n.default.createElement("path",{d:"M56.888889 494.933333m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#FF7875","p-id":"1993"}),n.default.createElement("path",{d:"M318.435556 762.311111v-63.232h22.272c40.448 0 75.264-19.968 75.264-65.28 0-47.104-34.56-62.208-76.288-62.208H272.611556V762.311111h45.824z m19.968-99.328h-19.968v-55.04h18.688c22.016 0 34.304 6.656 34.304 25.856 0 18.688-10.752 29.184-33.024 29.184zM505.827556 762.311111c55.552 0 93.952-29.952 93.952-96.256 0-66.304-38.4-94.464-96.512-94.464h-54.784V762.311111h57.344z m-5.376-36.864h-6.144v-117.248h6.144c30.72 0 52.48 12.544 52.48 57.856s-21.76 59.392-52.48 59.392z m180.48 36.864v-72.704h65.024v-38.144h-65.024v-41.728h75.776v-38.144H635.107556V762.311111h45.824z",fill:"#FFFFFF","p-id":"1994"})),txt:n.default.createElement("svg",{t:"1676012482108",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2151",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#91D5FF","p-id":"2152"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#91D5FF","p-id":"2153"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#91D5FF","p-id":"2154"}),n.default.createElement("path",{d:"M371.615289 756.622222v-152.576h51.712v-38.144h-148.992v38.144h51.450311V756.622222h45.829689z m111.104 0l16.384-37.12c4.346311-9.984 8.704-19.968 13.050311-31.744h1.024c5.12 11.776 9.477689 21.76 14.085689 31.744L544.9216 756.622222h50.949689l-52.48-96 49.152-94.72h-48.384l-13.824 34.304a503.443911 503.443911 0 0 0-12.288 31.232h-1.024c-5.376-12.288-9.472-22.272-13.824-31.232l-15.36-34.304h-50.949689l49.413689 92.672L434.079289 756.622222h48.64z m220.928 0v-152.576h51.712v-38.144h-148.992v38.144h51.450311V756.622222h45.824z",fill:"#FFFFFF","p-id":"2155"})),zip:n.default.createElement("svg",{t:"1676012501198",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2312",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#9254DE","p-id":"2313"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#9254DE","p-id":"2314"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#9254DE","p-id":"2315"}),n.default.createElement("path",{d:"M452.124444 756.622222v-38.4h-82.944l82.176-124.672v-27.648H320.796444v38.144h74.24l-82.176 124.928V756.622222h139.264z m77.056 0V565.902222h-45.824V756.622222h45.824z m89.6 0v-63.232h22.272c40.448 0 75.264-19.968 75.264-65.28 0-47.104-34.56-62.208-76.288-62.208h-67.072V756.622222h45.824z m19.968-99.328h-19.968v-55.04h18.688c22.016 0 34.304 6.656 34.304 25.856 0 18.688-10.752 29.184-33.024 29.184z",fill:"#FFFFFF","p-id":"2316"})),xml:n.default.createElement("svg",{t:"1676012522689",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2471",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#FFC069","p-id":"2472"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#FFC069","p-id":"2473"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#FFC069","p-id":"2474"}),n.default.createElement("path",{d:"M293.916444 756.622222l16.384-37.12c4.352-9.984 8.704-19.968 13.056-31.744h1.024c5.12 11.776 9.472 21.76 14.08 31.744L356.124444 756.622222h50.944l-52.48-96 49.152-94.72h-48.384l-13.824 34.304a503.443911 503.443911 0 0 0-12.288 31.232h-1.024c-5.376-12.288-9.472-22.272-13.824-31.232l-15.36-34.304H248.092444l49.408 92.672L245.276444 756.622222h48.64z m179.2 0v-65.28c0-18.944-3.584-47.36-5.888-66.048h1.024l15.36 45.568 25.856 69.632h25.088l25.6-69.632 15.872-45.568h1.28c-2.56 18.688-6.144 47.104-6.144 66.048V756.622222h41.728V565.902222h-49.664l-29.184 82.432c-3.584 11.008-6.656 23.04-10.496 34.56h-1.28c-3.584-11.52-6.656-23.552-10.496-34.56l-30.208-82.432h-49.408V756.622222h40.96z m303.616 0v-38.4h-74.24V565.902222h-45.824V756.622222h120.064z",fill:"#FFFFFF","p-id":"2475"})),class:n.default.createElement("svg",{t:"1676012538762",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2630",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#7CB305","p-id":"2631"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#7CB305","p-id":"2632"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#7CB305","p-id":"2633"}),n.default.createElement("path",{d:"M201.824711 760.206222c24.837689 0 46.08-9.472 62.213689-28.16l-24.064-28.672c-8.96 9.728-20.992 17.408-36.352 17.408-26.885689 0-44.288-22.016-44.288-59.904 0-37.12 20.224-59.136 44.8-59.136 13.562311 0 23.552 6.144 33.28 14.848l23.802311-29.184c-13.050311-13.312-33.024-24.832-57.856-24.832-48.384 0-90.874311 36.352-90.874311 99.84 0 64.512 40.96 97.792 89.338311 97.792z m210.181689-3.584v-38.4h-74.24V565.902222h-45.824V756.622222h120.064z m55.546311 0l11.013689-43.776h56.32L545.883022 756.622222h48.128L534.8864 565.902222h-54.784L420.9664 756.622222h46.592z m58.629689-79.104h-38.912l4.096-16.128c4.864-18.944 9.978311-41.216 14.586311-61.184h1.024c5.12 19.456 9.984 42.24 15.104 61.184l4.096 16.128z m146.944 82.688c46.08 0 72.704-27.904 72.704-59.648 0-26.88-14.085689-42.752-37.637689-52.224l-23.802311-9.472c-16.896-6.656-28.672-10.752-28.672-21.504 0-9.984 8.442311-15.616 22.528-15.616 14.848 0 26.624 5.12 39.168 14.592l22.784-28.672c-16.64-16.64-39.936-25.088-61.952-25.088-40.448 0-69.12 25.6-69.12 57.6 0 27.648 18.688 44.288 38.656 52.224l24.32 10.24c16.384 6.912 26.88 10.496 26.88 21.504 0 10.24-7.936 16.64-24.832 16.64-15.109689 0-32.768-7.936-46.08-19.456l-26.112 31.488c19.712 18.176 46.330311 27.392 71.168 27.392z m163.578311 0c46.08 0 72.704-27.904 72.704-59.648 0-26.88-14.08-42.752-37.626311-52.224l-23.808-9.472c-16.896-6.656-28.672-10.752-28.672-21.504 0-9.984 8.442311-15.616 22.528-15.616 14.848 0 26.624 5.12 39.168 14.592l22.784-28.672c-16.64-16.64-39.936-25.088-61.952-25.088-40.448 0-69.12 25.6-69.12 57.6 0 27.648 18.688 44.288 38.650311 52.224l24.32 10.24c16.384 6.912 26.885689 10.496 26.885689 21.504 0 10.24-7.936 16.64-24.832 16.64-15.109689 0-32.768-7.936-46.08-19.456l-26.112 31.488c19.706311 18.176 46.330311 27.392 71.168 27.392z",fill:"#FFFFFF","p-id":"2634"})),doc:n.default.createElement("svg",{t:"1676012555326",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2789",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.770311 28.438755H233.244444a39.827911 39.827911 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689l-252.125867-251.659378z",fill:"#1890FF","p-id":"2790"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#1890FF","p-id":"2791"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#1890FF","p-id":"2792"}),n.default.createElement("path",{d:"M303.530667 756.622222c55.552 0 93.952-29.952 93.952-96.256 0-66.304-38.4-94.464-96.512-94.464h-54.784V756.622222h57.344z m-5.376-36.864h-6.144v-117.248h6.144c30.72 0 52.48 12.544 52.48 57.856s-21.76 59.392-52.48 59.392z m213.248 40.448c51.968 0 87.296-37.376 87.296-99.84 0-62.208-35.328-97.792-87.296-97.792-51.968 0-87.296 35.328-87.296 97.792s35.328 99.84 87.296 99.84z m0-39.424c-25.088 0-40.448-23.552-40.448-60.416 0-36.864 15.36-58.624 40.448-58.624s40.704 21.76 40.704 58.624c0 36.864-15.616 60.416-40.704 60.416z m203.264 39.424c24.832 0 46.08-9.472 62.208-28.16l-24.064-28.672c-8.96 9.728-20.992 17.408-36.352 17.408-26.88 0-44.288-22.016-44.288-59.904 0-37.12 20.224-59.136 44.8-59.136 13.568 0 23.552 6.144 33.28 14.848l23.808-29.184c-13.056-13.312-33.024-24.832-57.856-24.832-48.384 0-90.88 36.352-90.88 99.84 0 64.512 40.96 97.792 89.344 97.792z",fill:"#FFFFFF","p-id":"2793"})),docx:n.default.createElement("svg",{t:"1676012555326",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2789",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.770311 28.438755H233.244444a39.827911 39.827911 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689l-252.125867-251.659378z",fill:"#1890FF","p-id":"2790"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#1890FF","p-id":"2791"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#1890FF","p-id":"2792"}),n.default.createElement("path",{d:"M303.530667 756.622222c55.552 0 93.952-29.952 93.952-96.256 0-66.304-38.4-94.464-96.512-94.464h-54.784V756.622222h57.344z m-5.376-36.864h-6.144v-117.248h6.144c30.72 0 52.48 12.544 52.48 57.856s-21.76 59.392-52.48 59.392z m213.248 40.448c51.968 0 87.296-37.376 87.296-99.84 0-62.208-35.328-97.792-87.296-97.792-51.968 0-87.296 35.328-87.296 97.792s35.328 99.84 87.296 99.84z m0-39.424c-25.088 0-40.448-23.552-40.448-60.416 0-36.864 15.36-58.624 40.448-58.624s40.704 21.76 40.704 58.624c0 36.864-15.616 60.416-40.704 60.416z m203.264 39.424c24.832 0 46.08-9.472 62.208-28.16l-24.064-28.672c-8.96 9.728-20.992 17.408-36.352 17.408-26.88 0-44.288-22.016-44.288-59.904 0-37.12 20.224-59.136 44.8-59.136 13.568 0 23.552 6.144 33.28 14.848l23.808-29.184c-13.056-13.312-33.024-24.832-57.856-24.832-48.384 0-90.88 36.352-90.88 99.84 0 64.512 40.96 97.792 89.344 97.792z",fill:"#FFFFFF","p-id":"2793"})),html:n.default.createElement("svg",{t:"1676012576648",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2948",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#8C8C8C","p-id":"2949"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#8C8C8C","p-id":"2950"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#8C8C8C","p-id":"2951"}),n.default.createElement("path",{d:"M207.200711 756.622222v-78.336h62.725689V756.622222h45.568V565.902222h-45.568v72.704H207.195022v-72.704h-45.818311V756.622222zM442.2144 756.622222v-152.576h51.712v-38.144h-148.992v38.144h51.450311V756.622222zM564.3264 756.622222v-65.28c0-18.944-3.584-47.36-5.888-66.048h1.024l15.36 45.568 25.850311 69.632h25.088l25.6-69.632 15.872-45.568h1.28c-2.56 18.688-6.144 47.104-6.144 66.048V756.622222h41.728V565.902222h-49.664l-29.184 82.432c-3.584 11.008-6.656 23.04-10.490311 34.56h-1.28c-3.584-11.52-6.656-23.552-10.496-34.56l-30.208-82.432h-49.413689V756.622222h40.96zM867.936711 756.622222v-38.4h-74.24V565.902222h-45.818311V756.622222z",fill:"#FFFFFF","p-id":"2952"})),iso:n.default.createElement("svg",{t:"1676012595936",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3109",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#8592A5","p-id":"3110"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#8592A5","p-id":"3111"}),n.default.createElement("path",{d:"M79.644444 489.244444m28.444445 0l853.333333 0q28.444444 0 28.444445 28.444445l0 284.444444q0 28.444444-28.444445 28.444445l-853.333333 0q-28.444444 0-28.444445-28.444445l0-284.444444q0-28.444444 28.444445-28.444445Z",fill:"#8592A5","p-id":"3112"}),n.default.createElement("path",{d:"M372.548267 756.622222V565.902222h-45.818311V756.622222h45.818311z m102.912 3.584c46.08 0 72.704-27.904 72.704-59.648 0-26.88-14.08-42.752-37.626311-52.224l-23.808-9.472c-16.896-6.656-28.672-10.752-28.672-21.504 0-9.984 8.442311-15.616 22.528-15.616 14.848 0 26.624 5.12 39.168 14.592l22.784-28.672c-16.64-16.64-39.936-25.088-61.952-25.088-40.448 0-69.12 25.6-69.12 57.6 0 27.648 18.682311 44.288 38.650311 52.224l24.32 10.24c16.384 6.912 26.88 10.496 26.88 21.504 0 10.24-7.930311 16.64-24.832 16.64-15.098311 0-32.768-7.936-46.08-19.456l-26.112 31.488c19.717689 18.176 46.341689 27.392 71.168 27.392z m183.04 0c51.973689 0 87.301689-37.376 87.301689-99.84 0-62.208-35.328-97.792-87.301689-97.792-51.962311 0-87.290311 35.328-87.290311 97.792s35.328 99.84 87.290311 99.84z m0-39.424c-25.088 0-40.448-23.552-40.448-60.416 0-36.864 15.36-58.624 40.448-58.624s40.709689 21.76 40.709689 58.624c0 36.864-15.621689 60.416-40.709689 60.416z",fill:"#FFFFFF","p-id":"3113"})),js:n.default.createElement("svg",{t:"1676012611859",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3268",width:t,height:t},n.default.createElement("path",{d:"M590.222222 79.644444L859.022222 347.943822V881.777778c0 37.700267-30.5664 68.266667-68.266666 68.266666H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266666V147.911111c0-37.700267 30.5664-68.266667 68.266666-68.266667h356.977778z m-11.764622 28.444445H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 147.911111v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799466L233.244444 921.6h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 881.777778V359.742578L578.4576 108.088889z",fill:"#08979C","p-id":"3269"}),n.default.createElement("path",{d:"M854.755556 376.337067h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V79.644444h28.444444v213.162667c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#08979C","p-id":"3270"}),n.default.createElement("path",{d:"M56.888889 494.933333m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#08979C","p-id":"3271"}),n.default.createElement("path",{d:"M424.863289 765.895111c42.746311 0 62.464-30.72 62.464-68.096v-126.208h-45.824v122.624c0 24.832-7.936 32.256-22.784 32.256-9.216 0-18.944-5.888-25.6-18.944l-30.976 23.296c13.568 23.552 33.024 35.072 62.72 35.072zM589.215289 765.895111c46.08 0 72.704-27.904 72.704-59.648 0-26.88-14.08-42.752-37.632-52.224l-23.813689-9.472c-16.896-6.656-28.672-10.752-28.672-21.504 0-9.984 8.453689-15.616 22.528-15.616 14.848 0 26.624 5.12 39.173689 14.592l22.778311-28.672c-16.634311-16.64-39.936-25.088-61.952-25.088-40.448 0-69.12 25.6-69.12 57.6 0 27.648 18.688 44.288 38.661689 52.224l24.32 10.24c16.384 6.912 26.88 10.496 26.88 21.504 0 10.24-7.936 16.64-24.832 16.64-15.109689 0-32.768-7.936-46.08-19.456l-26.112 31.488c19.712 18.176 46.330311 27.392 71.168 27.392z",fill:"#FFFFFF","p-id":"3272"})),sql:n.default.createElement("svg",{t:"1676012625686",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3429",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#85A5FF","p-id":"3430"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#85A5FF","p-id":"3431"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#85A5FF","p-id":"3432"}),n.default.createElement("path",{d:"M334.210844 737.450667c46.08 0 72.704-27.904 72.704-59.648 0-26.88-14.085689-42.752-37.637688-52.224l-23.808-9.472c-16.896-6.656-28.672-10.752-28.672-21.504 0-9.984 8.453689-15.616 22.528-15.616 14.848 0 26.624 5.12 39.173688 14.592l22.778312-28.672c-16.64-16.64-39.936-25.088-61.952-25.088-40.448 0-69.12 25.6-69.12 57.6 0 27.648 18.688 44.288 38.656 52.224l24.325688 10.24c16.384 6.912 26.874311 10.496 26.874312 21.504 0 10.24-7.936 16.64-24.826312 16.64-15.104 0-32.768-7.936-46.08-19.456l-26.112 31.488c19.712 18.176 46.336 27.392 71.168 27.392z m246.522312 50.176c15.109689 0 27.397689-2.56 34.816-6.4l-8.192-33.28c-5.882311 2.048-13.312 3.584-21.504 3.584-15.36 0-32.512-4.864-41.216-17.92 36.613689-11.264 59.904-45.312 59.904-96 0-62.208-35.328-97.792-87.290312-97.792-51.973689 0-87.301689 35.328-87.301688 97.792 0 53.76 26.112 88.832 66.56 97.792 13.824 30.464 42.757689 52.224 84.224 52.224z m-63.488-87.552c-25.088 0-40.448-22.784-40.448-62.464 0-36.864 15.36-58.624 40.448-58.624s40.709689 21.76 40.709688 58.624c0 39.68-15.621689 62.464-40.709688 62.464z m242.688 33.792v-38.4h-74.24V543.146667h-45.818312V733.866667h120.064z",fill:"#FFFFFF","p-id":"3433"})),md:n.default.createElement("svg",{t:"1676012644708",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3590",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#20B2AA","p-id":"3591"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#20B2AA","p-id":"3592"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#20B2AA","p-id":"3593"}),n.default.createElement("path",{d:"M366.563556 756.622222v-65.28c0-18.944-3.584-47.36-5.888-66.048h1.024l15.36 45.568 25.856 69.632h25.088l25.6-69.632 15.872-45.568h1.28c-2.56 18.688-6.144 47.104-6.144 66.048V756.622222h41.728V565.902222h-49.664l-29.184 82.432c-3.584 11.008-6.656 23.04-10.496 34.56h-1.28c-3.584-11.52-6.656-23.552-10.496-34.56l-30.208-82.432h-49.408V756.622222h40.96z m240.896 0c55.552 0 93.952-29.952 93.952-96.256 0-66.304-38.4-94.464-96.512-94.464H550.115556V756.622222h57.344z m-5.376-36.864h-6.144v-117.248h6.144c30.72 0 52.48 12.544 52.48 57.856s-21.76 59.392-52.48 59.392z",fill:"#FFFFFF","p-id":"3594"})),mp4:n.default.createElement("svg",{t:"1676012661784",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3749",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#597EF7","p-id":"3750"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#597EF7","p-id":"3751"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#597EF7","p-id":"3752"}),n.default.createElement("path",{d:"M291.145956 756.622222v-65.28c0-18.944-3.584-47.36-5.888-66.048h1.024l15.36 45.568 25.850311 69.632h25.088l25.6-69.632 15.872-45.568h1.285689c-2.56 18.688-6.144 47.104-6.144 66.048V756.622222h41.728V565.902222h-49.664l-29.184 82.432c-3.584 11.008-6.656 23.04-10.501689 34.56h-1.274311c-3.584-11.52-6.656-23.552-10.501689-34.56l-30.208-82.432h-49.402311V756.622222h40.96zM541.769956 565.902222c41.722311 0 76.288 15.104 76.288 62.208 0 45.312-34.816 65.28-75.264 65.28h-22.272V756.622222h-45.829689V565.902222z m-2.56 36.352h-18.688v55.04h19.968c22.272 0 33.024-10.496 33.024-29.184 0-19.2-12.288-25.856-34.304-25.856zM756.804267 756.622222v-43.264h20.992v-34.816h-20.992V570.766222h-56.32l-66.298311 110.848v31.744h80.128V756.622222z",fill:"#FFFFFF","p-id":"3753"}),n.default.createElement("path",{d:"M714.313956 678.542222h-36.613689l21.765689-37.376c5.370311-11.008 10.490311-21.504 15.36-32.256h1.024c-0.512 12.032-1.536 30.464-1.536 42.496v27.136z",fill:"#FFFFFF","p-id":"3754"})),dockerfile:n.default.createElement("svg",{t:"1676012678998",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3909",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#40A9FF","p-id":"3910"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#40A9FF","p-id":"3911"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#40A9FF","p-id":"3912"}),n.default.createElement("path",{d:"M126.896356 705.422222c29.240889 0 49.4592-15.189333 49.4592-48.810666S156.142933 608.711111 125.553778 608.711111H96.711111v96.711111h30.185245z m-3.851378-17.066666H119.466667v-56.888889h3.578311c17.885867 0 30.555022 6.087111 30.555022 28.068977C153.6 681.528889 140.930844 688.355556 123.044978 688.355556z m107.355022 22.755555c25.400889 0 42.666667-19.364978 42.666667-51.729067 0-32.233244-17.265778-50.670933-42.666667-50.670933s-42.666667 18.306844-42.666667 50.670933S204.999111 711.111111 230.4 711.111111z m2.770489-22.755555c-14.068622 0-22.6816-11.252622-22.6816-28.871112 0-17.618489 8.612978-28.017778 22.6816-28.017777 14.074311 0 22.829511 10.399289 22.829511 28.017777 0 17.618489-8.760889 28.871111-22.829511 28.871112z m103.913244 22.755555c13.050311 0 24.2176-4.909511 32.694045-14.592l-12.6464-14.853689c-4.7104 5.040356-11.036444 9.016889-19.103289 9.016889-14.125511 0-23.273244-11.406222-23.273245-31.038578 0-19.228444 10.626844-30.640356 23.540623-30.640355 7.133867 0 12.379022 3.185778 17.493333 7.697066l12.509867-15.121066c-6.8608-6.900622-17.351111-12.868267-30.407111-12.868267-25.429333 0-47.758222 18.830222-47.758223 51.729067 0 33.427911 21.526756 50.670933 46.9504 50.670933z m68.278045-5.688889v-25.315555l10.9568-14.279111 23.802311 39.594666H466.488889l-36.107378-57.895822L460.811378 608.711111h-26.510222l-28.535467 38.2976h-0.398222V608.711111H381.155556v96.711111h24.206222zM540.444444 705.422222v-19.473066h-39.384177v-20.508445h32.256v-19.473067h-32.256V628.053333h37.956266V608.711111H477.866667v96.711111h62.577777z m52.127289 0v-34.013866h11.377778l18.1248 34.013866H648.533333l-21.959111-38.2976c10.183111-4.670578 16.930133-13.755733 16.930134-27.909689 0-23.364267-17.464889-30.503822-38.496712-30.503822H568.888889v96.711111h23.682844z m9.858845-45.511111H591.644444v-28.444444h10.786134c11.457422 0 17.658311 3.271111 17.658311 13.226666 0 9.955556-6.200889 15.217778-17.658311 15.217778z m81.066666 45.511111v-36.864h33.456356v-19.342222h-33.462044v-21.162667H722.488889V608.711111h-62.577778v96.711111h23.580445zM762.311111 705.422222v-96.711111h-22.755555v96.711111h22.755555z m79.644445 0v-19.473066h-35.1744V608.711111H785.066667v96.711111h56.888889z m91.022222 0v-19.473066h-39.384178v-20.508445h32.256v-19.473067h-32.256V628.053333h37.956267V608.711111H870.4v96.711111h62.577778z",fill:"#FFFFFF","p-id":"3913"})),json:n.default.createElement("svg",{t:"1676012710403",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4070",width:t,height:t},n.default.createElement("path",{d:"M590.222222 79.644444L859.022222 347.943822V881.777778c0 37.700267-30.5664 68.266667-68.266666 68.266666H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266666V147.911111c0-37.700267 30.5664-68.266667 68.266666-68.266667h356.977778z m-11.764622 28.444445H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 147.911111v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799466L233.244444 921.6h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 881.777778V359.742578L578.4576 108.088889z",fill:"#A0D911","p-id":"4071"}),n.default.createElement("path",{d:"M854.755556 376.337067h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V79.644444h28.444444v213.162667c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#A0D911","p-id":"4072"}),n.default.createElement("path",{d:"M56.888889 494.933333m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#A0D911","p-id":"4073"}),n.default.createElement("path",{d:"M234.990933 765.895111c42.752 0 62.464-30.72 62.464-68.096v-126.208h-45.818311v122.624c0 24.832-7.936 32.256-22.784 32.256-9.216 0-18.944-5.888-25.6-18.944l-30.981689 23.296c13.568 23.552 33.024 35.072 62.72 35.072zM399.348622 765.895111c46.08 0 72.704-27.904 72.704-59.648 0-26.88-14.08-42.752-37.632-52.224l-23.813689-9.472c-16.896-6.656-28.672-10.752-28.672-21.504 0-9.984 8.453689-15.616 22.528-15.616 14.848 0 26.624 5.12 39.173689 14.592l22.778311-28.672c-16.634311-16.64-39.936-25.088-61.952-25.088-40.448 0-69.12 25.6-69.12 57.6 0 27.648 18.688 44.288 38.661689 52.224l24.32 10.24c16.384 6.912 26.88 10.496 26.88 21.504 0 10.24-7.936 16.64-24.832 16.64-15.109689 0-32.768-7.936-46.08-19.456l-26.112 31.488c19.712 18.176 46.330311 27.392 71.168 27.392zM582.388622 568.263111c51.962311 0 87.290311 35.584 87.290311 97.792 0 62.464-35.328 99.84-87.290311 99.84-51.973689 0-87.301689-37.376-87.301689-99.84s35.328-97.792 87.301689-97.792z m0 39.168c-25.088 0-40.448 21.76-40.448 58.624 0 36.864 15.36 60.416 40.448 60.416s40.698311-23.552 40.698311-60.416c0-36.864-15.616-58.624-40.698311-58.624zM748.526933 762.311111v-63.232c0-23.04-3.834311-49.152-5.888-70.4h1.285689l18.688 41.728 47.104 91.904h46.592v-190.72h-43.52v63.232c0 22.784 3.84 50.176 6.144 70.4h-1.285689l-18.688-42.24-47.36-91.392h-46.592V762.311111h43.52z",fill:"#FFFFFF","p-id":"4074"})),java:n.default.createElement("svg",{t:"1676012736309",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4229",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#ED5F38","p-id":"4230"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#ED5F38","p-id":"4231"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#ED5F38","p-id":"4232"}),n.default.createElement("path",{d:"M250.453333 757.504c42.752 0 62.464-30.72 62.464-68.096V563.2H267.093333v122.624c0 24.832-7.936 32.256-22.784 32.256-9.216 0-18.944-5.888-25.6-18.944L187.733333 722.432c13.568 23.552 33.024 35.072 62.72 35.072zM445.525333 563.2l59.136 190.72h-48.128l-11.008-43.776h-56.32l-11.008 43.776h-46.592L390.741333 563.2h54.784z m-27.904 34.304h-1.024c-4.608 19.968-9.728 42.24-14.592 61.184l-4.096 16.128h38.912l-4.096-16.128c-5.12-18.944-9.984-41.728-15.104-61.184zM612.437333 753.92L669.525333 563.2h-46.592l-21.504 87.04c-5.376 20.48-9.216 39.936-14.848 60.928h-1.28c-5.376-20.992-9.216-40.448-14.848-60.928L548.693333 563.2h-48.384l57.088 190.72h55.04zM779.093333 563.2l59.136 190.72h-48.128l-11.008-43.776h-56.32l-11.008 43.776h-46.592L724.309333 563.2h54.784z m-27.904 34.304h-1.024c-4.608 19.968-9.728 42.24-14.592 61.184l-4.096 16.128h38.912l-4.096-16.128c-5.12-18.944-9.984-41.728-15.104-61.184z",fill:"#FFFFFF","p-id":"4233"})),yml:n.default.createElement("svg",{t:"1676012746031",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4388",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#5CDBD3","p-id":"4389"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#5CDBD3","p-id":"4390"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#5CDBD3","p-id":"4391"}),n.default.createElement("path",{d:"M354.520178 756.622222v-67.328l57.594311-123.392h-47.866311l-15.872 42.496c-5.381689 14.336-10.501689 27.648-15.872 42.496h-1.024c-5.381689-14.848-10.24-28.16-15.36-42.496l-15.872-42.496h-48.64l57.344 123.392V756.622222h45.568z m118.016 0v-65.28c0-18.944-3.584-47.36-5.888-66.048h1.024l15.36 45.568 25.850311 69.632h25.088l25.6-69.632 15.872-45.568h1.28c-2.56 18.688-6.144 47.104-6.144 66.048V756.622222h41.728V565.902222h-49.664l-29.184 82.432c-3.584 11.008-6.656 23.04-10.496 34.56h-1.28c-3.584-11.52-6.656-23.552-10.490311-34.56l-30.208-82.432h-49.413689V756.622222h40.96z m303.616 0v-38.4h-74.24V565.902222h-45.824V756.622222h120.064z",fill:"#FFFFFF","p-id":"4392"})),yaml:n.default.createElement("svg",{t:"1676012746031",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4388",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#5CDBD3","p-id":"4389"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#5CDBD3","p-id":"4390"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#5CDBD3","p-id":"4391"}),n.default.createElement("path",{d:"M354.520178 756.622222v-67.328l57.594311-123.392h-47.866311l-15.872 42.496c-5.381689 14.336-10.501689 27.648-15.872 42.496h-1.024c-5.381689-14.848-10.24-28.16-15.36-42.496l-15.872-42.496h-48.64l57.344 123.392V756.622222h45.568z m118.016 0v-65.28c0-18.944-3.584-47.36-5.888-66.048h1.024l15.36 45.568 25.850311 69.632h25.088l25.6-69.632 15.872-45.568h1.28c-2.56 18.688-6.144 47.104-6.144 66.048V756.622222h41.728V565.902222h-49.664l-29.184 82.432c-3.584 11.008-6.656 23.04-10.496 34.56h-1.28c-3.584-11.52-6.656-23.552-10.490311-34.56l-30.208-82.432h-49.413689V756.622222h40.96z m303.616 0v-38.4h-74.24V565.902222h-45.824V756.622222h120.064z",fill:"#FFFFFF","p-id":"4392"})),ppt:n.default.createElement("svg",{t:"1676012787981",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4549",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#FF7A45","p-id":"4550"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#FF7A45","p-id":"4551"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#FF7A45","p-id":"4552"}),n.default.createElement("path",{d:"M313.514667 756.622222v-63.232h22.272c40.448 0 75.264-19.968 75.264-65.28 0-47.104-34.56-62.208-76.288-62.208h-67.072V756.622222h45.824z m19.968-99.328h-19.968v-55.04h18.688c22.016 0 34.304 6.656 34.304 25.856 0 18.688-10.752 29.184-33.024 29.184zM489.386667 756.622222v-63.232h22.272c40.448 0 75.264-19.968 75.264-65.28 0-47.104-34.56-62.208-76.288-62.208H443.562667V756.622222h45.824z m19.968-99.328h-19.968v-55.04h18.688c22.016 0 34.304 6.656 34.304 25.856 0 18.688-10.752 29.184-33.024 29.184zM702.122667 756.622222v-152.576h51.712v-38.144h-148.992v38.144h51.456V756.622222h45.824z",fill:"#FFFFFF","p-id":"4553"})),xls:n.default.createElement("svg",{t:"1676012827087",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4710",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#73D13D","p-id":"4711"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#73D13D","p-id":"4712"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#73D13D","p-id":"4713"}),n.default.createElement("path",{d:"M327.224889 756.622222l16.384-37.12c4.352-9.984 8.704-19.968 13.056-31.744h1.024c5.12 11.776 9.472 21.76 14.08 31.744L389.432889 756.622222h50.944l-52.48-96 49.152-94.72H388.664889l-13.824 34.304a503.443911 503.443911 0 0 0-12.288 31.232h-1.024c-5.376-12.288-9.472-22.272-13.824-31.232l-15.36-34.304h-50.944l49.408 92.672L278.584889 756.622222h48.64z m258.304 0v-38.4h-74.24V565.902222H465.464889V756.622222h120.064z m92.16 3.584c46.08 0 72.704-27.904 72.704-59.648 0-26.88-14.08-42.752-37.632-52.224l-23.808-9.472c-16.896-6.656-28.672-10.752-28.672-21.504 0-9.984 8.448-15.616 22.528-15.616 14.848 0 26.624 5.12 39.168 14.592l22.784-28.672c-16.64-16.64-39.936-25.088-61.952-25.088-40.448 0-69.12 25.6-69.12 57.6 0 27.648 18.688 44.288 38.656 52.224l24.32 10.24c16.384 6.912 26.88 10.496 26.88 21.504 0 10.24-7.936 16.64-24.832 16.64-15.104 0-32.768-7.936-46.08-19.456l-26.112 31.488c19.712 18.176 46.336 27.392 71.168 27.392z",fill:"#FFFFFF","p-id":"4714"})),gitignore:n.default.createElement("svg",{t:"1676012847517",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4871",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#FA541C","p-id":"4872"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#FA541C","p-id":"4873"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#FA541C","p-id":"4874"}),n.default.createElement("path",{d:"M156.836978 716.8c15.342933 0 28.916622-6.0416 36.585244-13.4144v-51.285333h-40.863289v21.515377h17.408v17.692445c-2.360889 1.763556-6.491022 2.793244-10.325333 2.793244-20.508444 0-30.242133-12.674844-30.242133-34.486044 0-21.367467 11.650844-34.042311 27.875555-34.042311 9.147733 0 14.904889 3.680711 20.366222 8.544711l13.863823-16.799289C183.978667 609.803378 172.475733 603.022222 156.387556 603.022222c-29.354667 0-53.993244 20.929422-53.993245 57.480534 0 37.137067 24.046933 56.297244 54.436978 56.297244zM244.622222 711.111111v-108.088889h-34.133333v108.088889h34.133333z m69.063111 0v-86.471111H341.333333V603.022222H261.688889v21.617778h27.505778V711.111111h24.496355zM392.533333 711.111111v-108.088889h-34.133333v108.088889h34.133333z m65.814756 5.688889c15.342933 0 28.916622-6.0416 36.585244-13.4144v-51.285333h-40.863289v21.515377h17.408v17.692445c-2.360889 1.763556-6.491022 2.793244-10.325333 2.793244-20.508444 0-30.242133-12.674844-30.242133-34.486044 0-21.367467 11.650844-34.042311 27.875555-34.042311 9.147733 0 14.904889 3.680711 20.366223 8.544711l13.863822-16.799289C485.489778 609.803378 473.986844 603.022222 457.898667 603.022222c-29.354667 0-53.993244 20.929422-53.993245 57.480534 0 37.137067 24.046933 56.297244 54.436978 56.297244z m87.938844-5.688889v-35.84c0-13.056-2.019556-27.8528-3.100444-39.896178h0.676978l9.836089 23.648711 24.797866 52.087467H603.022222v-108.088889h-22.909155v35.84c0 12.913778 2.019556 28.433067 3.231289 39.896178h-0.671289l-9.841778-23.938844L547.908267 603.022222H523.377778v108.088889h22.909155zM676.977778 716.8c30.481067 0 51.2-21.515378 51.2-57.480533 0-35.811556-20.718933-56.297244-51.2-56.297245-30.481067 0-51.2 20.337778-51.2 56.297245 0 35.965156 20.718933 57.480533 51.2 57.480533z m2.7648-22.755556c-15.832178 0-25.520356-12.379022-25.520356-31.761066 0-19.376356 9.688178-30.816711 25.520356-30.816711 15.826489 0 25.679644 11.434667 25.679644 30.816711S695.569067 694.044444 679.742578 694.044444z m92.563911 17.066667v-38.013155h13.0048l20.713244 38.013155H836.266667l-25.099378-42.797511c11.645156-5.228089 19.3536-15.382756 19.3536-31.197867 0-26.112-19.956622-34.093511-43.997867-34.093511H745.244444v108.088889h27.062045z m16.480711-51.2H773.688889v-34.133333h15.098311c16.042667 0 24.723911 3.925333 24.723911 15.872s-8.681244 18.261333-24.723911 18.261333zM921.6 711.111111v-21.765689h-42.968178v-22.920533h35.197156v-21.765689h-35.197156V624.64h41.415111V603.022222H853.333333v108.088889h68.266667z",fill:"#FFFFFF","p-id":"4875"})),css:n.default.createElement("svg",{t:"1676012959645",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5032",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#69C0FF","p-id":"5033"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#69C0FF","p-id":"5034"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#69C0FF","p-id":"5035"}),n.default.createElement("path",{d:"M362.410667 760.832c24.832 0 46.08-9.472 62.208-28.16l-24.064-28.672c-8.96 9.728-20.992 17.408-36.352 17.408-26.88 0-44.288-22.016-44.288-59.904 0-37.12 20.224-59.136 44.8-59.136 13.568 0 23.552 6.144 33.28 14.848l23.808-29.184C408.746667 574.72 388.778667 563.2 363.946667 563.2 315.562667 563.2 273.066667 599.552 273.066667 663.04c0 64.512 40.96 97.792 89.344 97.792zM511.658667 760.832c46.08 0 72.704-27.904 72.704-59.648 0-26.88-14.08-42.752-37.632-52.224l-23.808-9.472c-16.896-6.656-28.672-10.752-28.672-21.504 0-9.984 8.448-15.616 22.528-15.616 14.848 0 26.624 5.12 39.168 14.592l22.784-28.672C562.090667 571.648 538.794667 563.2 516.778667 563.2c-40.448 0-69.12 25.6-69.12 57.6 0 27.648 18.688 44.288 38.656 52.224l24.32 10.24c16.384 6.912 26.88 10.496 26.88 21.504 0 10.24-7.936 16.64-24.832 16.64-15.104 0-32.768-7.936-46.08-19.456l-26.112 31.488c19.712 18.176 46.336 27.392 71.168 27.392zM675.242667 760.832c46.08 0 72.704-27.904 72.704-59.648 0-26.88-14.08-42.752-37.632-52.224l-23.808-9.472c-16.896-6.656-28.672-10.752-28.672-21.504 0-9.984 8.448-15.616 22.528-15.616 14.848 0 26.624 5.12 39.168 14.592l22.784-28.672c-16.64-16.64-39.936-25.088-61.952-25.088-40.448 0-69.12 25.6-69.12 57.6 0 27.648 18.688 44.288 38.656 52.224l24.32 10.24c16.384 6.912 26.88 10.496 26.88 21.504 0 10.24-7.936 16.64-24.832 16.64-15.104 0-32.768-7.936-46.08-19.456l-26.112 31.488c19.712 18.176 46.336 27.392 71.168 27.392z",fill:"#FFFFFF","p-id":"5036"})),mp3:n.default.createElement("svg",{t:"1676012985078",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5193",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#B37FEB","p-id":"5194"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#B37FEB","p-id":"5195"}),n.default.createElement("path",{d:"M56.888889 489.244444m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444445l-853.333334 0q-28.444444 0-28.444444-28.444445l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#B37FEB","p-id":"5196"}),n.default.createElement("path",{d:"M291.145956 750.933333v-65.28c0-18.944-3.584-47.36-5.888-66.048h1.024l15.36 45.568 25.850311 69.632h25.088l25.6-69.632 15.872-45.568h1.285689c-2.56 18.688-6.144 47.104-6.144 66.048V750.933333h41.728V560.213333h-49.664l-29.184 82.432c-3.584 11.008-6.656 23.04-10.501689 34.56h-1.274311c-3.584-11.52-6.656-23.552-10.501689-34.56l-30.208-82.432h-49.402311V750.933333h40.96zM541.769956 560.213333c41.722311 0 76.288 15.104 76.288 62.208 0 45.312-34.816 65.28-75.264 65.28h-22.272V750.933333h-45.829689V560.213333z m-2.56 36.352h-18.688v55.04h19.968c22.272 0 33.024-10.496 33.024-29.184 0-19.2-12.288-25.856-34.304-25.856zM699.977956 754.517333c37.888 0 70.394311-19.456 70.394311-54.272 0-23.808-15.610311-38.912-36.608-45.056v-1.28c19.968-8.448 30.469689-22.272 30.469689-40.96 0-32.768-25.861689-51.456-65.28-51.456-22.528 0-41.472 9.216-59.136 23.808l23.04 27.904c11.52-10.24 21.242311-16.128 34.042311-16.128 14.085689 0 21.765689 6.912 21.765689 19.456 0 13.824-10.24 23.552-42.757689 23.552v32.256c39.936 0 48.64 9.216 48.64 24.832 0 13.312-11.514311 20.48-29.184 20.48-14.848 0-28.16-7.68-39.68-18.432l-20.992 28.672c13.824 16.128 35.077689 26.624 65.285689 26.624z",fill:"#FFFFFF","p-id":"5197"})),png:n.default.createElement("svg",{t:"1676012996575",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5350",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#0075D5","p-id":"5351"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#0075D5","p-id":"5352"}),n.default.createElement("path",{d:"M56.888889 506.311111m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444444l-853.333334 0q-28.444444 0-28.444444-28.444444l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#0075D5","p-id":"5353"}),n.default.createElement("path",{d:"M251.619556 762.311111h45.824v-63.232H319.715556c40.448 0 75.264-19.968 75.264-65.28 0-47.104-34.56-62.208-76.288-62.208H251.619556V762.311111z m45.824-99.328v-55.04h18.688c22.016 0 34.304 6.656 34.304 25.856 0 18.688-10.752 29.184-33.024 29.184h-19.968zM427.491556 762.311111h43.52v-63.232c0-23.04-3.84-49.152-5.888-70.4h1.28l18.688 41.728L532.195556 762.311111h46.592v-190.72h-43.52v63.232c0 22.784 3.84 50.176 6.144 70.4h-1.28l-18.688-42.24-47.36-91.392h-46.592V762.311111zM708.835556 765.895111c26.624 0 50.176-10.496 63.488-23.296v-89.088h-70.912v37.376h30.208v30.72c-4.096 3.072-11.264 4.864-17.92 4.864-35.584 0-52.48-22.016-52.48-59.904 0-37.12 20.224-59.136 48.384-59.136 15.872 0 25.856 6.4 35.328 14.848l24.064-29.184c-13.056-13.056-33.024-24.832-60.928-24.832-50.944 0-93.696 36.352-93.696 99.84 0 64.512 41.728 97.792 94.464 97.792z",fill:"#FFFFFF","p-id":"5354"})),svg:n.default.createElement("svg",{t:"1676013011709",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5507",width:t,height:t},n.default.createElement("path",{d:"M590.222222 73.955556L859.022222 342.254933V876.088889c0 37.700267-30.5664 68.266667-68.266666 68.266667H233.244444c-37.700267 0-68.266667-30.5664-68.266666-68.266667V142.222222c0-37.700267 30.5664-68.266667 68.266666-68.266666h356.977778z m-11.764622 28.444444H233.244444a39.822222 39.822222 0 0 0-39.799466 38.456889L193.422222 142.222222v733.866667a39.822222 39.822222 0 0 0 38.456889 39.799467L233.244444 915.911111h557.511112a39.822222 39.822222 0 0 0 39.799466-38.456889L830.577778 876.088889V354.053689L578.4576 102.4z",fill:"#426C8D","p-id":"5508"}),n.default.createElement("path",{d:"M854.755556 370.648178h-215.1424c-45.528178 0-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V73.955556h28.444444v213.162666c0 29.895111 23.819378 54.232178 53.515378 55.062756l1.564445 0.022755h215.1424v28.444445z",fill:"#426C8D","p-id":"5509"}),n.default.createElement("path",{d:"M56.888889 506.311111m28.444444 0l853.333334 0q28.444444 0 28.444444 28.444445l0 284.444444q0 28.444444-28.444444 28.444444l-853.333334 0q-28.444444 0-28.444444-28.444444l0-284.444444q0-28.444444 28.444444-28.444445Z",fill:"#426C8D","p-id":"5510"}),n.default.createElement("path",{d:"M332.384711 765.895111c46.08 0 72.704-27.904 72.704-59.648 0-26.88-14.074311-42.752-37.626311-52.224l-23.813689-9.472c-16.896-6.656-28.672-10.752-28.672-21.504 0-9.984 8.453689-15.616 22.528-15.616 14.848 0 26.624 5.12 39.173689 14.592l22.784-28.672c-16.645689-16.64-39.936-25.088-61.952-25.088-40.448 0-69.12 25.6-69.12 57.6 0 27.648 18.688 44.288 38.656 52.224l24.32 10.24c16.384 6.912 26.88 10.496 26.88 21.504 0 10.24-7.936 16.64-24.832 16.64-15.104 0-32.768-7.936-46.08-19.456l-26.112 31.488c19.706311 18.176 46.330311 27.392 71.168 27.392zM469.600711 762.311111h55.04l57.093689-190.72h-46.592l-21.504 87.04c-5.381689 20.48-9.216 39.936-14.848 60.928h-1.285689c-5.376-20.992-9.216-40.448-14.848-60.928l-21.76-87.04h-48.384L469.600711 762.311111zM687.200711 765.895111c26.624 0 50.176-10.496 63.488-23.296v-89.088h-70.912v37.376h30.208v30.72c-4.096 3.072-11.264 4.864-17.92 4.864-35.584 0-52.48-22.016-52.48-59.904 0-37.12 20.224-59.136 48.384-59.136 15.872 0 25.856 6.4 35.328 14.848l24.064-29.184c-13.056-13.056-33.024-24.832-60.928-24.832-50.944 0-93.696 36.352-93.696 99.84 0 64.512 41.728 97.792 94.464 97.792z",fill:"#FFFFFF","p-id":"5511"})),file:n.default.createElement("svg",{t:"1676013644856",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9011",width:t,height:t},n.default.createElement("path",{d:"M848.8576 199.1936H415.7568c0-26.5728-21.5424-48.128-48.128-48.128H175.1424c-26.5728 0-48.128 21.5424-48.128 48.128V343.5648c0 26.5984 21.5424 48.1408 48.128 48.1408h673.728c26.5728 0 48.128-21.5424 48.128-48.1408v-96.2432c-0.0128-26.5856-21.5552-48.128-48.1408-48.128z",fill:"#CCA352","p-id":"9012"}),n.default.createElement("path",{d:"M800.7424 247.3088H223.2576c-26.5728 0-48.128 21.5424-48.128 48.128v48.128c0 26.5984 21.5424 48.1408 48.128 48.1408h577.472c26.5728 0 48.128-21.5424 48.128-48.1408v-48.128c0-26.5728-21.5424-48.128-48.1152-48.128z",fill:"#FFFFFF","p-id":"9013"}),n.default.createElement("path",{d:"M848.8576 295.4368H175.1424c-26.5728 0-48.128 21.5424-48.128 48.128v481.2544c0 26.5472 21.5424 48.128 48.128 48.128h673.728c26.5728 0 48.128-21.568 48.128-48.128V343.552c-0.0128-26.5728-21.5552-48.1152-48.1408-48.1152z",fill:"#FFCC66","p-id":"9014"})),goBack:n.default.createElement("svg",{t:"1676341419679",class:"icon",viewBox:"0 0 1041 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2088",width:t,height:t},n.default.createElement("path",{d:"M831.747371 420.007843c60.838623 36.268018 135.484717 134.100184 166.540014 251.862261 31.060413 117.76924 25.910113 223.224014 25.910113 223.224014s-40.209794-64.941058-56.512085-87.710644C951.382099 784.621051 882.686531 699.801247 776.058025 650.641617c-106.627483-49.158606-284.857746-40.404222-284.857746-40.404222l0 204.706265L0 467.010343l491.200278-347.934341 0 206.589149c0 0 117.998461 8.881274 179.679265 21.654182C774.766612 368.833323 831.747371 420.007843 831.747371 420.007843L831.747371 420.007843zM831.747371 420.007843",fill:a,"p-id":"2089"})),pem:n.default.createElement("svg",{t:"1676886907853",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2159",width:t,height:t},n.default.createElement("path",{d:"M765.952 548.864h-112.64v-266.24c0-77.824-63.488-141.312-141.312-141.312S370.688 204.8 370.688 282.624v266.24h-112.64v-266.24C258.048 142.336 371.712 28.672 512 28.672s253.952 113.664 253.952 253.952v266.24z",fill:"#E0E0E0","p-id":"2160"}),n.default.createElement("path",{d:"M183.296 431.104h658.432v565.248H183.296z",fill:"#FFDC00","p-id":"2161"}),n.default.createElement("path",{d:"M510.976 431.104h329.728v565.248H510.976z",fill:"#FFC000","p-id":"2162"}),n.default.createElement("path",{d:"M588.8 669.696c0 22.528-10.24 43.008-25.6 57.344v120.832H460.8V727.04c-15.36-14.336-25.6-34.816-25.6-57.344 0-41.984 34.816-76.8 76.8-76.8s76.8 33.792 76.8 76.8z",fill:"#B7B7B7","p-id":"2163"}),n.default.createElement("path",{d:"M563.2 847.872h-51.2V592.896c41.984 0 76.8 34.816 76.8 76.8 0 22.528-10.24 43.008-25.6 57.344v120.832z",fill:"#999999","p-id":"2164"}))};return l[e]||l["otherFile"]}},i=s;t.default=i}}]);