(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{Aay4:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var l=r(a("5rEg")),o=r(a("jehZ"));a("+L6B");var n=r(a("2/Rp"));a("+BJd");var d=r(a("mr32"));a("2qtc");var u=r(a("kLXV"));a("y8nQ");var c=r(a("Vl3Y"));a("OaEy");var s,m,i,f=r(a("2fM7")),p=a("MuoO"),g=A(a("q1tI")),h=r(a("qCJ4")),v=r(a("npAr")),b=r(a("QDog")),y=r(a("mWxT"));function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var n=l?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(r,o,n):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}var _=f.default.Option,C={labelCol:{span:5},wrapperCol:{span:19}},D=(s=(0,p.connect)(e=>{var t=e.global,a=e.loading;return{groups:t.groups,createAppByCodeLoading:a.effects["createApp/createAppByCode"],rainbondInfo:t.rainbondInfo}},null,null,{withRef:!0}),m=c.default.create(),s(i=m(i=class extends g.PureComponent{constructor(e){super(e),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,r=t.onSubmit;a.validateFields((e,t)=>{!e&&r&&r(t)})}),this.handleAddGroup=(e=>{var t=this.props.form.setFieldsValue;t({group_id:e}),this.cancelAddGroup()}),this.fetchGroup=(()=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:b.default.getCurrTeamName()}})}),this.handleOpenDemo=(()=>{u.default.warning({title:"\u67e5\u770bDmeo\u6e90\u7801",content:g.default.createElement("div",null,g.default.createElement(d.default,{color:"magenta",style:{marginBottom:"10px"}},g.default.createElement("a",{target:"_blank",style:{color:"#EA2E96"},href:"".concat(v.default.documentAddress,"demo-2048.git")},"2048\u5c0f\u6e38\u620f")),g.default.createElement(d.default,{color:"green",style:{marginBottom:"10px"}},g.default.createElement("a",{target:"_blank",style:{color:"#74CC49"},href:"".concat(v.default.documentAddress,"static-demo.git")},"\u9759\u6001Web\uff1ahello world !")),g.default.createElement(d.default,{color:"volcano",style:{marginBottom:"10px"}},g.default.createElement("a",{target:"_blank",style:{color:"#FA541B"},href:"".concat(v.default.documentAddress,"php-demo.git")},"PHP Demo")),g.default.createElement(d.default,{color:"blue",style:{marginBottom:"10px"}},g.default.createElement("a",{target:"_blank",style:{color:"#1990FF"},href:"".concat(v.default.documentAddress,"python-demo.git")},"Python Demo")),g.default.createElement(d.default,{color:"orange",style:{marginBottom:"10px"}},g.default.createElement("a",{target:"_blank",style:{color:"#FA8E14"},href:"".concat(v.default.documentAddress,"nodejs-demo.git")},"Node.js Demo")),g.default.createElement(d.default,{color:"gold",style:{marginBottom:"10px"}},g.default.createElement("a",{target:"_blank",style:{color:"#FCAD15"},href:"".concat(v.default.documentAddress,"go-demo.git")},"Golang Demo")),g.default.createElement(d.default,{color:"lime",style:{marginBottom:"10px"}},g.default.createElement("a",{target:"_blank",style:{color:"#A0D912"},href:"".concat(v.default.documentAddress,"java-maven-demo.git")},"Java-Maven Demo")),g.default.createElement(d.default,{color:"geekblue",style:{marginBottom:"10px"}},g.default.createElement("a",{target:"_blank",style:{color:"#3054EB"},href:"".concat(v.default.documentAddress,"java-jar-demo.git")},"Java-Jar Demo")),g.default.createElement(d.default,{color:"purple",style:{marginBottom:"10px"}},g.default.createElement("a",{target:"_blank",style:{color:"#722DD1"},href:"".concat(v.default.documentAddress,"java-war-demo.git")},"Java-War Demo")),g.default.createElement(d.default,{color:"volcano",style:{marginBottom:"10px"}},g.default.createElement("a",{target:"_blank",style:{color:"#FA541B"},href:"".concat(v.default.documentAddress,"java-gradle-demo.git")},"Java-Gradle Demo")),g.default.createElement(d.default,{color:"gold",style:{marginBottom:"10px"}},g.default.createElement("a",{target:"_blank",style:{color:"#FCAD15"},href:"".concat(v.default.documentAddress,"dotnet-demo.git")},".NetCore Demo")))})}),this.handleChangeDemo=(e=>{this.setState({demoHref:e})}),this.handleValiateNameSpace=((e,t,a)=>{if(!t)return a(new Error("\u8bf7\u8f93\u5165\u7ec4\u4ef6\u82f1\u6587\u540d\u79f0"));if(t&&t.length<=32){var r=/^[a-z]([-a-z0-9]*[a-z0-9])?$/;if(!r.test(t))return a(new Error("\u53ea\u652f\u6301\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u201c-\u201d\uff0c\u5e76\u4e14\u5fc5\u987b\u4ee5\u5b57\u6bcd\u5f00\u59cb\u3001\u4ee5\u6570\u5b57\u6216\u5b57\u6bcd\u7ed3\u5c3e"));a()}return t.length>32?a(new Error("\u4e0d\u80fd\u5927\u4e8e32\u4e2a\u5b57\u7b26")):void 0}),this.state={addGroup:!1,demoHref:this.props.data.git_url||v.default.documentAddressDefault}}render(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.groups,r=t.createAppByCodeLoading,d=t.rainbondInfo,u=this.props.data||{};return g.default.createElement(c.default,{layout:"horizontal",hideRequiredMark:!0},g.default.createElement(c.default.Item,(0,o.default)({},C,{label:"\u5e94\u7528\u540d\u79f0"}),e("group_id",{initialValue:u.groupd_id?u.groupd_id:void 0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(g.default.createElement(f.default,{getPopupContainer:e=>e.parentNode,placeholder:"\u8bf7\u9009\u62e9\u8981\u6240\u5c5e\u5e94\u7528",style:{display:"inline-block",width:292,marginRight:15}},(a||[]).map(e=>g.default.createElement(_,{key:e.group_id,value:e.group_id},e.group_name)))),g.default.createElement(n.default,{onClick:this.onAddGroup},"\u65b0\u5efa\u5e94\u7528")),g.default.createElement(c.default.Item,(0,o.default)({},C,{label:"\u7ec4\u4ef6\u540d\u79f0"}),e("service_cname",{initialValue:u.service_cname||"",rules:[{required:!0,message:"\u8981\u521b\u5efa\u7684\u7ec4\u4ef6\u8fd8\u6ca1\u6709\u540d\u5b57"},{max:24,message:"\u6700\u5927\u957f\u5ea624\u4f4d"}]})(g.default.createElement(l.default,{style:{width:292},placeholder:"\u8bf7\u4e3a\u521b\u5efa\u7684\u7ec4\u4ef6\u8d77\u4e2a\u540d\u5b57\u5427"}))),g.default.createElement(c.default.Item,(0,o.default)({},C,{label:"\u7ec4\u4ef6\u82f1\u6587\u540d\u79f0"}),e("k8s_component_name",{rules:[{required:!0,validator:this.handleValiateNameSpace}]})(g.default.createElement(l.default,{placeholder:"\u7ec4\u4ef6\u7684\u82f1\u6587\u540d\u79f0",style:{width:292}}))),g.default.createElement(c.default.Item,(0,o.default)({},C,{label:g.default.createElement("span",null,"Demo")}),e("git_url",{initialValue:u.git_url||v.default.documentAddressDefault,rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(g.default.createElement(f.default,{getPopupContainer:e=>e.parentNode,style:{display:"inline-block",width:292,marginRight:15},onChange:this.handleChangeDemo},g.default.createElement(_,{value:"".concat(v.default.documentAddress,"demo-2048.git")},"2048\u5c0f\u6e38\u620f"),g.default.createElement(_,{value:"".concat(v.default.documentAddress,"static-demo.git")},"\u9759\u6001Web\uff1ahello world !"),g.default.createElement(_,{value:"".concat(v.default.documentAddress,"php-demo.git")},"PHP Demo"),g.default.createElement(_,{value:"".concat(v.default.documentAddress,"python-demo.git")},"Python Demo"),g.default.createElement(_,{value:"".concat(v.default.documentAddress,"nodejs-demo.git")},"Node.js Demo"),g.default.createElement(_,{value:"".concat(v.default.documentAddress,"go-demo.git")},"Golang Demo"),g.default.createElement(_,{value:"".concat(v.default.documentAddress,"java-maven-demo.git")},"Java-Maven Demo"),g.default.createElement(_,{value:"".concat(v.default.documentAddress,"java-jar-demo.git")},"Java-Jar Demo"),g.default.createElement(_,{value:"".concat(v.default.documentAddress,"java-war-demo.git")},"Java-war Demo"),g.default.createElement(_,{value:"".concat(v.default.documentAddress,"java-gradle-demo.git")},"Java-gradle Demo"),g.default.createElement(_,{value:"".concat(v.default.documentAddress,"dotnet-demo.git")},".NetCore Demo"))),this.state.demoHref&&y.default.documentPlatform_url(d)&&g.default.createElement("a",{target:"_blank",href:this.state.demoHref},"\u67e5\u770b\u6e90\u7801")),g.default.createElement(c.default.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:C.wrapperCol.span,offset:C.labelCol.span}},label:""},g.default.createElement(n.default,{onClick:this.handleSubmit,type:"primary",loading:r},"\u786e\u8ba4\u521b\u5efa")),this.state.addGroup&&g.default.createElement(h.default,{onCancel:this.cancelAddGroup,onOk:this.handleAddGroup}))}})||i)||i);t.default=D},CgHS:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,n,d,u=r(a("jehZ")),c=a("MuoO"),s=a("7DNP"),m=l(a("q1tI")),i=r(a("I3bc")),f=r(a("XZXw")),p=a("vSx2"),g=r(a("QDog")),h=r(a("tH/r")),v=r(a("mWxT")),b=r(a("hMqj")),y=r(a("9Y44")),E=r(a("KLZ5")),A=(o=(0,c.connect)(e=>{var t=e.teamControl,a=e.global,r=e.enterprise;return{rainbondInfo:a.rainbondInfo,currentTeam:t.currentTeam,currentRegionName:t.currentRegionName,currentEnterprise:r.currentEnterprise,enterprise:a.enterprise,currentTeamPermissionsInfo:t.currentTeamPermissionsInfo}},null,null,{pure:!1}),o((d=class extends m.PureComponent{constructor(){super(...arguments),this.handleTabChange=(e=>{var t=this.props.dispatch;t(s.routerRedux.push("/team/".concat(g.default.getCurrTeamName(),"/region/").concat(g.default.getCurrRegionName(),"/create/code/").concat(e)))})}componentWillMount(){var e=this.props,t=e.currentTeamPermissionsInfo,a=e.dispatch;b.default.canCreateComponent(t,a)}render(){var e=this.props,t=e.rainbondInfo,a=e.enterprise,r=e.match,l=e.currentEnterprise,o=e.currentTeam,n=e.currentRegionName,d={custom:y.default,demo:E.default},c=[{key:"custom",tab:"\u81ea\u5b9a\u4e49\u6e90\u7801"}];v.default.officialDemoEnable(t)&&c.push({key:"demo",tab:"\u5b98\u65b9DEMO"});var s=h.default.getEnableGitOauthServer(a);s&&s.length>0&&s.map(e=>{var t=e.name,a=e.service_id,r=e.oauth_type,l={github:"Github",gitlab:"Gitlab",gitee:"Gitee"},o=l[r]||"",n=o?"".concat(o," ").concat(t&&"(".concat(t,")")):"".concat(t,"\u9879\u76ee");return d[a]=i.default,c.push({key:a,types:r,tab:n}),c});var g=r.params.type;g||(g="custom");var b=d[g],A=[];return A=(0,p.createTeam)((0,p.createEnterprise)(A,l),o,n),A.push({title:"\u521b\u5efa\u7ec4\u4ef6"}),m.default.createElement(f.default,{breadcrumbList:A,title:"\u7531\u6e90\u7801\u521b\u5efa\u7ec4\u4ef6",onTabChange:this.handleTabChange,content:m.default.createElement("p",null," \u4ece\u6307\u5b9a\u6e90\u7801\u4ed3\u5e93\u4e2d\u83b7\u53d6\u6e90\u7801\uff0c\u57fa\u4e8e\u6e90\u7801\u4fe1\u606f\u521b\u5efa\u65b0\u7ec4\u4ef6 "),tabActiveKey:g,tabList:c},b?m.default.createElement(b,(0,u.default)({},this.props,{type:this.props.match.params.type,tabList:c})):"\u53c2\u6570\u9519\u8bef")}},n=d))||n);t.default=A},KLZ5:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var o=r(a("bx4M")),n=r(a("p0pE"));a("y8nQ");var d,u,c,s,m=r(a("Vl3Y")),i=a("MuoO"),f=a("7DNP"),p=l(a("q1tI")),g=r(a("Aay4")),h=r(a("/BFj")),v=r(a("QDog")),b=r(a("51sS")),y=(d=(0,i.connect)(e=>{var t=e.user,a=e.global;return{currUser:t.currentUser,groups:a.groups}}),u=m.default.create(),d(c=u((s=class extends p.PureComponent{constructor(e){super(e),this.fetchGroup=(()=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:v.default.getCurrTeamName()}})}),this.handleSubmit=(e=>{var t=v.default.getCurrTeamName();this.props.dispatch({type:"createApp/createAppByCode",payload:(0,n.default)({team_name:t,code_from:"gitlab_demo"},e),callback:e=>{var t=e&&e.bean.service_alias;this.props.dispatch(f.routerRedux.push("/team/".concat(v.default.getCurrTeamName(),"/region/").concat(v.default.getCurrRegionName(),"/create/create-check/").concat(t)))}})}),this.state={}}render(){var e=decodeURIComponent(this.props.match.params.code||"");return p.default.createElement(o.default,null,p.default.createElement(h.default,null),p.default.createElement("div",{className:b.default.formWrap,style:{width:this.props.handleType&&"Service"===this.props.handleType?"auto":"500px"}},p.default.createElement(g.default,{data:{git_url:e||""},onSubmit:this.handleSubmit})))}},c=s))||c)||c);t.default=y}}]);