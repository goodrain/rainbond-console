(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{R9WR:function(e,a,t){"use strict";var l=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("IzEo");var s=l(t("bx4M"));t("+L6B");var r=l(t("2/Rp")),n=l(t("jehZ"));t("5NDa");var d=l(t("5rEg"));t("14J3");var u=l(t("BMrR"));t("FJo9");var o=l(t("L41K"));t("y8nQ");var i,m,c,f=l(t("Vl3Y")),p=t("MuoO"),b=t("7DNP"),g=l(t("Qyje")),_=D(t("q1tI")),h=l(t("3a4m")),E=l(t("XZXw")),v=l(t("+iC2")),w=l(t("KrRZ")),N=l(t("pJ0s"));function y(e){if("function"!==typeof WeakMap)return null;var a=new WeakMap,t=new WeakMap;return(y=function(e){return e?t:a})(e)}function D(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=y(a);if(t&&t.has(e))return t.get(e);var l={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var n=s?Object.getOwnPropertyDescriptor(e,r):null;n&&(n.get||n.set)?Object.defineProperty(l,r,n):l[r]=e[r]}return l.default=e,t&&t.set(e,l),l}var x=f.default.Item,S=o.default.Step,C={enableHA:!0,gatewayIngressIPs:"",imageHub:{enable:!1,domain:"",namespace:"",username:"",password:""},etcd:{enable:!1,endpoints:[],secretName:""},estorage:{enable:!1,RWX:{enable:!1,config:{server:"",storageClassName:""}},RWO:{enable:!1,storageClassName:""},NFS:{enable:!1,server:"",path:""}},type:"nfs",database:{enable:!1,uiDatabase:{host:"",port:"",username:"",password:"",dbname:"",enable:!1},regionDatabase:{host:"",port:"",username:"",password:"",dbname:"",enable:!1}},nodesForChaos:{enable:!1,nodes:[]},nodesForGateway:{enable:!0,nodes:[]}},k=(i=f.default.create(),m=(0,p.connect)(e=>{var a=e.user,t=e.list,l=e.loading,s=e.global,r=e.index;e.region;return{user:a.currentUser,list:t,loading:l.models.list,rainbondInfo:s.rainbondInfo,enterprise:s.enterprise,isRegist:s.isRegist,oauthLongin:l.effects["global/creatOauth"],overviewInfo:r.overviewInfo}}),i(c=m(c=class extends _.PureComponent{constructor(e){super(e),this.loadSteps=(()=>{var e=[{title:"\u57fa\u672c\u914d\u7f6e"},{title:"\u9ad8\u7ea7\u914d\u7f6e"},{title:"\u6267\u884c\u5b89\u88c5"},{title:"\u5bf9\u63a5\u96c6\u7fa4"}];return e}),this.handleSubmit=(e=>{}),this.toLinkNext=(e=>{this.props.dispatch;var a=this.props.match.params.eid;this.props.form.validateFields((t,l)=>{t||l&&(C.gatewayIngressIPs=l.gatewayIngressIPs||"",C.nodesForGateway.nodes=l.nodesForGateway||[],l.domain||l.namespace||l.username||l.password?C.imageHub.enable=!0:C.imageHub.enable=!1,C.imageHub.domain=l.domain||"",C.imageHub.namespace=l.namespace||"",C.imageHub.username=l.username||"",C.imageHub.password=l.password||"",C.etcd.endpoints=l.endpoints||[],C.etcd.secretName=l.secretName||"",l.server||l.path?(C.estorage.enable=!0,C.estorage.NFS.enable=!0):(C.estorage.enable=!1,C.estorage.NFS.enable=!1),C.estorage.NFS.server=l.server||"",C.estorage.NFS.path=l.path||"",l.regionDatabase_host||l.regionDatabase_port||l.regionDatabase_username||l.regionDatabase_password||l.regionDatabase_dbname?(C.database.enable=!0,C.database.regionDatabase.enable=!0):(C.database.enable=!1,C.database.regionDatabase.enable=!1),C.database.regionDatabase.host=l.regionDatabase_host||"",C.database.regionDatabase.port=l.regionDatabase_port||"",C.database.regionDatabase.username=l.regionDatabase_username||"",C.database.regionDatabase.password=l.regionDatabase_password||"",C.database.regionDatabase.dbname=l.regionDatabase_dbname||"",C.nodesForChaos.nodes=[],C.etcd.endpoints=l.endpoints||[],C.etcd.secretName=l.secretName||"","advanced"===e?h.default.push({pathname:"/enterprise/".concat(a,"/provider/ACksterList/advanced"),search:g.default.stringify({data:C,name:"tencent",cloudserver:"tencent"})}):h.default.push({pathname:"/enterprise/".concat(a,"/provider/ACksterList/install"),search:g.default.stringify({data:C,name:"tencent",step:"base",cloudserver:"tencent"})}))})}),this.handleValidatorsGateway=((e,a,t)=>{var l=!1;a&&a.length>0?(a.some(e=>{if(!(e.externalIP&&e.internalIP&&e.name))return l=!1,!0;l=!0}),l?t():t(new Error("\u9700\u586b\u5199\u5b8c\u6574\u7684\u7f51\u5173\u5b89\u88c5\u8282\u70b9"))):t()});var a=this.props.user,t=v.default.isCompanyAdmin(a);this.state={adminer:t}}componentWillMount(){var e=this.state.adminer,a=this.props.dispatch;e||a(b.routerRedux.push("/"))}componentDidMount(){}render(){var e=this.props,a=e.match.params,t=a.eid,l=(a.provider,a.clusterID,e.form.getFieldDecorator),i={labelCol:{xs:{span:0},sm:{span:0}},wrapperCol:{xs:{span:5},sm:{span:5}}},m={labelCol:{xs:{span:3},sm:{span:3}},wrapperCol:{xs:{span:7},sm:{span:7}}},c={labelCol:{xs:{span:3},sm:{span:3}},wrapperCol:{xs:{span:6},sm:{span:6}}};return _.default.createElement(E.default,{title:"\u6dfb\u52a0\u96c6\u7fa4",content:"\u96c6\u7fa4\u662f\u8d44\u6e90\u7684\u96c6\u5408\uff0c\u4ee5Kubernetes\u96c6\u7fa4\u4e3a\u57fa\u7840\uff0c\u90e8\u7f72\u5e73\u53f0Region\u670d\u52a1\u5373\u53ef\u6210\u4e3a\u5e73\u53f0\u96c6\u7fa4\u8d44\u6e90\u3002"},_.default.createElement(u.default,{style:{marginBottom:"16px"}},_.default.createElement(o.default,{current:0},this.loadSteps().map(e=>_.default.createElement(S,{key:e.title,title:e.title})))),_.default.createElement(s.default,{style:{padding:"24px 12px"}},_.default.createElement(f.default,{onSubmit:this.handleSubmit},_.default.createElement("div",{className:N.default.base_configuration},_.default.createElement(u.default,{className:N.default.antd_row},_.default.createElement("div",null,_.default.createElement("span",{style:{fontWeight:"bold",fontSize:"16px"}},"\u8d1f\u8f7d\u5747\u8861:")),_.default.createElement(x,(0,n.default)({},i,{className:N.default.antd_form,extra:_.default.createElement("div",null,"\u6839\u636e\u81ea\u8eab\u9700\u6c42\uff0c\u63d0\u524d\u5728\u817e\u8baf\u4e91\u5b98\u7f51\u51c6\u5907\u597d\u4e91\u8d44\u6e90\uff1a\u8d1f\u8f7d\u5747\u8861\u3002 \u817e\u8baf\u4e91\u8d1f\u8f7d\u5747\u8861\uff0c\u4f1a\u8d1f\u8f7d\u6d41\u91cf\u5230\u540e\u7aef\u7f51\u5173\u8282\u70b9\u7684 80\u3001443\u30016060\u30016443\u30017070\u30018443 \u7aef\u53e3\uff0c\u6240\u4ee5\u9700\u8981\u914d\u7f6e\u8d1f\u8f7d\u5747\u8861\u76d1\u542c\u7aef\u53e3\uff0c",_.default.createElement("a",{target:"_blank",href:"https://cloud.tencent.com/document/product/214/36386"},"\u8be6\u7ec6\u914d\u7f6e\u89c1\u5b98\u65b9\u6587\u6863\u3002"))}),l("gatewayIngressIPs",{rules:[{required:!0,message:"\u8bf7\u586b\u5199IP\u5730\u5740"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199IP\u5730\u5740  \u4f8b\uff1a1.2.3.4"})))),_.default.createElement(u.default,{className:N.default.antd_row},_.default.createElement("div",null,_.default.createElement("span",{style:{fontWeight:"bold",fontSize:"16px"}},"\u7f51\u5173\u5b89\u88c5\u8282\u70b9:")),_.default.createElement(x,(0,n.default)({},i,{className:N.default.antd_form,extra:"rainbond\u7f51\u5173\u5b89\u88c5\u5230\u7684\u8282\u70b9\uff0c\u53ef\u4ee5\u5b89\u88c5\u5230\u591a\u4e2a\u8282\u70b9\uff0c\u5b9e\u73b0\u7f51\u5173\u9ad8\u53ef\u7528,\u8282\u70b9\u540d\u79f0\u586b\u5199\u662fk8s\u96c6\u7fa4\u4e2dnode\u540d\u79f0\u3002"}),l("nodesForGateway",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u7f51\u5173\u5b89\u88c5\u8282\u70b9"},{validator:this.handleValidatorsGateway}]})(_.default.createElement(w.default,null)))),_.default.createElement(u.default,{className:N.default.antd_rows},_.default.createElement("div",{className:N.default.titleBox},_.default.createElement("div",{className:N.default.title},_.default.createElement("span",{className:N.default.titleSpan},"CFS \u5b58\u50a8:")),_.default.createElement("div",{className:N.default.desc},"(\u975e\u5fc5\u586b) \u6839\u636e\u81ea\u8eab\u9700\u6c42\uff0c\u5728\u817e\u8baf\u4e91\u5b98\u7f51\u51c6\u5907\u597dCFS\u6587\u4ef6\u7cfb\u7edf\uff0c\u7528\u4e8e\u6301\u4e45\u5316\u6570\u636e\uff0c",_.default.createElement("a",{target:"_blank",href:"https://cloud.tencent.com/document/product/582/9132"},"\u8be6\u7ec6\u914d\u7f6e\u89c1\u5b98\u65b9\u6587\u6863\u3002"))),_.default.createElement("div",{className:N.default.config},_.default.createElement(x,(0,n.default)({},m,{label:"\u6302\u8f7d\u70b9\u5730\u5740"}),l("server",{rules:[{required:!1,message:"\u8bf7\u586b\u5199\u6302\u8f7d\u70b9\u5730\u5740"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u6302\u8f7d\u70b9\u5730\u5740  \u4f8b\uff1a192.168.0.12"}))),_.default.createElement(x,(0,n.default)({},m,{label:"\u6302\u8f7d\u70b9\u8def\u5f84"}),l("path",{rules:[{required:!1,message:"\u8bf7\u586b\u5199\u6302\u8f7d\u70b9\u8def\u5f84"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u6302\u8f7d\u70b9\u8def\u5f84  \u4f8b\uff1a/"}))))),_.default.createElement(u.default,{className:N.default.antd_rows},_.default.createElement("div",{className:N.default.titleBox},_.default.createElement("div",{className:N.default.title},_.default.createElement("span",{className:N.default.titleSpan},"RDS \u6570\u636e\u5e93")),_.default.createElement("div",{className:N.default.desc},"(\u975e\u5fc5\u586b) \u6839\u636e\u81ea\u8eab\u9700\u6c42\uff0c\u5728\u817e\u8baf\u4e91\u5b98\u7f51\u51c6\u5907\u597d\u201d\u4e91\u6570\u636e\u5e93 MySQL 8.0\u201c\uff0c\u5e76\u5f00\u653e3306\u8fde\u63a5\u7aef\u53e3\uff0c\u767b\u5f55RDS\u521b\u5efa\uff0c\u6388\u6743\u7528\u6237\uff0c\u521b\u5efa\u597d\u76f8\u5bf9\u5e94\u7684\u6570\u636e\u5e93\uff0c",_.default.createElement("a",{target:"_blank",href:"https://cloud.tencent.com/document/product/236/3130"},"\u8be6\u7ec6\u914d\u7f6e\u89c1\u5b98\u65b9\u6587\u6863\u3002"))),_.default.createElement("div",{className:N.default.config},_.default.createElement(x,(0,n.default)({},c,{label:"\u8fde\u63a5\u5730\u5740"}),l("regionDatabase_host",{rules:[{required:!1,message:"\u8bf7\u586b\u5199\u8fde\u63a5\u5730\u5740"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u6570\u636e\u5e93\u8fde\u63a5\u5730\u5740"}))),_.default.createElement(x,(0,n.default)({},c,{label:"\u8fde\u63a5\u7aef\u53e3"}),l("regionDatabase_port",{rules:[{required:!1,message:"\u8bf7\u586b\u5199\u8fde\u63a5\u7aef\u53e3"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u8fde\u63a5\u7aef\u53e3  \u4f8b\uff1a3306"}))),_.default.createElement(x,(0,n.default)({},c,{label:"\u7528\u6237\u540d"}),l("regionDatabase_username",{rules:[{required:!1,message:"\u8bf7\u586b\u5199\u7528\u6237\u540d"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u7528\u6237\u540d  \u4f8b\uff1aroot"}))),_.default.createElement(x,(0,n.default)({},c,{label:"\u5bc6\u7801"}),l("regionDatabase_password",{rules:[{required:!1,message:"\u8bf7\u586b\u5199\u5bc6\u7801"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{type:"password",placeholder:"\u8bf7\u586b\u5199\u5bc6\u7801"}))),_.default.createElement(x,(0,n.default)({},c,{label:"\u6570\u636e\u5e93\u540d\u79f0"}),l("regionDatabase_dbname",{rules:[{required:!1,message:"\u8bf7\u586b\u5199\u6570\u636e\u5e93\u540d\u79f0"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u6570\u636e\u5e93\u5e93\u540d\u79f0  \u4f8b\uff1aregion"}))))),_.default.createElement(u.default,{className:N.default.antd_rows},_.default.createElement("div",{className:N.default.titleBox},_.default.createElement("div",{className:N.default.title},_.default.createElement("span",{className:N.default.titleSpan},"\u5bb9\u5668\u955c\u50cf\u670d\u52a1")),_.default.createElement("div",{className:N.default.desc},"(\u975e\u5fc5\u586b) \u6839\u636e\u81ea\u8eab\u9700\u6c42\uff0c\u5728\u817e\u8baf\u4e91\u5b98\u7f51\u51c6\u5907\u597d\u201c\u5bb9\u5668\u955c\u50cf\u670d\u52a1\u201d\uff0c\u6839\u636e\u63d0\u793a\u5f00\u901a\u4e4b\u540e\uff0c\u4f1a\u5f97\u5230\u4e00\u4e2a\u4ed3\u5e93\u57df\u540d\uff0c\u7ec4\u7ec7\u540d\u79f0\uff08\u6216\u547d\u540d\u7a7a\u95f4\uff09\uff0c\u767b\u5f55\u955c\u50cf\u4ed3\u5e93\u7684\u7528\u6237\u540d\uff0c\u5bc6\u7801\u3002")),_.default.createElement("div",{className:N.default.config},_.default.createElement(x,(0,n.default)({},c,{label:"\u955c\u50cf\u4ed3\u5e93\u57df\u540d",className:N.default.antd_form}),l("domain",{rules:[{required:!1,message:"\u8bf7\u586b\u5199\u955c\u50cf\u4ed3\u5e93\u57df\u540d"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u955c\u50cf\u4ed3\u5e93\u57df\u540d"}))),_.default.createElement(x,(0,n.default)({},c,{label:"\u547d\u540d\u7a7a\u95f4",className:N.default.antd_form}),l("namespace",{rules:[{required:!1,message:"\u8bf7\u586b\u5199\u547d\u540d\u7a7a\u95f4"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u547d\u540d\u7a7a\u95f4"}))),_.default.createElement(x,(0,n.default)({},c,{label:"\u7528\u6237\u540d",className:N.default.antd_form}),l("username",{rules:[{required:!1,message:"\u8bf7\u586b\u5199\u7528\u6237\u540d"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u7528\u6237\u540d"}))),_.default.createElement(x,(0,n.default)({},c,{label:"\u5bc6\u7801",className:N.default.antd_form}),l("password",{rules:[{required:!1,message:"\u8bf7\u586b\u5199\u5bc6\u7801"},{pattern:/^[^\s]*$/,message:"\u7981\u6b62\u8f93\u5165\u7a7a\u683c"}]})(_.default.createElement(d.default,{type:"password",placeholder:"\u8bf7\u586b\u5199\u5bc6\u7801"})))))),_.default.createElement(u.default,null,_.default.createElement(x,{className:N.default.antd_row_btn},_.default.createElement(r.default,{className:N.default.antd_btn,type:"primary",onClick:()=>{this.props.dispatch(b.routerRedux.push("/enterprise/".concat(t,"/addCluster")))}},"\u8fd4\u56de"),_.default.createElement(r.default,{className:N.default.antd_btn,type:"primary",onClick:()=>{this.toLinkNext("advanced")}},"\u9ad8\u7ea7\u914d\u7f6e"),_.default.createElement(r.default,{className:N.default.antd_btn,type:"primary",onClick:()=>{this.toLinkNext("next")}},"\u4e0b\u4e00\u6b65"))))))}})||c)||c);a.default=k},pJ0s:function(e,a,t){e.exports={antd_row:"antd_row___3Gbg2",antd_form:"antd_form___1ikpS",antd_row_btn:"antd_row_btn___3qTxw",antd_btn:"antd_btn___1o1Wh",antd_rows:"antd_rows___3kSnZ",titleBox:"titleBox___2BiVv",title:"title___3XV6l",titleSpan:"titleSpan___3x0ap",config:"config___3Ccsg",desc:"desc___2PMhF"}}}]);