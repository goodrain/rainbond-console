(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{R9WR:function(e,a,t){"use strict";var s=t("g09b"),l=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("IzEo");var r=s(t("bx4M"));t("+L6B");var n=s(t("2/Rp")),o=s(t("jehZ"));t("5NDa");var d=s(t("5rEg"));t("14J3");var i=s(t("BMrR"));t("FJo9");var u=s(t("L41K"));t("y8nQ");var c,p,m,f,g=s(t("Vl3Y")),_=t("MuoO"),b=t("7DNP"),h=s(t("Qyje")),w=l(t("q1tI")),y=t("LLXN"),C=s(t("3a4m")),v=s(t("XZXw")),M=s(t("2lxJ")),E=s(t("+iC2")),x=s(t("KrRZ")),N=s(t("8+Sn")),S=s(t("pJ0s")),D=g.default.Item,k=u.default.Step,I={enableHA:!0,gatewayIngressIPs:"",imageHub:{enable:!1,domain:"",namespace:"",username:"",password:""},etcd:{enable:!1,endpoints:[],secretName:""},estorage:{enable:!1,RWX:{enable:!1,config:{server:"",storageClassName:""}},RWO:{enable:!1,storageClassName:""},NFS:{enable:!1,server:"",path:""}},type:"nfs",database:{enable:!1,uiDatabase:{host:"",port:"",username:"",password:"",dbname:"",enable:!1},regionDatabase:{host:"",port:"",username:"",password:"",dbname:"",enable:!1}},nodesForChaos:{enable:!1,nodes:[]},nodesForGateway:{enable:!0,nodes:[]}},F=(c=g.default.create(),p=(0,_.connect)(e=>{var a=e.user,t=e.list,s=e.loading,l=e.global,r=e.index;e.region;return{user:a.currentUser,list:t,loading:s.models.list,rainbondInfo:l.rainbondInfo,enterprise:l.enterprise,isRegist:l.isRegist,oauthLongin:s.effects["global/creatOauth"],overviewInfo:r.overviewInfo}}),c(m=p((f=class extends w.PureComponent{constructor(e){super(e),this.loadSteps=(()=>{var e=[{title:(0,y.formatMessage)({id:"enterpriseColony.ACksterList.basic"})},{title:(0,y.formatMessage)({id:"enterpriseColony.ACksterList.senior"})},{title:(0,y.formatMessage)({id:"enterpriseColony.ACksterList.install"})},{title:(0,y.formatMessage)({id:"enterpriseColony.ACksterList.Docking"})}];return e}),this.handleSubmit=(e=>{}),this.toLinkNext=(e=>{this.props.dispatch;var a=this.props.match.params.eid;this.props.form.validateFields((t,s)=>{t||s&&(I.gatewayIngressIPs=s.gatewayIngressIPs||"",I.nodesForGateway.nodes=s.nodesForGateway||[],s.domain||s.namespace||s.username||s.password?I.imageHub.enable=!0:I.imageHub.enable=!1,I.imageHub.domain=s.domain||"",I.imageHub.namespace=s.namespace||"",I.imageHub.username=s.username||"",I.imageHub.password=s.password||"",I.etcd.endpoints=s.endpoints||[],I.etcd.secretName=s.secretName||"",s.server||s.path?(I.estorage.enable=!0,I.estorage.NFS.enable=!0):(I.estorage.enable=!1,I.estorage.NFS.enable=!1),I.estorage.NFS.server=s.server||"",I.estorage.NFS.path=s.path||"",s.regionDatabase_host||s.regionDatabase_port||s.regionDatabase_username||s.regionDatabase_password||s.regionDatabase_dbname?(I.database.enable=!0,I.database.regionDatabase.enable=!0):(I.database.enable=!1,I.database.regionDatabase.enable=!1),I.database.regionDatabase.host=s.regionDatabase_host||"",I.database.regionDatabase.port=s.regionDatabase_port||"",I.database.regionDatabase.username=s.regionDatabase_username||"",I.database.regionDatabase.password=s.regionDatabase_password||"",I.database.regionDatabase.dbname=s.regionDatabase_dbname||"",I.nodesForChaos.nodes=[],I.etcd.endpoints=s.endpoints||[],I.etcd.secretName=s.secretName||"","advanced"===e?C.default.push({pathname:"/enterprise/".concat(a,"/provider/ACksterList/advanced"),search:h.default.stringify({data:I,name:"tencent",cloudserver:"tencent"})}):C.default.push({pathname:"/enterprise/".concat(a,"/provider/ACksterList/install"),search:h.default.stringify({data:I,name:"tencent",step:"base",cloudserver:"tencent"})}))})}),this.handleValidatorsGateway=((e,a,t)=>{var s=!1;a&&a.length>0?(a.some(e=>{if(!(e.externalIP&&e.internalIP&&e.name))return s=!1,!0;s=!0}),s?t():t(new Error("".concat((0,y.formatMessage)({id:"enterpriseColony.cloud.gateway_node"}))))):t()});var a=this.props.user,t=E.default.isCompanyAdmin(a);this.state={adminer:t,language:"zh-CN"===N.default.get("language")}}componentWillMount(){var e=this.state.adminer,a=this.props.dispatch;e||a(b.routerRedux.push("/"))}componentDidMount(){}render(){var e=this.props,a=e.match.params,t=a.eid,s=(a.provider,a.clusterID,e.form.getFieldDecorator),l=this.state.language,c={labelCol:{xs:{span:0},sm:{span:0}},wrapperCol:{xs:{span:5},sm:{span:5}}},p={labelCol:{xs:{span:3},sm:{span:3}},wrapperCol:{xs:{span:7},sm:{span:7}}},m={labelCol:{xs:{span:5},sm:{span:5}},wrapperCol:{xs:{span:10},sm:{span:10}}},f={labelCol:{xs:{span:3},sm:{span:3}},wrapperCol:{xs:{span:6},sm:{span:6}}},_={labelCol:{xs:{span:6},sm:{span:6}},wrapperCol:{xs:{span:6},sm:{span:6}}},h=l?f:_,C=l?p:m;return w.default.createElement(v.default,{title:w.default.createElement(y.FormattedMessage,{id:"enterpriseColony.button.text"}),content:w.default.createElement(y.FormattedMessage,{id:"enterpriseColony.PageHeaderLayout.content"}),titleSvg:M.default.getPageHeaderSvg("clusters",18)},w.default.createElement(i.default,{style:{marginBottom:"16px"}},w.default.createElement(u.default,{current:0},this.loadSteps().map(e=>w.default.createElement(k,{key:e.title,title:e.title})))),w.default.createElement(r.default,{style:{padding:"24px 12px"}},w.default.createElement(g.default,{onSubmit:this.handleSubmit},w.default.createElement("div",{className:S.default.base_configuration},w.default.createElement(i.default,{className:l?S.default.antd_row:S.default.en_antd_row},w.default.createElement("div",null,w.default.createElement("span",{style:{fontWeight:"bold",fontSize:"16px"}},(0,y.formatMessage)({id:"enterpriseColony.cloud.load"}))),w.default.createElement(D,(0,o.default)({},c,{className:S.default.antd_form,extra:w.default.createElement("div",null,(0,y.formatMessage)({id:"enterpriseColony.tencentcloud.slb"}),w.default.createElement("a",{target:"_blank",href:"https://cloud.tencent.com/document/product/214/36386"},(0,y.formatMessage)({id:"enterpriseColony.cloud.doc"})))}),s("gatewayIngressIPs",{rules:[{required:!0,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.ip"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.demo_ip"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}})))),w.default.createElement(i.default,{className:l?S.default.antd_row:S.default.en_antd_row},w.default.createElement("div",null,w.default.createElement("span",{style:{fontWeight:"bold",fontSize:"16px"}},(0,y.formatMessage)({id:"enterpriseColony.cloud.gateway"}))),w.default.createElement(D,(0,o.default)({},c,{className:S.default.antd_form,extra:(0,y.formatMessage)({id:"enterpriseColony.tencentcloud.nas"})}),s("nodesForGateway",{rules:[{required:!0,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_gateway"})},{validator:this.handleValidatorsGateway}]})(w.default.createElement(x.default,null)))),w.default.createElement(i.default,{className:S.default.antd_rows},w.default.createElement("div",{className:S.default.titleBox},w.default.createElement("div",{className:S.default.title},w.default.createElement("span",{className:l?S.default.titleSpan:S.default.en_titleSpan},(0,y.formatMessage)({id:"enterpriseColony.cloud.cfs"}))),w.default.createElement("div",{className:S.default.desc},(0,y.formatMessage)({id:"enterpriseColony.tencentcloud.doc"}),w.default.createElement("a",{target:"_blank",href:"https://cloud.tencent.com/document/product/582/9132"},(0,y.formatMessage)({id:"enterpriseColony.cloud.doc"})))),w.default.createElement("div",{className:l?S.default.config:S.default.enconfig},w.default.createElement(D,(0,o.default)({},C,{label:(0,y.formatMessage)({id:"enterpriseColony.cloud.mount"})}),s("server",{rules:[{required:!1,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.mount_add"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.mounting_dome"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}))),w.default.createElement(D,(0,o.default)({},C,{label:(0,y.formatMessage)({id:"enterpriseColony.cloud.path"})}),s("path",{rules:[{required:!1,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_path"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.dome_path"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}))))),w.default.createElement(i.default,{className:S.default.antd_rows},w.default.createElement("div",{className:S.default.titleBox},w.default.createElement("div",{className:S.default.title},w.default.createElement("span",{className:l?S.default.titleSpan:S.default.en_titleSpan},(0,y.formatMessage)({id:"enterpriseColony.cloud.rds"}))),w.default.createElement("div",{className:S.default.desc},(0,y.formatMessage)({id:"enterpriseColony.tencentcloud.access"}),w.default.createElement("a",{target:"_blank",href:"https://cloud.tencent.com/document/product/236/3130"},(0,y.formatMessage)({id:"enterpriseColony.cloud.doc"})))),w.default.createElement("div",{className:l?S.default.config:S.default.config_en},w.default.createElement(D,(0,o.default)({},h,{label:(0,y.formatMessage)({id:"enterpriseColony.cloud.address"})}),s("regionDatabase_host",{rules:[{required:!1,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.inputAddress"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_address"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}))),w.default.createElement(D,(0,o.default)({},h,{label:(0,y.formatMessage)({id:"enterpriseColony.cloud.port"})}),s("regionDatabase_port",{rules:[{required:!1,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_port"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.demo_port"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}))),w.default.createElement(D,(0,o.default)({},h,{label:(0,y.formatMessage)({id:"enterpriseColony.cloud.name"})}),s("regionDatabase_username",{rules:[{required:!1,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_name"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.demo_name"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}))),w.default.createElement(D,(0,o.default)({},h,{label:(0,y.formatMessage)({id:"enterpriseColony.cloud.password"})}),s("regionDatabase_password",{rules:[{required:!1,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_password"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{type:"password",placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_password"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}))),w.default.createElement(D,(0,o.default)({},h,{label:(0,y.formatMessage)({id:"enterpriseColony.cloud.access_name"})}),s("regionDatabase_dbname",{rules:[{required:!1,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.sinput_access_namelb"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.demo_access_name"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}))))),w.default.createElement(i.default,{className:S.default.antd_rows},w.default.createElement("div",{className:S.default.titleBox},w.default.createElement("div",{className:S.default.title},w.default.createElement("span",{className:l?S.default.titleSpan:S.default.en_titleSpan},(0,y.formatMessage)({id:"enterpriseColony.cloud.image"}))),w.default.createElement("div",{className:S.default.desc},(0,y.formatMessage)({id:"enterpriseColony.tencentcloud.access"}))),w.default.createElement("div",{className:l?S.default.config:S.default.en_config},w.default.createElement(D,(0,o.default)({},h,{label:(0,y.formatMessage)({id:"enterpriseColony.cloud.image_address"}),className:S.default.antd_form}),s("domain",{rules:[{required:!1,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_image_address"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_image_address"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}))),w.default.createElement(D,(0,o.default)({},h,{label:(0,y.formatMessage)({id:"enterpriseColony.cloud.namespace"}),className:S.default.antd_form}),s("namespace",{rules:[{required:!1,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_namespace"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_namespace"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}))),w.default.createElement(D,(0,o.default)({},h,{label:(0,y.formatMessage)({id:"enterpriseColony.cloud.name"}),className:S.default.antd_form}),s("username",{rules:[{required:!1,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_name"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_name"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}))),w.default.createElement(D,(0,o.default)({},h,{label:(0,y.formatMessage)({id:"enterpriseColony.cloud.password"}),className:S.default.antd_form}),s("password",{rules:[{required:!1,message:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_password"})},{pattern:/^[^\s]*$/,message:(0,y.formatMessage)({id:"placeholder.no_spaces"})}]})(w.default.createElement(d.default,{type:"password",placeholder:(0,y.formatMessage)({id:"enterpriseColony.cloud.input_password"}),style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}})))))),w.default.createElement(i.default,null,w.default.createElement(D,{className:S.default.antd_row_btn},w.default.createElement(n.default,{className:S.default.antd_btn,onClick:()=>{this.props.dispatch(b.routerRedux.push("/enterprise/".concat(t,"/addCluster")))}},(0,y.formatMessage)({id:"button.return"})),w.default.createElement(n.default,{className:S.default.antd_btn,onClick:()=>{this.toLinkNext("advanced")}},(0,y.formatMessage)({id:"button.configuration"})),w.default.createElement(n.default,{className:S.default.antd_btn,type:"primary",onClick:()=>{this.toLinkNext("next")}},(0,y.formatMessage)({id:"button.next"})))))))}},m=f))||m)||m);a.default=F},pJ0s:function(e,a,t){e.exports={antd_row:"antd_row___3Gbg2",antd_form:"antd_form___1ikpS",en_antd_row:"en_antd_row___17yqY",antd_row_btn:"antd_row_btn___3qTxw",antd_btn:"antd_btn___1o1Wh",antd_rows:"antd_rows___3kSnZ",titleBox:"titleBox___2BiVv",title:"title___3XV6l",titleSpan:"titleSpan___3x0ap",en_titleSpan:"en_titleSpan___1PXPn",config:"config___3Ccsg",enconfig:"enconfig___2rxce",config_en:"config_en___cmH0R",en_config:"en_config___TLLKX",desc:"desc___2PMhF"}}}]);