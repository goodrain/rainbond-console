(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[54],{"0fGy":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var i=l(a("bx4M"));a("g9YV");var n=l(a("wCAj"));a("y8nQ");var r=l(a("Vl3Y"));a("5NDa");var s=l(a("5rEg"));a("qVdP");var d=l(a("jsC+"));a("Pwec");var o=l(a("CtXQ"));a("lUTK");var c=l(a("BvKs"));a("P2fV");var u=l(a("NJEC"));a("+L6B");var p=l(a("2/Rp"));a("Awhp");var g=l(a("KrTs"));a("5Dmo");var m=l(a("3S7+"));a("/xke");var I,h,C=l(a("TeRw")),f=a("MuoO"),A=a("7DNP"),v=l(a("wd/R")),y=E(a("q1tI")),M=l(a("6JQQ")),N=l(a("movk")),b=a("xpXo"),S=l(a("lpA0")),D=l(a("QDog")),Z=l(a("VJda"));function j(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(j=function(e){return e?a:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=j(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var w=(I=(0,f.connect)(e=>{var t=e.global,a=e.loading;return{groups:t.groups,batchMoveLoading:a.effects["appControl/putBatchMove"],reStartLoading:a.effects["appControl/putReStart"],startLoading:a.effects["appControl/putStart"],stopLoading:a.effects["appControl/putStop"]}},null,null,{pure:!1}),I(h=class extends y.Component{constructor(e){super(e),this.onSelectChange=(e=>{this.setState({selectedRowKeys:e})}),this.updateApp=(()=>{this.timer&&clearInterval(this.timer),this.loadComponents();var e=this.props.clearTime;this.timer=setInterval(()=>{e||this.loadComponents()},5e3)}),this.loadComponents=(()=>{var e=this.props,t=e.dispatch,a=e.groupId,l=this.state,i=l.current,n=l.pageSize,r=l.query,s=l.sortValue,d=l.orderValue;t({type:"application/fetchApps",payload:{team_name:D.default.getCurrTeamName(),region_name:D.default.getCurrRegionName(),group_id:a,page:i,page_size:n,query:r,sort:s,order:d},callback:e=>{e&&200===e.status_code&&this.setState({apps:e.list||[],total:e.total||0,tableDataLoading:!1})}})}),this.deleteData=(()=>{var e=this.props,t=e.dispatch,a=e.groupId,l=this.state,i=l.current,n=l.pageSize,r=l.query;t({type:"application/fetchApps",payload:{team_name:D.default.getCurrTeamName(),region_name:D.default.getCurrRegionName(),group_id:a,page:i,page_size:n,query:r},callback:e=>{e&&200===e.status_code&&this.setState({apps:e.list||[],total:e.total||0},()=>{this.handleBatchDeletes(),this.hideMoveGroup()})}})}),this.handleOperation=((e,t)=>{var a=this.props.dispatch,l={putReStart:"\u64cd\u4f5c\u6210\u529f\uff0c\u91cd\u542f\u4e2d",putStart:"\u64cd\u4f5c\u6210\u529f\uff0c\u542f\u52a8\u4e2d",putStop:"\u64cd\u4f5c\u6210\u529f\uff0c\u5173\u95ed\u4e2d"};a({type:"appControl/".concat(e),payload:{team_name:D.default.getCurrTeamName(),app_alias:t.service_alias},callback:t=>{t&&C.default.success({message:l[e]})}})}),this.handleOperationState=(e=>{this.setState({operationState:e})}),this.handleBatchOperation=(e=>{var t=this.getSelectedKeys(),a={stop:"\u6279\u91cf\u5173\u95ed\u4e2d",start:"\u6279\u91cf\u542f\u52a8\u4e2d",restart:"\u6279\u91cf\u91cd\u542f\u4e2d",upgrade:"\u6279\u91cf\u66f4\u65b0\u4e2d",deploy:"\u6279\u91cf\u6784\u5efa\u4e2d"};(0,b.batchOperation)({action:e,team_name:D.default.getCurrTeamName(),serviceIds:t&&t.join(",")}).then(t=>{this.handleOperationState(!1),t&&a[e]&&C.default.success({message:a[e]})})}),this.handleBatchDelete=(()=>{var e=this.getSelected();this.setState({batchDeleteApps:e,batchDeleteShow:!0})}),this.hideBatchDelete=(()=>{this.deleteData(),this.updateGroupMenu()}),this.handleBatchDeletes=(()=>{this.setState({batchDeleteApps:[],batchDeleteShow:!1,selectedRowKeys:[]})}),this.updateGroupMenu=(()=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:D.default.getCurrTeamName(),region_name:D.default.getCurrRegionName()}})}),this.handleBatchMove=(e=>{var t=this.getSelectedKeys(),a=this.props.dispatch;a({type:"appControl/putBatchMove",payload:{team_name:D.default.getCurrTeamName(),serviceIds:t.join(","),move_group_id:e},callback:e=>{e&&(C.default.success({message:"\u6279\u91cf\u79fb\u52a8\u4e2d"}),this.hideBatchDelete())}})}),this.hideMoveGroup=(()=>{this.setState({moveGroupShow:!1})}),this.showBatchMove=(()=>{this.setState({moveGroupShow:!0})}),this.CanBatchOperation=(()=>{var e=this.getSelected();return e&&e.length>0}),this.handelChange=(e=>{this.setState({changeQuery:e.target.value})}),this.handleSearch=(()=>{this.setState({tableDataLoading:!0,current:1,query:this.state.changeQuery},()=>{this.updateApp()})}),this.handleTableChange=((e,t,a)=>{a&&a.field&&"status_cn"==a.field?this.setState({sortValue:1,orderValue:a.order,tableDataLoading:!0},()=>{this.loadComponents()}):a&&a.field&&"min_memory"==a.field?this.setState({sortValue:2,orderValue:a.order,tableDataLoading:!0},()=>{this.loadComponents()}):a&&a.field&&"update_time"==a.field?this.setState({sortValue:3,orderValue:a.order,tableDataLoading:!0},()=>{this.loadComponents()}):this.setState({sortValue:1,orderValue:"descend",tableDataLoading:!0},()=>{this.loadComponents()})}),this.state={selectedRowKeys:[],apps:[],current:1,total:0,pageSize:10,moveGroupShow:!1,batchDeleteApps:[],batchDeleteShow:!1,operationState:!1,query:"",changeQuery:"",tableDataLoading:!0,sortValue:1,orderValue:"descend"}}componentDidMount(){this.updateApp(),document.querySelector(".ant-table-footer").setAttribute("style","position:absolute;background:#fff")}shouldComponentUpdate(){return!0}componentWillUnmount(){clearInterval(this.timer),this.props.dispatch({type:"application/clearApps"})}getSelectedKeys(){var e=this.getSelected();return e.map(e=>e.service_id)}getSelected(){var e=this.state.selectedRowKeys,t=e.map(e=>this.state.apps[e]);return t}render(){var e=this.props,t=e.componentPermissions,a=t.isStart,l=t.isRestart,I=t.isStop,h=t.isDelete,C=t.isEdit,f=t.isUpdate,b=t.isConstruct,j=e.batchMoveLoading,E=e.reStartLoading,w=e.startLoading,T=e.stopLoading,P=e.groupId,G=e.groups,k=this.state,x=k.selectedRowKeys,z=k.current,_=k.total,L=k.apps,R=k.pageSize,V=k.batchDeleteShow,W=k.batchDeleteApps,B=k.moveGroupShow,O=k.operationState,H=k.tableDataLoading,Y={selectedRowKeys:x,onChange:this.onSelectChange},X={pageSize:R,current:z,total:_,showSizeChanger:!0,onChange:e=>{this.setState({current:e,selectedRowKeys:[]},()=>{this.loadComponents()})},onShowSizeChange:(e,t)=>{this.setState({current:e,pageSize:t},()=>{this.loadComponents()})}},J=[{title:"\u7ec4\u4ef6\u540d\u79f0",dataIndex:"service_cname",render:(e,t)=>y.default.createElement(A.Link,{to:"/team/".concat(D.default.getCurrTeamName(),"/region/").concat(D.default.getCurrRegionName(),"/components/").concat(t.service_alias,"/overview")}," ",t.service_source&&"third_party"===t.service_source?y.default.createElement("span",null,y.default.createElement(m.default,{title:"\u7b2c\u4e09\u65b9\u7ec4\u4ef6"},y.default.createElement("span",{style:{borderRadius:"50%",height:"20px",width:"20px",display:"inline-block",background:"#1890ff",verticalAlign:"top",marginRight:"3px"}},y.default.createElement("span",{style:{display:"block",color:"#FFFFFF",height:"20px",lineHeight:"20px",textAlign:"center"}},"3")),e)):y.default.createElement("span",null,e)," ")},{title:"\u5185\u5b58",dataIndex:"min_memory",sorter:!0,render:(e,t)=>y.default.createElement("span",null,t.service_source&&"third_party"===t.service_source?"-":"".concat(e,"MB"))},{title:"\u72b6\u6001",dataIndex:"status_cn",sorter:!0,render:(e,t)=>t.service_source&&"third_party"===t.service_source?y.default.createElement(g.default,{status:S.default.appStatusToBadgeStatus(t.status),text:"\u8fd0\u884c\u4e2d"===e?"\u5065\u5eb7":"\u8fd0\u884c\u5f02\u5e38"===e?"\u4e0d\u5065\u5eb7":"\u5df2\u5173\u95ed"===e?"\u4e0b\u7ebf":e}):y.default.createElement(g.default,{status:S.default.appStatusToBadgeStatus(t.status),text:e})},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"update_time",sorter:!0,render:e=>(0,v.default)(e).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss")},{title:"\u64cd\u4f5c",dataIndex:"action",render:(e,t)=>y.default.createElement(y.Fragment,null,t.service_source&&"third_party"!==t.service_source&&y.default.createElement(y.Fragment,null,l&&y.default.createElement(u.default,{title:"\u786e\u8ba4\u8981\u91cd\u542f\u8be5\u7ec4\u4ef6\u5417\uff1f",onConfirm:()=>{this.handleOperation("putReStart",t)}},y.default.createElement(p.default,{type:"link"},"\u91cd\u542f")),a&&y.default.createElement(u.default,{title:"\u786e\u8ba4\u8981\u542f\u52a8\u8be5\u7ec4\u4ef6\u5417\uff1f",onConfirm:()=>{this.handleOperation("putStart",t)}},y.default.createElement(p.default,{type:"link"},"\u542f\u52a8")),I&&y.default.createElement(u.default,{title:"\u786e\u8ba4\u8981\u5173\u95ed\u8be5\u7ec4\u4ef6\u5417\uff1f",onConfirm:()=>{this.handleOperation("putStop",t)}},y.default.createElement(p.default,{type:"link"},"\u5173\u95ed"))))}],U=[{permissions:b,name:"\u6784\u5efa",action:"deploy"},{permissions:f,name:"\u66f4\u65b0",action:"upgrade"},{permissions:l,name:"\u91cd\u542f",action:"restart"},{permissions:I,name:"\u5173\u95ed",action:"stop"},{permissions:a,name:"\u542f\u52a8",action:"start"},{permissions:C,name:"\u79fb\u52a8",action:!1,customMethods:this.showBatchMove},{permissions:h,name:"\u5220\u9664",action:!1,customMethods:this.handleBatchDelete}],Q=y.default.createElement(c.default,null,U.map(e=>{var t=e.permissions,a=e.name,l=e.action,i=e.customMethods;return t&&y.default.createElement(c.default.Item,{style:{textAlign:"center"}},y.default.createElement("a",{loading:O===l&&O,onClick:()=>{l?(this.handleOperationState(l),this.handleBatchOperation(l)):i()}},a))})),F=y.default.createElement("div",{className:Z.default.tableList},y.default.createElement("div",{className:Z.default.tableListOperator},y.default.createElement(d.default,{overlay:Q,trigger:["click"],placement:"topCenter",disabled:!this.CanBatchOperation()},y.default.createElement(p.default,{style:{padding:"8px 16px"}},"\u6279\u91cf\u64cd\u4f5c ",y.default.createElement(o.default,{type:"down"})))));return y.default.createElement("div",null,y.default.createElement(i.default,{style:{minHeight:400},bordered:!1,bodyStyle:{padding:"10px 10px"}},y.default.createElement(r.default,{layout:"inline",style:{marginBottom:"10px"}},y.default.createElement(r.default.Item,null,y.default.createElement(s.default,{style:{width:250},placeholder:"\u8bf7\u641c\u7d22\u7ec4\u4ef6",onChange:this.handelChange,onPressEnter:this.handleSearch})),y.default.createElement(r.default.Item,null,y.default.createElement(p.default,{type:"primary",onClick:this.handleSearch,icon:"search"},"\u641c\u7d22"))),y.default.createElement(n.default,{pagination:X,rowSelection:Y,onChange:this.handleTableChange,columns:J,loading:E||w||T||H,dataSource:L||[],footer:()=>F}),V&&y.default.createElement(N.default,{batchDeleteApps:W,onCancel:this.hideBatchDelete,onOk:this.hideBatchDelete}),B&&y.default.createElement(M.default,{loading:j,currGroupID:P,groups:G,onOk:this.handleBatchMove,onCancel:this.hideMoveGroup})))}})||h);t.default=w},"3jFV":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("T2oS");var n=l(a("W9HT"));a("5Dmo");var r=l(a("3S7+"));a("5NDa");var s=l(a("5rEg"));a("sRBo");var d=l(a("kaz8"));a("14J3");var o=l(a("BMrR"));a("jCWc");var c=l(a("kPKH")),u=l(a("jehZ"));a("+L6B");var p=l(a("2/Rp"));a("/xke");var g=l(a("TeRw")),m=l(a("p0pE"));a("OaEy");var I=l(a("2fM7"));a("y8nQ");var h,C,f,A=l(a("Vl3Y")),v=a("CC/n"),y=a("DrY4"),M=a("MuoO"),N=a("7DNP"),b=T(a("q1tI")),S=l(a("lpA0")),D=l(a("QDog")),Z=l(a("qCJ4")),j=l(a("e6Ls")),E=l(a("Kia0"));function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var P=A.default.Item,G=I.default.Option,k=(h=A.default.create(),C=(0,M.connect)(e=>{var t=e.user,a=e.enterprise,l=e.application;return{currentUser:t.currentUser,currentEnterprise:a.currentEnterprise,groupDetail:l.groupDetail||{}}}),h(f=C(f=class extends b.PureComponent{constructor(e){super(e),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.onSelectChange=(e=>{this.handleOpenLoging();var t=this.props.form,a=this.state.userTeamList,l=t.setFieldsValue,i=a.filter(t=>t.name===e);i&&(i.length>0?this.fetchTeamApps(i[0].value[0],i[0].value[1]):(this.handleCloseLoging(),l({apps:""})))}),this.onGroupChange=(e=>{var t=this.state.checkAllList;this.setState({checkedList:e,indeterminate:!!e.length&&e.length<t.length,checkAll:e.length===t.length})}),this.onCheckAllChange=(e=>{var t=this.state.checkAllList;this.setState({checkedList:e.target.checked?t:[],indeterminate:!1,checkAll:e.target.checked})}),this.getUserTeams=(()=>{var e=this.props,t=e.dispatch,a=e.currentEnterprise;t({type:"global/fetchMyTeams",payload:{enterprise_id:a.enterprise_id,page:1,page_size:999},callback:e=>{if(e&&200===e.status_code){var t=e.list,a=[];t&&t.length>0&&t.map(e=>{e.region_list.map(t=>{var l={name:"".concat(e.team_alias," | ").concat(t.region_alias),value:[e.team_name,t.region_name]};a.push(l)})}),this.setState({userTeamList:a})}}})}),this.handleOpenLoging=(()=>{this.setState({Loading:!0,loading:!0})}),this.handleCloseLoging=(()=>{this.setState({Loading:!1,loading:!1})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.fetchCopyComponent=(()=>{var e=this.props,t=e.dispatch,a=e.groupDetail;t({type:"application/fetchCopyComponent",payload:{tenantName:D.default.getCurrTeamName(),group_id:a.app_id},callback:e=>{if(e&&200===e.status_code){var t=e.list,a=[];t&&t.length>0&&t.map((e,t)=>{a.push(t)}),this.setState({checkAllList:a,checkedList:a,dataSource:e.list,loading:!1,Loading:!1})}}})}),this.handleAddGroup=(e=>{var t=this.props.form.getFieldValue,a=this.state.userTeamList,l=t("teamRegion"),i=a.filter(e=>e.name===l),n="",r="";i.length>0&&(n=i&&i[0].value[0],r=i&&i[0].value[1]),this.handleOpenLoging(),(0,v.addGroup)((0,m.default)({team_name:n||D.default.getCurrTeamName(),region_name:r||D.default.getCurrRegionName()},e)).then(e=>{e&&(this.fetchTeamApps(n,r,e.bean.group_id),this.cancelAddGroup())}).finally(()=>{this.handleCloseLoging()})}),this.fetchTeamApps=((e,t,a)=>{var l=this.props.form,i=l.setFieldsValue;(0,y.getTeamRegionGroups)({query:"",team_name:e||D.default.getCurrTeamName(),region_name:t||D.default.getCurrRegionName(),noModels:!0}).then(t=>{var l=t&&t.list||[];e&&i({apps:a||(l.length>0?l[0].group_id:"")}),this.setState({apps:l}),this.handleCloseLoging()}).catch(()=>{this.handleCloseLoging()})}),this.handleSubmit=(()=>{var e=this.state.checkedList;this.props.form.validateFields((t,a)=>{t||(e&&e.length>20?g.default.warning({message:"\u5e94\u7528\u590d\u5236\u6700\u591a20\u4e2a\u7ec4\u4ef6"}):(this.setState({Loading:!0}),this.AddCopyTeamApps(a)))})}),this.AddCopyTeamApps=(e=>{var t=this.props,a=t.dispatch,l=t.groupDetail,i=t.onCancel,n=this.state,r=n.dataSource,s=n.checkedList,d=n.userTeamList,o={},c=e.apps,u=e.teamRegion;o.tar_group_id=c;var p=d.filter(e=>e.name===u);o.tar_team_name=p&&p[0].value[0],o.tar_region_name=p&&p[0].value[1];var I=[];s.map(e=>{var t=r[e],a=t.service_id,l=t.build_source,i=l.code_version,n=l.version,s=S.default.isCodeAppByBuildSource(l),d=s?i:n,o={service_id:a,change:{build_source:{version:d}}};I.push(o)}),o.services=I,a({type:"application/addCopyTeamApps",payload:(0,m.default)({tenantName:D.default.getCurrTeamName(),group_id:l.app_id},o),callback:e=>{if(this.handleCloseLoading(),e&&200===e.status_code){g.default.success({message:"\u590d\u5236\u6210\u529f"});var t=e.bean,l=t.tar_team_name,n=t.tar_region_name,r=t.tar_group_id;a(N.routerRedux.push("/team/".concat(l,"/region/").concat(n,"/apps/").concat(r))),i()}},handleError:e=>{e&&e.data&&e.data.msg_show&&g.default.warning({message:e.data.msg_show}),this.handleCloseLoading()}})}),this.handleCloseLoading=(()=>{this.setState({Loading:!1,loading:!1})}),this.handleSave=(e=>{var t=[...this.state.dataSource],a=t.findIndex(t=>e.service_id===t.service_id),l=t[a];t.splice(a,1,(0,m.default)({},l,e)),this.setState({dataSource:t})}),this.handleOverDiv=(e=>{return b.default.createElement("div",null,e)}),this.checkTeams=((e,t,a)=>{t&&0===t.length||!t?a("\u8bf7\u9009\u62e9\u56e2\u961f/\u96c6\u7fa4"):t&&1===t.length?a("\u8bf7\u9009\u62e9\u96c6\u7fa4"):a()}),this.save=((e,t,a)=>{var l=t?"code_version":"version",i=e;i.build_source[l]=a,this.handleSave((0,m.default)({},i))}),this.state={userTeamList:[],Loading:!0,loading:!0,dataSource:[],apps:[],checkedList:[],checkAllList:[],indeterminate:!1,checkAll:!0,addGroup:!1}}componentDidMount(){this.fetchCopyComponent(),this.getUserTeams(),this.fetchTeamApps()}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.form,g=e.groupDetail,m=l.getFieldDecorator,h=this.state,C=h.userTeamList,f=h.dataSource,v=h.checkedList,y=h.apps,M=h.loading,N=h.Loading,w=h.addGroup,T=h.indeterminate,k=h.checkAll,x=C&&C.length>0&&C,z="",_=D.default.getCurrTeamName(),L=D.default.getCurrRegionName();x&&C.map(e=>{e.value[0]===_&&e.value[1]===L&&(z=e.name)});var R=y&&y.length>0&&y,V=v&&v.length>0,W={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:17}}};return b.default.createElement(i.default,{className:j.default.TelescopicModal,onOk:this.handleSubmit,title:t,width:1200,visible:!0,onCancel:a,footer:[b.default.createElement(p.default,{onClick:a}," \u53d6\u6d88 "),b.default.createElement(p.default,{type:"primary",style:{marginTop:"20px"},disabled:!V,loading:N,onClick:this.handleSubmit},"\u786e\u5b9a")]},b.default.createElement(n.default,{spinning:M,tip:"Loading..."},b.default.createElement("div",{className:E.default.copyBox},w&&b.default.createElement(Z.default,{copyFlag:this.props.copyFlag,isAddGroup:!1,loading:M,onCancel:this.cancelAddGroup,onOk:this.handleAddGroup}),b.default.createElement(A.default,{onSubmit:this.handleSubmit,layout:"horizontal",hideRequiredMark:!0},b.default.createElement(o.default,null,x&&b.default.createElement(c.default,{span:6},b.default.createElement(P,(0,u.default)({},W,{label:"\u590d\u5236\u5230"}),m("teamRegion",{initialValue:z,rules:[{required:!0,validator:this.checkTeams}]})(b.default.createElement(I.default,{getPopupContainer:e=>e.parentNode,onChange:this.onSelectChange,placeholder:"\u56e2\u961f/\u96c6\u7fa4"},x.map(e=>{return b.default.createElement(G,{value:e.name},e.name)}))))),b.default.createElement(c.default,{span:10,style:{display:"flex",alignItems:"center"}},b.default.createElement(P,(0,u.default)({},W,{label:""}),m("apps",{initialValue:g.app_id,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5e94\u7528"}]})(b.default.createElement(I.default,{getPopupContainer:e=>e.parentNode,style:{width:"180px"},placeholder:"\u8bf7\u9009\u62e9\u5e94\u7528"},R&&R.map(e=>b.default.createElement(G,{key:e.group_id,value:e.group_id},e.group_name))))),b.default.createElement(p.default,{style:{margin:"0 0 24px 10px"},onClick:this.onAddGroup},"\u65b0\u5efa\u5e94\u7528")))),b.default.createElement("div",{className:E.default.tabTitle},b.default.createElement("div",{className:"".concat(E.default.w300," ").concat(E.default.over)},b.default.createElement(d.default,{indeterminate:T,onChange:this.onCheckAllChange,checked:k},"\u7ec4\u4ef6\u540d\u79f0")),b.default.createElement("div",{className:"".concat(E.default.w500," ").concat(E.default.over)},"\u6784\u5efa\u6e90\u4fe1\u606f"),b.default.createElement("div",{className:"".concat(E.default.w300," ").concat(E.default.over)},"\u7248\u672c\u4fee\u6539")),b.default.createElement(d.default.Group,{style:{width:"100%"},value:v,onChange:this.onGroupChange},f.map((e,t)=>{var a=e.service_cname,l=e.build_source,i=e.service_id,n=l||{},o=n.code_version,c=n.version,u=n.image,p=n.git_url,g=n.rain_app_name,h=n.service_source,C=S.default.isImageAppByBuildSource(l),f=S.default.isMarketAppByBuildSource(l),A=S.default.isCodeAppByBuildSource(l),v=A?o:c,y="third_party"===h,M=C?u:A?p:f?g:"",N="",D=b.default.createElement(I.default,{getPopupContainer:e=>e.parentNode,style:{width:90},defaultValue:C?"Tag":"branch"},!C&&b.default.createElement(G,{value:"branch"},"\u5206\u652f"),A&&b.default.createElement(G,{value:"Tag"},"Tag"));return N=C||A?b.default.createElement(P,null,m(i,{initialValue:v||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(b.default.createElement(s.default,{addonBefore:D,onPressEnter:t=>{this.save(e,A,t.target.value)},onBlur:t=>{this.save(e,A,t.target.value)},style:{width:"268px"}}))):y?"-":"\u6682\u4e0d\u652f\u6301\u53d8\u66f4\u7248\u672c",b.default.createElement("div",{className:E.default.tabTr,key:i},b.default.createElement(r.default,{title:a},b.default.createElement("div",{className:"".concat(E.default.w300," ").concat(E.default.over)},b.default.createElement(d.default,{value:t},a))),b.default.createElement(r.default,{title:y?"\u7b2c\u4e09\u65b9\u7ec4\u4ef6":M},b.default.createElement("div",{className:"".concat(E.default.w500," ").concat(E.default.over)},b.default.createElement("div",{style:{paddingRight:"5px",width:"80px",color:"rgba(0, 0, 0, 0.85)"}},C?"\u955c\u50cf:":A?"\u6e90\u7801:":f?"\u7ec4\u4ef6\u5e93:":y?"\u7b2c\u4e09\u65b9\u7ec4\u4ef6":""),b.default.createElement("div",{className:"".concat(E.default.w380," ").concat(E.default.over)},y?"-":M))),b.default.createElement("div",{className:"".concat(E.default.w300," ").concat(E.default.over),style:{height:"80px"}},N))})))))}})||f)||f);t.default=k},"4SMx":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=l(a("kLXV")),r=l(a("jehZ"));a("T2oS");var s=l(a("W9HT"));a("OaEy");var d=l(a("2fM7"));a("y8nQ");var o,c,u,p,g=l(a("Vl3Y")),m=a("MuoO"),I=i(a("q1tI")),h=l(a("e6Ls")),C=g.default.Item,f=d.default.Option,A=(o=g.default.create(),c=(0,m.connect)(),o(u=c((p=class extends I.PureComponent{constructor(e){super(e),this.onOk=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.onOk,i=t.group_name,n=t.note;a.validateFields({force:!0},(e,t)=>{if(!e&&l){var a=Object.assign(t,{group_name:i,note:n});l(a)}})}),this.fetchTeamMember=(e=>{var t=this.props,a=t.dispatch,l=t.teamName,i=t.regionName;this.setState({fetching:!0}),a({type:"teamControl/fetchMember",payload:{query:e,team_name:l,region_name:i,page_size:this.state.pageSize,page:this.state.page},callback:e=>{e&&this.setState({members:e.list||[],fetching:!1})}})}),this.state={fetching:!1,page:1,pageSize:99,members:[]}}componentWillMount(){this.fetchTeamMember()}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.form,i=e.principal,o=e.loading,c=void 0!==o&&o,u=this.state,p=u.members,m=u.fetching,A=l.getFieldDecorator,v={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}};return I.default.createElement(n.default,{title:t||"\u4fee\u6539\u8d1f\u8d23\u4eba",visible:!0,confirmLoading:c,className:h.default.TelescopicModal,onCancel:a,onOk:this.onOk},I.default.createElement(g.default,{onSubmit:this.onOk},I.default.createElement(C,(0,r.default)({},v,{label:"\u8d1f\u8d23\u4eba"}),A("username",{initialValue:i||"",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8d1f\u8d23\u4eba"}]})(I.default.createElement(d.default,{getPopupContainer:e=>e.parentNode,showSearch:!0,notFoundContent:m?I.default.createElement(s.default,{size:"small"}):null,filterOption:!1,onSearch:this.fetchTeamMember,style:{width:"100%"}},p.map(e=>I.default.createElement(f,{key:e.nick_name},e.nick_name,"/",e.user_name)))))))}},u=p))||u)||u);t.default=A},"6JQQ":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=l(a("kLXV"));a("/xke");var r=l(a("TeRw"));a("OaEy");var s=l(a("2fM7"));a("y8nQ");var d,o,c,u=l(a("Vl3Y")),p=i(a("q1tI")),g=u.default.Item,m=s.default.Option,I=(d=u.default.create(),d((c=class extends p.PureComponent{constructor(){super(...arguments),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.currGroupID;a.validateFields((e,t)=>{e||(t.group_id!==l?this.props.onOk(t.group_id):r.default.warning({message:"\u4e0d\u80fd\u9009\u62e9\u5f53\u524d\u6240\u5728\u5e94\u7528"}))})})}render(){var e=this.props.groups||[],t=this.props,a=t.loading,l=void 0!==a&&a,i=t.currGroupID,r=t.form,d=r.getFieldDecorator;return p.default.createElement(n.default,{title:"\u4fee\u6539\u7ec4\u4ef6\u6240\u5c5e\u5e94\u7528",visible:!0,confirmLoading:l,onOk:this.handleSubmit,onCancel:this.props.onCancel},p.default.createElement(u.default,{onSubmit:this.handleSubmit},p.default.createElement(g,{label:""},d("group_id",{initialValue:i&&Number(i)||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a!"}]})(p.default.createElement(s.default,{getPopupContainer:e=>e.parentNode},e.map(e=>{return p.default.createElement(m,{key:e.group_id,value:e.group_id},e.group_name)}))))))}},o=c))||o);t.default=I},"8vpL":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("/xke");var n,r,s=l(a("TeRw")),d=a("MuoO"),o=a("7DNP"),c=h(a("q1tI")),u=l(a("nyIC")),p=l(a("q76B")),g=l(a("QDog")),m=(l(a("hMqj")),l(a("J5jb")),l(a("rIpq")),l(a("zcww")),l(a("+iC2")),l(a("TO+K")),l(a("e6Ls")));l(a("R2TL"));function I(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var C=(n=(0,d.connect)(e=>{var t=e.user,a=e.appControl,l=e.global,i=e.teamControl,n=e.enterprise,r=e.loading;return{currUser:t.currentUser,appDetail:a.appDetail,pods:a.pods,groups:l.groups,build_upgrade:a.build_upgrade,currentTeam:i.currentTeam,currentRegionName:i.currentRegionName,currentEnterprise:n.currentEnterprise,deleteAppLoading:r.effects["appControl/deleteApp"],reStartLoading:r.effects["appControl/putReStart"],startLoading:r.effects["appControl/putStart"],stopLoading:r.effects["appControl/putStop"],moveGroupLoading:r.effects["appControl/moveGroup"],editNameLoading:r.effects["appControl/editName"],updateRollingLoading:r.effects["appControl/putUpdateRolling"],deployLoading:r.effects["appControl/putUpgrade"],buildInformationLoading:r.effects["appControl/getBuildInformation"]}},null,null,{withRef:!0}),n(r=class extends c.default.Component{constructor(){var e;super(...arguments),e=this,this.state={flag:!1,appAlias:"",promptModal:null,closes:!1,start:!1,updated:!1,actionIng:!1,keyes:!1,srcUrl:"/static/www/weavescope/index.html",teamName:"",regionName:"",build:!1},this.cancelDeleteApp=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({flag:!1})},this.handleDeleteApp=(()=>{var e=g.default.getCurrTeamName(),t=g.default.getCurrRegionName(),a=this.props,l=a.group_id,i=a.dispatch;i({type:"appControl/deleteApp",payload:{team_name:e,app_alias:this.state.appAlias},callback:()=>{this.cancelDeleteApp(!1),this.refreshFrame(),i({type:"global/fetchGroups",payload:{team_name:e}}),i(o.routerRedux.replace("/team/".concat(e,"/region/").concat(t,"/apps/").concat(l)))}})}),this.handleOffHelpfulHints=(()=>{this.setState({promptModal:null,closes:!1})}),this.saveRef=(e=>{this.ref=e}),this.getChildCom=(()=>{return this.ref?this.ref.getWrappedInstance({}):null}),this.handleOperation=(e=>{var t=this.state.actionIng,a=g.default.getCurrTeamName(),l=(g.default.getCurrRegionName(),this.props),i=(l.group_id,l.dispatch);if(t)s.default.warning({message:"\u6b63\u5728\u6267\u884c\u64cd\u4f5c\uff0c\u8bf7\u7a0d\u540e"});else{var n={putReStart:"\u64cd\u4f5c\u6210\u529f\uff0c\u91cd\u542f\u4e2d",putStart:"\u64cd\u4f5c\u6210\u529f\uff0c\u542f\u52a8\u4e2d",putStop:"\u64cd\u4f5c\u6210\u529f\uff0c\u5173\u95ed\u4e2d",putUpdateRolling:"\u64cd\u4f5c\u6210\u529f\uff0c\u66f4\u65b0\u4e2d",putBuild:"\u64cd\u4f5c\u6210\u529f\uff0c\u90e8\u7f72\u4e2d"};i({type:"appControl/".concat(e),payload:{team_name:a,app_alias:this.state.appAlias},callback:t=>{t&&s.default.success({message:n[e]}),this.handleOffHelpfulHints(),this.refreshFrame()}})}}),this.handleJumpAgain=(()=>{var e=this.state.promptModal;if("build"===e)return this.handleDeploy(),null;var t="stop"===e?"putStop":"start"===e?"putStart":"restart"===e?"putReStart":"build"===e?"putBuild":"rolling"===e?"putUpdateRolling":"";this.handleOperation(t)}),this.refreshFrame=(()=>{document.getElementById("myframe").contentWindow.location.reload(!0)}),this.handleDeploy=(()=>{var e=this.state,t=e.actionIng,a=e.appAlias,l=g.default.getCurrTeamName(),i=(g.default.getCurrRegionName(),this.props),n=(i.build_upgrade,i.dispatch);t?s.default.warning({message:"\u6b63\u5728\u6267\u884c\u64cd\u4f5c\uff0c\u8bf7\u7a0d\u540e"}):n({type:"appControl/putDeploy",payload:{team_name:l,app_alias:a,group_version:"",is_upgrate:""},callback:e=>{e&&s.default.success({message:"\u64cd\u4f5c\u6210\u529f\uff0c\u90e8\u7f72\u4e2d"}),this.handleOffHelpfulHints(),this.refreshFrame()}})})}componentWillMount(){var e=this,t=g.default.getCurrTeamName(),a=g.default.getCurrRegionName(),l=this.props,i=l.group_id,n=l.dispatch,r="".concat(u.default.baseUrl,"/console/teams/").concat(t,"/regions/").concat(a,"/topological?group_id=").concat(i),s="".concat(u.default.baseUrl,"/console/teams/").concat(t,"/regions/").concat(a,"/topological"),d="".concat(u.default.baseUrl,"/console/teams/").concat(t,"/groups/").concat(i);try{window.iframeGetNodeUrl=function(){return r},window.iframeGetNodeVistitUrl=function(){return s},window.iframeGetMonitor=function(e,a){return n({type:"application/groupMonitorData",payload:{team_name:t,group_id:i},callback:t=>{t&&e&&e(t)},handleError:e=>{a&&a(e)}}),r},window.iframeGetAppName=function(){return d},window.iframeGetTenantName=function(){return t},window.iframeGetRegion=function(){return a},window.iframeGetGroupId=function(){return i},window.handleClickService=function(e,l){n(l?o.routerRedux.push("/team/".concat(t,"/region/").concat(a,"/apps/").concat(e.app_id)):o.routerRedux.push("/team/".concat(t,"/region/").concat(a,"/components/").concat(e.service_alias,"/overview")))},window.handleClickRelation=function(e){n(o.routerRedux.push("/team/".concat(t,"/region/").concat(a,"/components/").concat(e.service_alias,"/overview")))},window.handleClickTerminal=function(l){e.setState({teamName:t,regionName:a,appAlias:l.service_alias});document.getElementById("links").click()},window.handleClickBuild=function(t,a){"build"==t&&e.setState({closes:!1,start:!1,updated:!1,build:!0,appAlias:a.service_alias,promptModal:"build"})},window.handleClickUpdate=function(t,a){"update"==t&&e.setState({closes:!1,start:!1,updated:!0,appAlias:a.service_alias,promptModal:"rolling"})},window.handleClickCloses=function(t,a){"closes"==t&&e.setState({closes:!0,start:!1,updated:!1,appAlias:a.service_alias,promptModal:"stop",keyes:!e.state.keyes,srcUrl:e.state.srcUrl})},window.handleClickStart=function(t,a){"start"==t&&e.setState({start:!0,closes:!1,updated:!1,appAlias:a.service_alias,promptModal:"start",keyes:!e.state.keyes,srcUrl:e.state.srcUrl})},window.handleClickDelete=function(t,a){"deleteApp"==t&&e.setState({flag:!0,appAlias:a.service_alias})}}catch(e){}}render(){var e=this.props,t=e.deleteAppLoading,a=(e.reStartLoading,e.stopLoading),l=e.startLoading,n=e.updateRollingLoading,r=(e.flagHeight,e.iframeHeight),s=this.state,d=s.flag,g=s.promptModal,I=s.closes,h=s.start,C=s.updated,f=s.keyes,A=s.srcUrl,v=s.teamName,y=s.regionName,M=s.appAlias,N=s.build,b={start:"\u542f\u52a8",stop:"\u5173\u95ed",rolling:"\u66f4\u65b0",build:"\u6784\u5efa"};return c.default.createElement("div",{key:f,style:{height:r}},d&&c.default.createElement(p.default,{onOk:this.handleDeleteApp,onCancel:this.cancelDeleteApp,loading:t,title:"\u5220\u9664\u7ec4\u4ef6",desc:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u7ec4\u4ef6\u5417\uff1f",subDesc:"\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d"}),(I||h||C||N)&&c.default.createElement(i.default,{title:"\u53cb\u60c5\u63d0\u793a",visible:g,className:m.default.TelescopicModal,onOk:this.handleJumpAgain,onCancel:this.handleOffHelpfulHints,confirmLoading:"stop"===g?a:"start"===g?l:"rolling"===g?n:!g},c.default.createElement("p",{style:{textAlign:"center"}},"\u786e\u5b9a",b[g],"\u5f53\u524d\u7ec4\u4ef6\uff1f")),c.default.createElement(o.Link,{id:"links",to:"/team/".concat(v,"/region/").concat(y,"/components/").concat(M,"/webconsole"),target:"_blank"}),c.default.createElement("iframe",{src:"".concat(u.default.baseUrl).concat(A),style:{width:"100%",height:"100%"},id:"myframe",key:f,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",scrolling:"auto",frameBorder:"no",border:"0",marginWidth:"0",marginHeight:"0"}))}})||r),f=C;t.default=f},CfDn:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("jehZ"));a("T2oS");var r,s,d,o=l(a("W9HT")),c=l(a("QDog")),u=l(a("hMqj")),p=a("MuoO"),g=i(a("q1tI")),m=l(a("Z0Jj")),I=l(a("t3BL")),h=(r=(0,p.connect)(e=>{var t=e.teamControl,a=e.application;return{currentTeamPermissionsInfo:t.currentTeamPermissionsInfo,groupDetail:a.groupDetail||{}}},null,null,{pure:!1}),r((d=class extends g.PureComponent{constructor(e){super(e),this.handlePermissions=(e=>{var t=this.props.currentTeamPermissionsInfo;return u.default.querySpecifiedPermissionsInfo(t,e)}),this.state={currApp:{},loading:!0,appID:this.getGroupId(),operationPermissions:this.handlePermissions("queryControlInfo"),appPermissions:this.handlePermissions("queryAppInfo"),appConfigGroupPermissions:this.handlePermissions("queryAppConfigGroupInfo"),componentPermissions:this.handlePermissions("queryComponentInfo")}}componentWillMount(){var e=this.props.dispatch,t=this.state.appPermissions.isAccess;t||c.default.withoutPermission(e)}getGroupId(){var e=this.props.match.params;return e.appID}render(){var e=this.props.groupDetail;return g.default.createElement(g.Fragment,null,"{}"===JSON.stringify(e)?g.default.createElement(o.default,null):"helm"===e.app_type?g.default.createElement(I.default,(0,n.default)({},this.props,this.state)):g.default.createElement(m.default,(0,n.default)({},this.props,this.state)))}},s=d))||s);t.default=h},EhCg:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var i=l(a("BMrR"));a("jCWc");var n=l(a("kPKH")),r=l(a("jehZ"));a("sPJy");var s=l(a("bE4q"));a("Pwec");var d=l(a("CtXQ"));a("Znn+");var o,c,u,p,g=l(a("ZTPi")),m=l(a("QDog")),I=l(a("TSYQ")),h=a("MuoO"),C=l(a("bALw")),f=l(a("17x9")),A=M(a("q1tI")),v=l(a("Sp8k"));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}g.default.TabPane;function N(e,t){var a={};return Object.keys(e).forEach(l=>{(0,C.default)(l).test(t)&&(a=e[l])}),a}var b=(o=(0,h.connect)(),o((p=u=class extends A.PureComponent{constructor(e){super(e),this.handleTitleList=(e=>{this.props.onTabChange?(this.props.onTabChange(e.key),this.setState({back:"#e3e3e3"})):this.setState({back:""})}),this.onChange=(e=>{this.props.onTabChange&&this.props.onTabChange(e)}),this.getBreadcrumbProps=(()=>{return{routes:this.props.routes||this.context.routes,params:this.props.params||this.context.params,routerLocation:this.props.location||this.context.location,breadcrumbNameMap:this.props.breadcrumbNameMap||this.context.breadcrumbNameMap||{}}}),this.conversionFromProps=(()=>{var e=this.props,t=e.breadcrumbList,a=e.linkElement,l=void 0===a?"a":a;return A.default.createElement(s.default,{className:v.default.breadcrumb},t.map((e,t)=>A.default.createElement(s.default.Item,{key:"bread".concat(t)},e.icon?A.default.createElement(d.default,{style:{marginRight:"5px"},type:e.icon}):"",e.href?(0,A.createElement)(l,{["a"===l?"href":"to"]:e.href},e.title):e.title)))}),this.conversionFromLocation=((e,t)=>{var a=this.props.linkElement,l=void 0===a?"a":a,i=e.pathname.split("/").filter(e=>e),n=i.map((e,a)=>{var n="/".concat(i.slice(0,a+1).join("/")),r=N(t,n),d=a!==i.length-1&&r.component;return r.name&&!r.hideInBreadcrumb?A.default.createElement(s.default.Item,{key:n},(0,A.createElement)(d?l:"span",{["a"===l?"href":"to"]:n},r.name)):null});return A.default.createElement(s.default,{className:v.default.breadcrumb},n)}),this.conversionBreadcrumbList=(()=>{var e=this.props.breadcrumbList,t=this.getBreadcrumbProps(),a=t.routes,l=t.params,i=t.routerLocation,n=t.breadcrumbNameMap;return e&&e.length?this.conversionFromProps():a&&l?A.default.createElement(s.default,{className:v.default.breadcrumb,routes:a.filter(e=>e.breadcrumbName),params:l,itemRender:this.itemRender}):location&&location.pathname?this.conversionFromLocation(i,n):null}),this.itemRender=((e,t,a,l)=>{var i=this.props.linkElement,n=void 0===i?"a":i,r=a.indexOf(e)===a.length-1;return r||!e.component?A.default.createElement("span",null,e.breadcrumbName):(0,A.createElement)(n,{href:l.join("/")||"/",to:l.join("/")||"/"},e.breadcrumbName)}),this.state={back:""}}render(){var e,t=this.props,a=t.title,l=t.logo,s=t.action,d=t.content,o=t.extraContent,c=t.tabList,u=t.className,p=t.tabActiveKey,g=t.isSvg,h=(this.state.back,m.default.fetchSvg("appmarket"),(0,I.default)(v.default.pageHeader,u));void 0!==p&&c&&(e=c.filter(e=>e.default)[0]||c[0]);this.conversionBreadcrumbList();var C={defaultActiveKey:e&&e.key};return void 0!==p&&(C.activeKey=p),A.default.createElement("div",{className:h},A.default.createElement("div",{className:v.default.detail},l&&A.default.createElement("div",{className:v.default.logo},l),A.default.createElement("div",{className:v.default.main},A.default.createElement("div",{className:v.default.row},a&&A.default.createElement("h1",{className:v.default.title},a),s&&A.default.createElement("div",{className:v.default.action},s)),A.default.createElement("div",{className:v.default.row},d&&A.default.createElement("div",{className:v.default.content},d),o&&A.default.createElement("div",{className:v.default.extraContent},o)))),c&&c.length&&A.default.createElement("div",{className:v.default.ServiceBox},A.default.createElement(i.default,{style:{marginBottom:"20px"}},c.map(e=>{var t=e.key,a=e.tab;return A.default.createElement(n.default,(0,r.default)({span:8},C,{className:v.default.ServiceDiv,onClick:this.handleTitleList.bind(this,e)}),g&&m.default.fetchSvg("localApplication"===t?"appComponent":t.indexOf("Helm-")>-1?"HelmSvg":"appmarket"),A.default.createElement("p",{className:v.default.ServiceSmallTitle},a))}))))}},u.contextTypes={routes:f.default.array,params:f.default.object,location:f.default.object,breadcrumbNameMap:f.default.object},c=p))||c);t.default=b},"Gl/x":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fOrg");var i=l(a("+KLJ"));a("2qtc");var n=l(a("kLXV"));a("7Kak");var r=l(a("9yH6"));a("+L6B");var s=l(a("2/Rp"));a("T2oS");var d=l(a("W9HT"));a("5NDa");var o=l(a("5rEg"));a("Mwp2");var c=l(a("VXEj")),u=l(a("jehZ"));a("IzEo");var p=l(a("bx4M"));a("5Dmo");var g=l(a("3S7+"));a("+BJd");var m=l(a("mr32")),I=l(a("p0pE"));a("y8nQ");var h=l(a("Vl3Y"));a("Znn+");var C=l(a("ZTPi"));a("OaEy");var f,A,v,y=l(a("2fM7")),M=a("MuoO"),N=a("7DNP"),b=V(a("q1tI")),S=l(a("/VoG")),D=l(a("d5pB")),Z=l(a("lEF+")),j=l(a("e6Ls")),E=l(a("xNuS")),w=l(a("hH+r")),T=l(a("iPMB")),P=l(a("jWJt")),G=a("34ay"),k=a("vSx2"),x=l(a("QDog")),z=l(a("hMqj")),_=l(a("ZgmS")),L=l(a("yxQP"));function R(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var W=y.default.Option,B=C.default.TabPane,O=(f=(0,M.connect)(e=>{var t=e.global,a=e.loading,l=e.teamControl,i=e.enterprise;return{loading:a,enterprise:t.enterprise,currentTeam:l.currentTeam,currentRegionName:l.currentRegionName,currentEnterprise:i.currentEnterprise,currentTeamPermissionsInfo:l.currentTeamPermissionsInfo}},null,null,{pure:!1}),A=h.default.create(),f(v=A(v=class extends b.PureComponent{constructor(e){super(e),this.onCancelCreate=(()=>{this.setState({showCreate:null,helmCreate:null,addAppLoading:!1})}),this.getCloudRecommendApps=(e=>{var t=this.state.currentKey,a=this.props.currentEnterprise;this.props.dispatch({type:"market/fetchMarkets",payload:{name:t,enterprise_id:a.enterprise_id,query:e?"":this.state.cloudApp_name||"",pageSize:e?9:this.state.cloudPageSize,page:e?1:this.state.cloudPage},callback:e=>{e?this.setState({cloudList:e.list||[],cloudTotal:e.total},()=>{e._code&&210===e.status_code&&e._condition&&10503===e._condition?this.setState({isSpincloudList:-1,networkText:e.msg_show}):this.setState({isSpincloudList:!1})}):this.setState({isSpincloudList:!1})}})}),this.getApps=(e=>{var t=this.props,a=t.currentEnterprise,l=t.dispatch,i=this.state.scopeMax;if(i&&"localApplication"!==i)return null;l({type:"market/fetchAppModels",payload:{enterprise_id:a.enterprise_id,app_name:e?"":this.state.app_name||"",scope:e?"":this.state.scope,page_size:e?9:this.state.pageSize,page:e?1:this.state.page,need_install:!0,is_complete:1},callback:e=>{e?this.setState({list:e.list||[],total:e.total},()=>{this.setState({isSpinList:!1})}):this.setState({isSpinList:!1})}})}),this.getMarketsTab=(()=>{var e=this.props,t=e.dispatch,a=e.currentEnterprise,l=this.state.scopeMax;t({type:"market/fetchMarketsTab",payload:{enterprise_id:a.enterprise_id},callback:e=>{var t=e&&e.list||[],a=[];t&&t.length>0&&t.map(e=>{var t=e.name,l=e.status,i=e.alias;1===l&&a.push(Object.assign({},e,{tab:i||t,key:t}))}),this.setState({rainStoreTab:a}),l&&"localApplication"!==l&&this.handleTabMaxChange(l)}})}),this.getHelmMarketsTab=(()=>{var e=this.props,t=e.dispatch,a=e.currentEnterprise,l=e.isHelm,i=void 0===l||l;i&&t({type:"market/fetchHelmMarketsTab",payload:{enterprise_id:a.enterprise_id},callback:e=>{if(e&&200===e.status_code){var t=[];Array.isArray(e)&&e.map(e=>{t.push(Object.assign({},e,{tab:e.name,key:"Helm-".concat(e.name)}))}),this.setState({helmStoreTab:t})}}})}),this.getHelmAppStore=(e=>{var t=this.props,a=t.dispatch,l=t.currentEnterprise,i=this.state.helmPag,n=Object.assign({},{name:e,enterprise_id:l.enterprise_id},i);a({type:"market/fetchHelmAppStore",payload:n,callback:e=>{if(e&&200===e.status_code){var t=Object.assign({},i,{total:e&&e.length||0}),a=[];if(Array.isArray(e)){var l=i.query,n=i.page;if(l){var r=[],s=l.length;e.map(e=>{if(s<=e.name.length){var t=e.name.substring(0,s);t.indexOf(l)>-1&&r.push(e)}}),t.total=r.length,a=r.length>9?r.splice(9*(n-1),9):r}else a=e.splice(n>1?9*(n-1):0,9)}this.setState({helmLoading:!1,helmList:a,helmPag:t})}}})}),this.handleSearch=(e=>{var t=this.state.scopeMax;if("localApplication"===t)this.setState({app_name:e,page:1},()=>{this.getApps()});else if(t.indexOf("Helm-")>-1){var a=this.state.helmPag,l=Object.assign({},a,{page:1,query:e});this.setState({helmPag:l},()=>{this.getHelmAppStore(t.slice(5))})}else this.setState({cloudApp_name:e,cloudPage:1},()=>{this.getCloudRecommendApps()})}),this.hanldePageChange=(e=>{this.setState({page:e},()=>{this.getApps()})}),this.hanldeCloudPageChange=(e=>{this.setState({cloudPage:e},()=>{this.getCloudRecommendApps()})}),this.hanldeHelmPageChange=(e=>{var t=this.state,a=t.helmPag,l=t.scopeMax,i=Object.assign({},a,{page:e});this.setState({helmPag:i},()=>{this.getHelmAppStore(l.slice(5))})}),this.handleTabChange=(e=>{this.setState({scope:e,page:1},()=>{this.getApps()})}),this.handleTabMaxChange=(e=>{this.setState({page:1,cloudPage:1,currentKey:e,scopeMax:e,isSpinList:!0,isSpincloudList:!0,app_name:"",cloudApp_name:""},()=>{"localApplication"===e?this.getApps("reset"):e.indexOf("Helm-")>-1?this.getHelmAppStore(e.slice(5)):this.getCloudRecommendApps("reset")}),this.loadMore(e)}),this.showCreate=(e=>{var t=this.state.handleType;t?this.setState({installBounced:e}):this.setState({showCreate:e})}),this.handleHelmIntall=(e=>{var t=this.state,a=t.scopeMax,l=t.helmStoreTab,i={};l.map(e=>{e.key===a&&(i=e)}),this.setState({helmCreate:Object.assign({},e,i,{app_store_name:a.slice(5)})})}),this.handleInstallBounced=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.dispatch,i=t.groupId,n=t.refreshCurrent,r=this.state,s=r.installBounced,d=r.is_deploy,o=r.scopeMax,c=r.handleType,u=r.currentKey,p=x.default.getCurrTeamName();a.validateFields((e,t)=>{e||l({type:"createApp/installApp",payload:{team_name:p,group_id:i||0,app_id:s.app_id,is_deploy:d,group_key:s.ID,app_version:t.group_version,marketName:u,install_from_cloud:"localApplication"!==o},callback:()=>{l({type:"global/fetchGroups",payload:{team_name:p}}),this.setState({installBounced:!1,is_deploy:!0}),c&&n&&n(),l(N.routerRedux.push("/team/".concat(p,"/region/").concat(x.default.getCurrRegionName(),"/apps/").concat(i||0)))}})})}),this.handleCreate=((e,t)=>{this.setState({addAppLoading:!0});var a=this.props.dispatch,l=this.state,i=l.showCreate,n=l.currentKey,r=x.default.getCurrTeamName();a({type:"createApp/installApp",payload:(0,I.default)({team_name:r},e,{app_id:i.app_id,is_deploy:t,group_key:i.group_key,app_version:e.group_version,marketName:n}),callback:()=>{a({type:"global/fetchGroups",payload:{team_name:r},callback:()=>{this.onCancelCreate(),a(N.routerRedux.push("/team/".concat(r,"/region/").concat(x.default.getCurrRegionName(),"/apps/").concat(e.group_id)))}})}})}),this.handleCreateHelm=((e,t)=>{var a=this.props.dispatch,l=x.default.getCurrTeamName();this.setState({helmInstallLoading:!0}),a({type:"createApp/installHelmApp",payload:(0,I.default)({team_name:l},e,{is_deploy:t}),callback:e=>{a({type:"global/fetchGroups",payload:{team_name:l},callback:()=>{e&&200===e.status_code&&e.bean&&e.bean.ID&&(this.onCancelCreate(),a(N.routerRedux.push("/team/".concat(l,"/region/").concat(x.default.getCurrRegionName(),"/apps/").concat(e.bean.ID)))),this.setState({helmInstallLoading:!1})},renderError:()=>{this.setState({helmInstallLoading:!1})}})}})}),this.handleCloudCreate=((e,t)=>{this.setState({addAppLoading:!0});var a=this.state,l=a.scopeMax,i=a.currentKey,n=this.state.showCreate;this.props.dispatch({type:"createApp/installApp",payload:(0,I.default)({app_id:n.app_id,team_name:x.default.getCurrTeamName()},e,{is_deploy:t,app_versions:n.app_versions,group_key:n.app_key_id,app_version:e.group_version,install_from_cloud:"localApplication"!==l,marketName:i}),callback:()=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:x.default.getCurrTeamName()},callback:()=>{this.onCancelCreate(),this.setState({is_deploy:!0}),this.props.dispatch(N.routerRedux.push("/team/".concat(x.default.getCurrTeamName(),"/region/").concat(x.default.getCurrRegionName(),"/apps/").concat(e.group_id)))}})}})}),this.handleVisibleChange=((e,t)=>{var a=this.state.visiblebox,l=e.ID;a[l]=t,this.setState({visiblebox:a}),this.queryExport(e)}),this.showMarketAppDetail=(e=>{e&&e.app_detail_url?window.open(e.app_detail_url,"_blank"):this.setState({showApp:e,showMarketAppDetail:!0})}),this.hideMarketAppDetail=(()=>{this.setState({showApp:{},showMarketAppDetail:!1})}),this.loadMore=(e=>{this.props.handleServiceComponent(e)}),this.handleTabs=((e,t)=>{var a=this.state.handleType;return b.default.createElement(C.default,{defaultActiveKey:"",onChange:this.handleTabChange,style:{background:"#fff",padding:a?"0 20px 20px":"20px "}},e.map(e=>{var a=e.key,l=e.tab;return b.default.createElement(B,{tab:l,key:a},b.default.createElement("div",{className:L.default.cardList,style:{paddingBottom:"20px"}},t))}))}),this.renderApp=((e,t,l)=>{var i=this.state,n=i.scopeMax,r=i.handleType,s="localApplication"!=n,d=e=>b.default.createElement("div",{title:e.app_name||e.name||"",style:{maxWidth:"200px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},b.default.createElement("a",{onClick:()=>{this.showMarketAppDetail(e)}},e.app_name||e.name)),o=b.default.createElement("div",{title:e.version,className:L.default.cardVersionStyle},b.default.createElement("span",null,"\u7248\u672c:"),b.default.createElement("div",{className:L.default.overScroll},b.default.createElement("div",null,e.versions_info&&e.versions_info.map((e,t)=>{return b.default.createElement(m.default,{title:e.version,className:L.default.cardVersionTagStyle,color:"green",size:"small",key:t},e.version)}),e.versions&&e.versions.map((e,t)=>{return b.default.createElement(m.default,{className:L.default.cardVersionTagStyle,color:"green",size:"small",title:e.app_version||e.version,key:t},e.app_version||e.version)})))),c=[b.default.createElement(g.default,{title:t?"\u70b9\u51fb\u5b89\u88c5":"\u4e0d\u53ef\u5b89\u88c5"},b.default.createElement("div",{onClick:()=>{t&&this.showCreate(e)}},b.default.createElement("div",{className:L.default.cardTitle},b.default.createElement("span",{title:e.app_name},e.app_name)),o))],u=t?[b.default.createElement("span",{onClick:()=>{"helm"===l?this.handleHelmIntall(e):this.showCreate(e)}},"\u5b89\u88c5")]:[],I=a("Vkwn");return b.default.createElement(b.Fragment,null,(1==e.is_official||1==e.is_official)&&b.default.createElement(w.default,{style:{marginLeft:6,marginTop:6}}),b.default.createElement(p.default,{className:r?"".concat(L.default.cards," ").concat(L.default.clearAvatar):L.default.cards,actions:r?c:u},b.default.createElement(p.default.Meta,{className:L.default.cardsMetas,style:r&&{height:80,overflow:"hidden",display:"flex",justifyContent:"center",cursor:"pointer"},avatar:b.default.createElement("img",{style:r?{width:80,height:80,margin:" 0 auto"}:{width:110,height:110,margin:" 0 auto"},alt:e.title,src:s?e.logo||e.icon||I:e.pic||I,height:r?154:80,onClick:()=>{this.showMarketAppDetail(e)}}),title:r?"":d(e),description:r?"":b.default.createElement(b.Fragment,null,b.default.createElement("span",{style:{display:"block",color:"rgb(200, 200, 200)",marginBottom:2,fontSize:12}},o,!s&&b.default.createElement("div",{className:L.default.memoryStyle},b.default.createElement("span",null,"\u5185\u5b58: "),_.default.unit(e.min_memory||128,"MB"))),b.default.createElement(E.default,{className:L.default.item,lines:3},b.default.createElement("span",{title:e.describe||e.description},e.describe||e.description)))})))}),this.renderSuccessOnChange=(()=>{this.setState({is_deploy:!this.state.is_deploy})}),this.renderFormComponent=(()=>{var e={labelCol:{span:5},wrapperCol:{span:19}},t=this.props.form,a=t.getFieldDecorator,l=this.state.installBounced,i=l.versions_info||l.versions;return b.default.createElement(h.default,{onSubmit:this.handleInstallBounced,layout:"horizontal",hideRequiredMark:!0},b.default.createElement(h.default.Item,(0,u.default)({},e,{label:"\u9009\u62e9\u7248\u672c"}),a("group_version",{initialValue:i[0].version||i[0].app_version,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7248\u672c"}]})(b.default.createElement(y.default,{getPopupContainer:e=>e.parentNode,style:{width:"220px"}},i.map(e=>{return b.default.createElement(W,{key:e.version,value:e.version||e.app_version},e.version||e.app_version)})))))}),this.handleCertification=(e=>{this.setState({authorizations:e})});var t=this.props,l=t.handleType,i=void 0===l?"":l,n=t.match,r=t.scope,s=void 0===r?"":r,d=t.moreState,o=t.scopeMax,c=decodeURIComponent("Service"===i?"":n&&n.params&&n.params.keyword||"");this.state={helmInstallLoading:!1,list:[],authorizations:!1,app_name:c,page:1,pageSize:9,total:0,isSpinList:!0,isSpincloudList:!0,networkText:"",cloudList:[],cloudApp_name:"",cloudPage:1,cloudPageSize:9,cloudTotal:0,helmCreate:null,showCreate:null,scope:s,scopeMax:o||"localApplication",showApp:{},showMarketAppDetail:!1,installBounced:!1,handleType:i||null,moreState:d||null,is_deploy:!0,localAppTab:[{key:"localApplication",tab:"\u672c\u5730\u7ec4\u4ef6\u5e93"}],rainStoreTab:[],helmStoreTab:[],currentKey:"",helmList:[],helmLoading:!0,helmPag:{pageSize:9,total:0,page:1,query:""},addAppLoading:!1},this.mount=!1}componentWillMount(){var e=this.props,t=e.currentTeamPermissionsInfo,a=e.dispatch;z.default.canCreateComponent(t,a)}componentDidMount(){this.mount=!0,this.getApps(),this.getMarketsTab(),this.getHelmMarketsTab()}componentWillUnmount(){this.mount=!1,this.mountquery=!1}render(){var e=this.props,t=e.loading,a=e.currentEnterprise,l=e.currentTeam,u=e.currentRegionName,p=e.isHelm,g=void 0===p||p,m=this.state,I=m.handleType,h=m.moreState,C=m.installBounced,f=m.list,A=m.scopeMax,v=m.cloudList,y=m.cloudPage,M=m.cloudPageSize,N=m.cloudTotal,E=m.isSpinList,w=m.isSpincloudList,z=m.networkText,_=m.page,R=m.pageSize,V=m.total,W=m.helmInstallLoading,B=m.currentKey,O=m.authorizations,H=m.showCreate,Y=m.showMarketAppDetail,X=m.showApp,J=m.is_deploy,U=m.app_name,Q=m.cloudApp_name,F=m.helmList,K=m.helmPag,q=m.helmLoading,$=m.helmCreate,ee=m.addAppLoading,te=m.localAppTab,ae=m.rainStoreTab,le=m.helmStoreTab,ie=(x.default.fetchSvg("dockerSvg"),!!h),ne={current:h?1:_,pageSize:h?3:R,total:h?1:V,hideOnSinglePage:ie,onChange:e=>{this.hanldePageChange(e)}},re={current:h?1:y,pageSize:h?3:M,total:h?1:N,hideOnSinglePage:ie,onChange:e=>{this.hanldeCloudPageChange(e)}},se={current:h?1:K.page,pageSize:h?3:K.pageSize,total:h?1:K.total,hideOnSinglePage:ie,onChange:e=>{this.hanldeHelmPageChange(e)}},de=!0,oe=[...te,...ae,...le];if(oe&&oe.length>0){var ce=oe.filter(e=>{return e.name===B});ce&&ce.length>0&&(de=(0,G.fetchMarketAuthority)(ce[0],"ReadInstall"))}I&&h&&("localApplication"===A&&f&&f.length>0||"localApplication"!=A&&v&&v.length>0)&&this.loadMore,c.default,!E&&f&&f.length;var ue=b.default.createElement(c.default,{bordered:!1,grid:{gutter:24,lg:3,md:2,sm:1,xs:1},pagination:re,dataSource:v,renderItem:e=>b.default.createElement(c.default.Item,{style:{border:"none"}},this.renderApp(e,de))}),pe=b.default.createElement(c.default,{bordered:!1,grid:{gutter:24,lg:3,md:2,sm:1,xs:1},pagination:se,dataSource:F,renderItem:e=>{var t=e;return e.versions&&e.versions.length>0&&(t=Object.assign({},e,e.versions[0])),b.default.createElement(c.default.Item,{style:{border:"none"}},this.renderApp(t,!0,"helm"))}}),ge="localApplication"==A?U:Q,me=b.default.createElement("div",{style:{textAlign:"center"}},b.default.createElement("span",{id:"searchWrap",style:{display:"inline-block"}},b.default.createElement(o.default.Search,{ref:"searchs",placeholder:"\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0",enterButton:"\u641c\u7d22",size:"large",value:ge,onChange:e=>{this.setState({app_name:e.target.value,cloudApp_name:e.target.value})},defaultValue:ge,onSearch:this.handleSearch,style:{width:500}}))),Ie=[{key:"",tab:"\u5168\u90e8"}],he=[{key:"enterprise",tab:"\u516c\u53f8\u53d1\u5e03"},{key:"team",tab:"\u56e2\u961f\u53d1\u5e03"}],Ce=(Ie.concat(he),[]);Ce=(0,k.createTeam)((0,k.createEnterprise)(Ce,a),l,u),Ce.push({title:"\u521b\u5efa\u7ec4\u4ef6"});var fe=b.default.createElement("div",{style:{height:"255px",lineHeight:"255px",textAlign:"center"}},b.default.createElement(d.default,{size:"large"}));return b.default.createElement("div",null,O&&b.default.createElement(S.default,{eid:a.enterprise_id,marketName:O,title:"\u83b7\u53d6\u4e91\u5e94\u7528\u5546\u5e97\u6388\u6743",onCancel:()=>{this.setState({authorizations:!1})},currStep:2}),$&&b.default.createElement(D.default,{installLoading:W,data:$,onSubmit:this.handleCreateHelm,onCancel:this.onCancelCreate}),H&&b.default.createElement(Z.default,{disabled:t.effects["createApp/installApp"],onSubmit:I?this.handleCreate:"localApplication"==A?this.handleCreate:this.handleCloudCreate,onCancel:this.onCancelCreate,showCreate:H,addAppLoading:ee}),Y&&b.default.createElement(T.default,{onOk:this.hideMarketAppDetail,onCancel:this.hideMarketAppDetail,app:X}),I&&C&&b.default.createElement(n.default,{title:"\u786e\u8ba4\u8981\u5b89\u88c5\u6b64\u5e94\u7528\u4f5c\u4e3a\u4f60\u7684\u7ec4\u4ef6\u4e48\uff1f",className:j.default.TelescopicModal,visible:C,onOk:this.handleInstallBounced,onCancel:()=>{this.setState({installBounced:!1})},footer:b.default.createElement("div",null,b.default.createElement(s.default,{onClick:()=>{this.setState({installBounced:!1,is_deploy:!0})}},"\u53d6\u6d88"),b.default.createElement(s.default,{onClick:this.handleInstallBounced,type:"primary",style:{marginRight:"5px"},loading:t.effects["createApp/installApp"]},"\u5b89\u88c5"),b.default.createElement(r.default,{size:"small",onClick:this.renderSuccessOnChange,checked:J},"\u5e76\u6784\u5efa\u542f\u52a8"))},C.describe&&b.default.createElement("p",{style:{background:"rgba(22, 184, 248, 0.1)",padding:"8px"}},C.describe),this.renderFormComponent()),oe&&oe.length>0&&b.default.createElement("div",null,b.default.createElement(P.default,{isSvg:!0,breadcrumbList:Ce,content:I&&h?"":me,tabList:oe,tabActiveKey:A,onTabChange:this.handleTabMaxChange,isFooter:!!I},"localApplication"!==A&&!de&&b.default.createElement(i.default,{message:b.default.createElement("div",null,"\u5f53\u524d\u5e02\u573a\u6ca1\u6709\u5b89\u88c5\u6743\u9650\uff0c",b.default.createElement("a",{onClick:()=>{this.handleCertification(A)}},"\u53bb\u6388\u6743")),type:"success",style:{margin:"-10px 0 15px 0"}}),A.indexOf("Helm-")>-1&&g?b.default.createElement("div",null,q?fe:pe):"localApplication"===A?b.default.createElement("div",{style:{marginBottom:!h&&I&&"Service"===I&&"40px"}}):b.default.createElement("div",null,w&&-1!==w?fe:b.default.createElement("div",null,b.default.createElement("div",{className:L.default.cardList,style:{paddingBottom:"20px",marginBottom:h?"0px":"40px"}},-1!==w&&ue,z&&b.default.createElement(i.default,{style:{textAlign:"center",marginBottom:16},message:z,type:"warning"})))))))}})||v)||v);t.default=O},IkpK:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjMDBGRjRBIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},JI99:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjQ0QwMjAwIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},Kia0:function(e,t,a){e.exports={tabTitle:"tabTitle___2CONk",tabTr:"tabTr___3iaGW",w500:"w500___orTyB",w300:"w300___1jikJ",w380:"w380___OrUuz",over:"over___3at-n"}},Mw2C:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,n,r=l(a("jehZ")),s=M(a("q1tI")),d=a("MuoO"),o=M(a("U8JG")),c=l(a("ZIYD")),u=l(a("SSRH")),p=l(a("yCR+")),g=l(a("TbCP")),m=l(a("cYkQ")),I=l(a("aiW3")),h=l(a("bKuN")),C=l(a("JI99")),f=l(a("IkpK")),A=l(a("oWzr")),v=l(a("SHsa"));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var N=(i=(0,d.connect)(),i(n=class extends s.PureComponent{constructor(e){super(e),this.config=(e=>{var t="The Internet"==e?[[.5,2.5]]:[[.5,-2.5],[.5,3.5]];return{draw(t){var a=t.getGraphicGroup(),l=t.getModel(),i=10,n=10,r=-i/2,s=-n/2,d=3,o="The Internet"==e?23:16,c="The Internet"==e?22:20,y=a.addShape("rect",{attrs:{x:r+o,y:s+c,width:6,height:6,radius:d,stroke:"#000000",fill:"#000000"}});a.addShape("image",{attrs:{img:"third_party"==e?v.default:"The Internet"==e?u.default:"running"==e?p.default:"closed"==e?m.default:"undeploy"==e?g.default:"starting"==e?I.default:"checking"==e?I.default:"stoping"==e?I.default:"creating"==e?A.default:"upgrade"==e?f.default:"unusual"==e?C.default:"Owed"==e?C.default:"expired"==e?C.default:"Expired"==e?C.default:"Unknown"==e?C.default:"unknown"==e?C.default:"Unknow"==e?C.default:"unknow"==e?C.default:"stopping"==e?h.default:"abnormal"==e?C.default:"some_abnormal"==e?C.default:"building"==e?A.default:"build_failure"==e?C.default:"",x:r,y:s,width:"The Internet"==e?53:38,height:"The Internet"==e?45:48}});var M=l.label?l.label:this.label,N=M.length>=3?0:10;return a.addShape("text",{attrs:{text:M,x:r+N,y:s+46,textAlign:"left",textBaseline:"top",fill:"rgba(0,0,0,0.65)"}}),y},anchor:t}}),this.state={colorDataType:["The Internet","Unknow","Unknown","unknown","running","closed","undeploy","starting","checking","stoping","upgrade","unusual","Owed","expired","Expired","internet","unknow","stopping","abnormal","some_abnormal","building","build_failure","creating","third_party"]}}render(){var e=this.state.colorDataType,t=this.props,a=(t.flagHeight,t.iframeHeight);return s.default.createElement("div",{style:{height:a,background:"#fff"},bordered:!1},s.default.createElement(o.default,null,e.map((t,a)=>{return s.default.createElement(o.RegisterNode,{key:a,name:e[a],config:this.config(e[a])})}),s.default.createElement(c.default,(0,r.default)({iframeHeight:a},this.props))))}})||n),b=N;t.default=b},SHsa:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjNUJCMUZBIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},SSRH:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTEycHgiIGhlaWdodD0iODZweCIgdmlld0JveD0iMCAwIDExMiA4NiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDkuMyAoNTExNjcpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwIDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBkPSJNODEuNzcyNTc5NCwzNC4wNjM3NDA4IEM4Mi4yMjEzMDU4LDM0LjAyMTUxNjQgODIuNjc0Mzg0NywzNCA4My4xMzEwNzIzLDM0IEM5Mi40NDc1MjQzLDM0IDEwMCw0Mi45NTQzMDQ1IDEwMCw1NCBDMTAwLDY1LjA0NTY5NTUgOTIuNDQ3NTI0Myw3NCA4My4xMzEwNzIzLDc0IEw3OCw3NCBMNjAuMTc2NTc4LDc0IEwxOC4yNzI3NDYsNzQgQzguMTgwOTg2NTQsNzQgMCw2NC4xNTAyNjUxIDAsNTIgQzAsNDEuNjE2NTE0MSA1Ljk3NDc2MDgsMzIuOTEzMTU3OSAxNC4wMTA4NzkxLDMwLjYwMTU4NjEgQzE0LjAwMzY1MDcsMzAuNDAyMTA4OSAxNCwzMC4yMDE1NTE4IDE0LDMwIEMxNCwyMi4yNjgwMTMxIDE5LjM3MjU4MjcsMTYgMjYsMTYgQzI4LjkxMjYxNjYsMTYgMzEuNTgyODcxMywxNy4yMTA2MjAyIDMzLjY2MTI0MDEsMTkuMjI0MDgyOCBDMzcuMjY5MDgzOSw3Ljk3OTI0NjM2IDQ2LjM1ODAxOTUsMCA1NywwIEM3MC44MDcxMTk0LDAgODIsMTMuNDMxNDU2NyA4MiwzMCBDODIsMzEuMzc4MjYzNiA4MS45MjI1NDcxLDMyLjczNDgxOTEgODEuNzcyNTc5NCwzNC4wNjM3NDA4IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii05LjAlIiB5PSItOS41JSIgd2lkdGg9IjExOC4wJSIgaGVpZ2h0PSIxMjQuMyUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMCUiIHk9Ii05LjUlIiB3aWR0aD0iMTE4LjAlIiBoZWlnaHQ9IjEyNC4zJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNi4wMDAwMDAsIDQuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJPdmFsLTEiPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0zKSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzVCQjFGQSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBmaWxsPSIjMDAwMDAwIiBjeD0iNTAiIGN5PSI0NSIgcj0iOCI+PC9jaXJjbGU+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},Sp8k:function(e,t,a){e.exports={headerBox:"headerBox___Bdnma",icons:"icons___R3LPa",verticalCen:"verticalCen___1P_Da",pageHeader:"pageHeader___2fFnz",detail:"detail____dhkg",row:"row___3BugX",breadcrumb:"breadcrumb___9Niy0",tabs:"tabs___IFWEi",logo:"logo___3AfRG",title:"title___sCJkV",action:"action___3Mhs5",content:"content___2y83l",extraContent:"extraContent___1z2nb",main:"main___dIWGW",ServiceTitle:"ServiceTitle___MH7wW",ServiceBox:"ServiceBox___2oMA_",ServiceDiv:"ServiceDiv___1D9yv",ServiceSmallTitle:"ServiceSmallTitle___15zpy"}},T0wR:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("q1tI")),n=l(a("8vpL"));function r(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var s=i?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(l,n,s):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}class d extends i.PureComponent{render(){var e=this.props,t=e.group_id,a=e.iframeHeight;return i.default.createElement("div",{style:{height:a,background:"#fff"},bordered:!1},i.default.createElement(n.default,{iframeHeight:a,group_id:t}))}}t.default=d},TbCP:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwIENvcHk8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBkPSJNNDAuNzA5Mzc0OCwwLjk4NzUzMDI3NSBMNzMuNzA5Mzc0OCwyMi4yNjM4NDYxIEM3NS4xMzcyODExLDIzLjE4NDQ2OTkgNzYsMjQuNzY3MTgxOCA3NiwyNi40NjYxNDE3IEw3Niw3MC4wMTUyNTE0IEM3Niw3MS43MTQyMTEzIDc1LjEzNzI4MTEsNzMuMjk2OTIzMiA3My43MDkzNzQ4LDc0LjIxNzU0NyBMNDAuNzA5Mzc0OCw5NS40OTM4NjI4IEMzOS4wNTk3MDA0LDk2LjU1NzQ2ODcgMzYuOTQwMjk5Niw5Ni41NTc0Njg3IDM1LjI5MDYyNTIsOTUuNDkzODYyOCBMMi4yOTA2MjUyMSw3NC4yMTc1NDcgQzAuODYyNzE4ODcsNzMuMjk2OTIzMiAyLjI0MTI1MjMxZS0xNCw3MS43MTQyMTEzIDIuMjIwNDQ2MDVlLTE0LDcwLjAxNTI1MTQgTC04Ljg4MTc4NDJlLTE2LDI2LjQ2NjE0MTcgQy0yLjYwNTIyMDUyZS0xNSwyNC43NjcxODE4IDAuODYyNzE4ODcsMjMuMTg0NDY5OSAyLjI5MDYyNTIxLDIyLjI2Mzg0NjEgTDM1LjI5MDYyNTIsMC45ODc1MzAyNzUgQzM2Ljk0MDI5OTYsLTAuMDc2MDc1NjAxNCAzOS4wNTk3MDA0LC0wLjA3NjA3NTYwMTQgNDAuNzA5Mzc0OCwwLjk4NzUzMDI3NSBaIiBpZD0icGF0aC0xIj48L3BhdGg+CiAgICAgICAgPGZpbHRlciB4PSItNy45JSIgeT0iLTMuOSUiIHdpZHRoPSIxMTUuOCUiIGhlaWdodD0iMTEyLjAlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+CiAgICAgICAgICAgIDxmZU1vcnBob2xvZ3kgcmFkaXVzPSIyIiBvcGVyYXRvcj0iZGlsYXRlIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93U3ByZWFkT3V0ZXIxIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd1NwcmVhZE91dGVyMSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZU1vcnBob2xvZ3kgcmFkaXVzPSIyIiBvcGVyYXRvcj0iZXJvZGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dJbm5lciI+PC9mZU1vcnBob2xvZ3k+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjIiIGluPSJzaGFkb3dJbm5lciIgcmVzdWx0PSJzaGFkb3dJbm5lciI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIGluMj0ic2hhZG93SW5uZXIiIG9wZXJhdG9yPSJvdXQiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8ZmlsdGVyIHg9Ii05LjIlIiB5PSItNS4wJSIgd2lkdGg9IjExOC40JSIgaGVpZ2h0PSIxMTQuMSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0zIj4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMyIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0JsdXJJbm5lcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjAiIGluPSJzaGFkb3dCbHVySW5uZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldElubmVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluPSJzaGFkb3dPZmZzZXRJbm5lcjEiIGluMj0iU291cmNlQWxwaGEiIG9wZXJhdG9yPSJhcml0aG1ldGljIiBrMj0iLTEiIGszPSIxIiByZXN1bHQ9InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMC45MDM2Njc4MjEgICAwIDAgMCAwIDAuOTAwNTQwNzkyICAgMCAwIDAgMCAwLjkwNDczNTMzMiAgMCAwIDAgMSAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dJbm5lcklubmVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Ikdyb3VwLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjNzA4MDkwIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},VJda:function(e,t,a){e.exports={nameID:"nameID___neYJ7",icon:"icon___10buC",iconm:"iconm___rowBO",tableList:"tableList___3kkUe",tableListOperator:"tableListOperator___C1LIL"}},Z0Jj:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("7Kak");var n=l(a("9yH6"));a("jCWc");var r=l(a("kPKH"));a("14J3");var s=l(a("BMrR"));a("T2oS");var d=l(a("W9HT"));a("5Dmo");var o=l(a("3S7+"));a("/zsF");var c=l(a("PArb"));a("+L6B");var u=l(a("2/Rp"));a("Pwec");var p=l(a("CtXQ"));a("/xke");var g,m,I=l(a("TeRw")),h=l(a("jehZ")),C=l(a("qCJ4")),f=l(a("4SMx")),A=l(a("ri62")),v=l(a("18gR")),y=a("RBnf"),M=a("MuoO"),N=a("7DNP"),b=l(a("wd/R")),S=B(a("q1tI")),D=l(a("Jxxo")),Z=l(a("q76B")),j=l(a("3jFV")),E=l(a("YCtL")),w=a("xpXo"),T=l(a("8+Sn")),P=l(a("QDog")),G=l(a("mWxT")),k=l(a("ZgmS")),x=l(a("i+gw")),z=l(a("T0wR")),_=l(a("Zob5")),L=l(a("0fGy")),R=l(a("Mw2C")),V=l(a("puIC"));function W(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(W=function(e){return e?a:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=W(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var O=(g=(0,M.connect)(e=>{var t=e.user,a=e.application,l=e.teamControl,i=e.enterprise,n=e.loading,r=e.global;return{buildShapeLoading:n.effects["global/buildShape"],editGroupLoading:n.effects["application/editGroup"],deleteLoading:n.effects["application/delete"],currUser:t.currentUser,apps:a.apps,groupDetail:a.groupDetail||{},currentTeam:l.currentTeam,currentRegionName:l.currentRegionName,currentEnterprise:i.currentEnterprise,novices:r.novices}}),g(m=class extends S.PureComponent{constructor(e){var t;super(e),t=this,this.onCancel=(()=>{this.setState({customSwitch:!1})}),this.closeTimer=(()=>{this.timer&&clearInterval(this.timer)}),this.loading=(()=>{this.fetchAppDetail(),this.loadTopology(!0),this.fetchAppDetailState()}),this.handleNewbieGuiding=(e=>{var t=e.nextStep;return S.default.createElement(v.default,(0,h.default)({},e,{totals:2,handleClose:()=>{this.handleGuideStep("close")},handleNext:()=>{t&&(document.getElementById("scroll_div").scrollIntoView(),this.handleGuideStep(t))}}))}),this.handleGuideStep=(e=>{this.setState({guideStep:e})}),this.handleError=(e=>{var t=this.state.componentTimer;if(!t)return null;e&&e.data&&e.data.msg_show&&I.default.warning({message:"\u8bf7\u6c42\u9519\u8bef",description:e.data.msg_show})}),this.handleTimers=((e,t,a)=>{var l=this.state.componentTimer;if(!l)return null;this[e]=setTimeout(()=>{t()},a)}),this.fetchAppDetail=(()=>{var e=this.props.dispatch,t=this.props.match.params,a=t.teamName,l=t.regionName,i=t.appID;e({type:"application/fetchGroupDetail",payload:{team_name:a,region_name:l,group_id:i},callback:e=>{e&&200===e.status_code&&this.setState({currApp:e.bean})},handleError:t=>{var a=this.state.componentTimer;if(!a)return null;t&&404===t.code&&e(N.routerRedux.push("/team/".concat(P.default.getCurrTeamName(),"/region/").concat(P.default.getCurrRegionName(),"/apps")))}})}),this.handleWaitLevel=(()=>{var e=this.props.dispatch,t=this.props.match.params,a=t.teamName,l=t.appID;e({type:"application/fetchToupgrade",payload:{team_name:a,group_id:l},callback:e=>{var t=e&&e.bean||{};this.setState({upgradableNumLoading:!1,upgradableNum:t&&t.upgradable_num||0})}})}),this.fetchAppDetailState=(()=>{var e=this.props.dispatch,t=this.props.match.params,a=t.teamName,l=t.appID;e({type:"application/fetchAppDetailState",payload:{team_name:a,group_id:l},callback:e=>{this.setState({resources:e.list,appStatusConfig:!0})}})}),this.handleFormReset=(()=>{var e=this.props.form;e.resetFields(),this.loadApps()}),this.handleSearch=(e=>{e.preventDefault(),this.loadApps()}),this.changeType=(e=>{this.setState({type:e})}),this.toDelete=(()=>{this.closeComponentTimer(),this.setState({toDelete:!0})}),this.cancelDelete=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.setState({toDelete:!1}),e&&t.openComponentTimer()},this.closeComponentTimer=(()=>{this.setState({componentTimer:!1}),this.closeTimer()}),this.openComponentTimer=(()=>{this.setState({componentTimer:!0},()=>{this.loadTopology(!0)})}),this.handleDelete=(()=>{var e=this.props.dispatch;e({type:"application/delete",payload:{team_name:P.default.getCurrTeamName(),group_id:this.getGroupId()},callback:t=>{t&&200===t.status_code&&(I.default.success({message:"\u5220\u9664\u6210\u529f"}),this.closeComponentTimer(),this.cancelDelete(!1),e(N.routerRedux.replace("/team/".concat(P.default.getCurrTeamName(),"/region/").concat(P.default.getCurrRegionName(),"/apps"))))}})}),this.newAddress=(e=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:P.default.getCurrTeamName()},callback:t=>{t&&t.length?e==t[0].group_id?this.newAddress(e):this.props.dispatch(N.routerRedux.push("/team/".concat(P.default.getCurrTeamName(),"/region/").concat(P.default.getCurrRegionName(),"/apps/").concat(t[0].group_id))):this.props.dispatch(N.routerRedux.push("/team/".concat(P.default.getCurrTeamName(),"/region/").concat(P.default.getCurrRegionName(),"/index")))}})}),this.toEdit=(()=>{this.setState({toEdit:!0})}),this.cancelEdit=(()=>{this.setState({toEdit:!1})}),this.handleToEditAppDirector=(()=>{this.setState({toEditAppDirector:!0})}),this.cancelEditAppDirector=(()=>{this.setState({toEditAppDirector:!1})}),this.handleEdit=(e=>{var t=this.props.dispatch;t({type:"application/editGroup",payload:{team_name:P.default.getCurrTeamName(),group_id:this.getGroupId(),group_name:e.group_name,note:e.note,username:e.username,logo:e.logo,k8s_app:e.k8s_app},callback:e=>{e&&200===e.status_code&&(I.default.success({message:"\u4fee\u6539\u6210\u529f"}),t({type:"application/editGroups",payload:{team_name:P.default.getCurrTeamName(),group_id:this.getGroupId()},callback:e=>{I.default.success({message:"\u91cd\u542f\u5e94\u7528\u540e\u751f\u6548"})}})),this.handleUpDataHeader(),this.cancelEdit(),this.cancelEditAppDirector(),this.fetchAppDetail(),t({type:"global/fetchGroups",payload:{team_name:P.default.getCurrTeamName()}})}})}),this.handleUpDataHeader=(()=>{var e=this.props.dispatch;e({type:"global/IsUpDataHeader",payload:{isUpData:!0}})}),this.handleTopology=(e=>{this.setState({promptModal:!0,code:e})}),this.handleOpenRapidCopy=(()=>{this.setState({rapidCopy:!0})}),this.handleCloseRapidCopy=(()=>{this.setState({rapidCopy:!1})}),this.handlePromptModalOpen=(()=>{var e=this.state,t=e.code,a=e.serviceIds,l=this.props.dispatch;"restart"===t?(0,w.batchOperation)({action:t,team_name:P.default.getCurrTeamName(),serviceIds:a&&a.join(",")}).then(e=>{e&&200===e.status_code&&(I.default.success({message:"\u91cd\u542f\u6210\u529f"}),this.handlePromptModalClose()),this.loadTopology(!1)}):l({type:"global/buildShape",payload:{tenantName:P.default.getCurrTeamName(),group_id:this.getGroupId(),action:t},callback:e=>{e&&200===e.status_code&&(I.default.success({message:e.msg_show||"\u6784\u5efa\u6210\u529f",duration:"3"}),this.handlePromptModalClose()),this.loadTopology(!1)}})}),this.handlePromptModalClose=(()=>{this.setState({promptModal:!1,code:""})}),this.handleSizeChange=(e=>{this.setState({size:e.target.value})}),this.handleSwitch=(()=>{this.setState({customSwitch:!0})}),this.handleJump=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a(N.routerRedux.push("/team/".concat(P.default.getCurrTeamName(),"/region/").concat(P.default.getCurrRegionName(),"/apps/").concat(l,"/").concat(e)))}),this.heightOnchage=(e=>{e?this.setState({flagHeight:!1,iframeHeight:"500px"}):this.setState({flagHeight:!0,iframeHeight:"70vh"})}),this.state={type:"shape",toDelete:!1,toEdit:!1,toEditAppDirector:!1,service_alias:[],serviceIds:[],linkList:[],jsonDataLength:0,promptModal:!1,code:"",size:"large",currApp:{},rapidCopy:!1,componentTimer:!0,customSwitch:!1,resources:{},upgradableNum:0,upgradableNumLoading:!0,appStatusConfig:!1,guideStep:1,aggregation:!1,common:!0,compile:!1,flagHeight:!1,iframeHeight:"500px"}}componentDidMount(){this.loading(),this.handleWaitLevel()}componentWillUnmount(){this.closeTimer();var e=this.props.dispatch;e({type:"application/clearGroupDetail"})}getGroupId(){return this.props.appID}loadTopology(e){var t=this.props.dispatch,a=P.default.getCurrTeamName(),l=P.default.getCurrRegionName();T.default.set("team_name",a),T.default.set("region_name",l),t({type:"global/fetAllTopology",payload:{region_name:l,team_name:a,groupId:this.getGroupId()},callback:t=>{if(t&&200===t.status_code){var a=t.bean;if("{}"===JSON.stringify(a))return;var l=[],i=[],n=a.json_data;Object.keys(n).map(e=>{l.push(e),"running"==n[e].cur_status&&1==n[e].is_internet&&i.push(n[e].service_alias)}),this.setState({jsonDataLength:Object.keys(n).length,service_alias:i,serviceIds:l},()=>{this.loadLinks(i.join("-"),e)})}}})}loadLinks(e,t){var a=this.props.dispatch;a({type:"global/queryLinks",payload:{service_alias:e,team_name:P.default.getCurrTeamName()},callback:e=>{e&&200===e.status_code&&this.setState({linkList:e.list||[]},()=>{t&&this.handleTimers("timer",()=>{this.fetchAppDetailState(),this.fetchAppDetail(),this.loadTopology(!0)},1e4)})},handleError:e=>{this.handleError(e),this.handleTimers("timer",()=>{this.fetchAppDetailState(),this.fetchAppDetail(),this.loadTopology(!0)},2e4)}})}render(){var e=this.props,t=e.groupDetail,a=e.appPermissions,l=a.isShare,g=a.isBackup,m=a.isUpgrade,I=a.isEdit,h=a.isDelete,v=a.isStart,M=a.isStop,N=a.isUpdate,w=a.isConstruct,T=a.isCopy,W=e.buildShapeLoading,B=e.editGroupLoading,O=e.deleteLoading,H=e.novices,Y=e.appConfigGroupPermissions.isAccess,X=e.componentPermissions,J=e.operationPermissions.isAccess,U=e.componentPermissions,Q=U.isAccess,F=U.isCreate,K=U.isConstruct,q=U.isRestart,$=this.state,ee=$.currApp,te=$.resources,ae=$.rapidCopy,le=$.jsonDataLength,ie=$.linkList,ne=$.code,re=$.promptModal,se=$.toEdit,de=$.toEditAppDirector,oe=$.toDelete,ce=$.type,ue=$.customSwitch,pe=$.serviceIds,ge=$.upgradableNumLoading,me=$.upgradableNum,Ie=$.appStatusConfig,he=$.guideStep,Ce=$.aggregation,fe=$.common,Ae=$.compile,ve=$.flagHeight,ye=$.iframeHeight,Me={start:"\u542f\u52a8",restart:"\u91cd\u542f",stop:"\u505c\u7528",deploy:"\u6784\u5efa"},Ne=!(le>0),be={marginRight:"10px"},Se=S.default.createElement("div",{className:V.default.pageHeaderContent},S.default.createElement("div",{className:V.default.contentl},S.default.createElement("div",{className:V.default.conBoxt},S.default.createElement("div",{className:V.default.contentTitle},S.default.createElement("span",null,ee.group_name||"-"),S.default.createElement(p.default,{style:{cursor:"pointer",marginLeft:"5px"},onClick:this.toEdit,type:"edit"})),te.status&&S.default.createElement("div",{className:V.default.extraContent},"CLOSED"!==te.status&&N&&S.default.createElement(u.default,{style:be,onClick:()=>{this.handleTopology("upgrade")},disabled:Ne},"\u66f4\u65b0"),w&&K&&S.default.createElement(u.default,{style:be,disabled:Ne,onClick:()=>{this.handleTopology("deploy")}},"\u6784\u5efa"),T&&S.default.createElement(u.default,{style:be,disabled:Ne,onClick:this.handleOpenRapidCopy},"\u5feb\u901f\u590d\u5236"),ie.length>0&&S.default.createElement(E.default,{linkList:ie}))),S.default.createElement("div",{className:V.default.content_Box},Ie&&S.default.createElement(D.default,{AppStatus:te.status}),te.status&&v&&S.default.createElement("span",null,S.default.createElement("a",{onClick:()=>{this.handleTopology("start")},disabled:Ne},"\u542f\u52a8"),S.default.createElement(c.default,{type:"vertical"})),te.status&&("ABNORMAL"===te.status||"PARTIAL_ABNORMAL"===te.status)&&pe&&pe.length>0&&q&&S.default.createElement("span",null,S.default.createElement("a",{onClick:()=>{this.handleTopology("restart")},disabled:Ne},"\u91cd\u542f"),S.default.createElement(c.default,{type:"vertical"})),h&&"RUNNING"!==te.status&&S.default.createElement("a",{onClick:this.toDelete},"\u5220\u9664"),te.status&&"CLOSED"!==te.status&&M&&S.default.createElement("span",null,"RUNNING"!==te.status&&S.default.createElement(c.default,{type:"vertical"}),S.default.createElement("a",{onClick:()=>{this.handleTopology("stop")}},"\u505c\u7528"))),S.default.createElement("div",{className:V.default.connect_Bot},S.default.createElement("div",{className:V.default.connect_Box},S.default.createElement("div",{className:V.default.connect_Boxs},S.default.createElement("div",null,"\u4f7f\u7528\u5185\u5b58"),S.default.createElement("div",null,"".concat(k.default.unit(te.memory||0,"MB")))),S.default.createElement("div",{className:V.default.connect_Boxs},S.default.createElement("div",null,"\u4f7f\u7528CPU"),S.default.createElement("div",null,te.cpu&&te.cpu/1e3||0,"Core"))),S.default.createElement("div",{className:V.default.connect_Box},S.default.createElement("div",{className:V.default.connect_Boxs},S.default.createElement("div",null,"\u4f7f\u7528\u78c1\u76d8"),S.default.createElement("div",null,"".concat(k.default.unit(te.disk||0,"KB")))),S.default.createElement("div",{className:V.default.connect_Boxs},S.default.createElement("div",null,"\u7ec4\u4ef6\u6570\u91cf"),S.default.createElement("div",null,ee.service_num||0))))),S.default.createElement("div",{className:V.default.contentr},S.default.createElement("div",{className:V.default.conrHeader},S.default.createElement("div",null,S.default.createElement("span",null,"\u521b\u5efa\u65f6\u95f4"),S.default.createElement("span",null,ee.create_time?(0,b.default)(ee.create_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-")),S.default.createElement("div",null,S.default.createElement("span",null,"\u66f4\u65b0\u65f6\u95f4"),S.default.createElement("span",null,ee.update_time?(0,b.default)(ee.update_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-"))),S.default.createElement("div",{className:V.default.conrHeader},S.default.createElement("div",null,S.default.createElement("span",null,"\u6cbb\u7406\u6a21\u5f0f"),S.default.createElement("span",null,ee.governance_mode?P.default.fetchGovernanceMode(ee.governance_mode):"-"),ee.governance_mode&&I&&S.default.createElement("a",{style:{marginLeft:"5px"},onClick:this.handleSwitch},"\u5207\u6362")),S.default.createElement("div",null,S.default.createElement("span",null,"\u8d1f\u8d23\u4eba"),S.default.createElement("span",null,ee.principal?S.default.createElement(o.default,{placement:"top",title:S.default.createElement("div",null,S.default.createElement("div",null,"\u8d26\u53f7:",ee.username),S.default.createElement("div",null,"\u59d3\u540d:",ee.principal),S.default.createElement("div",null,"\u90ae\u7bb1:",ee.email))},S.default.createElement("span",{style:{color:"rgba(0, 0, 0, 0.85)"}},ee.principal)):"-",I&&S.default.createElement(p.default,{style:{cursor:"pointer",marginLeft:"5px"},onClick:this.handleToEditAppDirector,type:"edit"})))),S.default.createElement("div",{className:V.default.conrBot},S.default.createElement("div",{className:V.default.conrBox},S.default.createElement("div",null,"\u5907\u4efd"),S.default.createElement("div",{onClick:()=>{g&&this.handleJump("backup")}},S.default.createElement("a",null,ee.backup_num||0))),S.default.createElement("div",{className:V.default.conrBox},S.default.createElement("div",null,"\u6a21\u578b\u53d1\u5e03"),S.default.createElement("div",{onClick:()=>{l&&this.handleJump("publish")}},S.default.createElement("a",null,ee.share_num||0))),S.default.createElement("div",{className:V.default.conrBox},S.default.createElement("div",null,"\u7f51\u5173\u7b56\u7565"),S.default.createElement("div",{onClick:()=>{J&&this.handleJump("gateway")}},S.default.createElement("a",null,ee.ingress_num||0))),S.default.createElement("div",{className:V.default.conrBox},S.default.createElement("div",null,"\u5f85\u5347\u7ea7"),S.default.createElement("div",{onClick:()=>{!ge&&m&&this.handleJump("upgrade")}},S.default.createElement("a",null,ge?S.default.createElement(d.default,null):me))),S.default.createElement("div",{className:V.default.conrBox},S.default.createElement("div",null,"\u914d\u7f6e\u7ec4"),S.default.createElement("div",{onClick:()=>{Y&&this.handleJump("configgroups")}},S.default.createElement("a",null,ee.config_group_num||0)))))),De=S.default.createElement("div",{className:V.default.pageHeaderContents},S.default.createElement("div",{className:V.default.contentl},S.default.createElement("div",{className:V.default.conBoxt},S.default.createElement("div",{className:V.default.contentTitle},S.default.createElement("span",null,ee.group_name||"-"),S.default.createElement(p.default,{style:{cursor:"pointer",marginLeft:"5px"},onClick:this.toEdit,type:"edit"})),S.default.createElement("div",{className:V.default.content_Box},Ie&&S.default.createElement(D.default,{AppStatus:te.status}),te.status&&v&&S.default.createElement("span",null,S.default.createElement("a",{onClick:()=>{this.handleTopology("start")},disabled:Ne},"\u542f\u52a8"),S.default.createElement(c.default,{type:"vertical"})),te.status&&("ABNORMAL"===te.status||"PARTIAL_ABNORMAL"===te.status)&&pe&&pe.length>0&&q&&S.default.createElement("span",null,S.default.createElement("a",{onClick:()=>{this.handleTopology("restart")},disabled:Ne},"\u91cd\u542f"),S.default.createElement(c.default,{type:"vertical"})),h&&"RUNNING"!==te.status&&S.default.createElement("a",{onClick:this.toDelete},"\u5220\u9664"),te.status&&"CLOSED"!==te.status&&M&&S.default.createElement("span",null,"RUNNING"!==te.status&&S.default.createElement(c.default,{type:"vertical"}),S.default.createElement("a",{onClick:()=>{this.handleTopology("stop")}},"\u505c\u7528"))),te.status&&S.default.createElement("div",{className:V.default.extraContent},"CLOSED"!==te.status&&N&&S.default.createElement(u.default,{style:be,onClick:()=>{this.handleTopology("upgrade")},disabled:Ne},"\u66f4\u65b0"),w&&K&&S.default.createElement(u.default,{style:be,disabled:Ne,onClick:()=>{this.handleTopology("deploy")}},"\u6784\u5efa"),T&&S.default.createElement(u.default,{style:be,disabled:Ne,onClick:this.handleOpenRapidCopy},"\u5feb\u901f\u590d\u5236"),ie.length>0&&S.default.createElement(E.default,{linkList:ie})))),S.default.createElement("div",{className:V.default.contentr},S.default.createElement("div",{className:V.default.conrHeader},S.default.createElement("div",null,S.default.createElement("span",null,"\u521b\u5efa\u65f6\u95f4"),S.default.createElement("span",null,ee.create_time?(0,b.default)(ee.create_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-")),S.default.createElement("div",null,S.default.createElement("span",null,"\u66f4\u65b0\u65f6\u95f4"),S.default.createElement("span",null,ee.update_time?(0,b.default)(ee.update_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-"))))),Ze=P.default.getCurrTeamName(),je=P.default.getCurrRegionName(),Ee={position:"relative",zIndex:1e3,padding:"0 16px",margin:"0 -16px",background:"#fff"},we=G.default.handleNewbie(H,"applicationInfo");return S.default.createElement(S.Fragment,null,S.default.createElement(s.default,{style:we&&1===he?Ee:{}},ve?De:Se),1===he&&this.handleNewbieGuiding({tit:"\u5e94\u7528\u4fe1\u606f",showSvg:!1,showArrow:!0,send:!1,configName:"applicationInfo",desc:"\u5e94\u7528\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u670d\u52a1\u7ec4\u6210\uff0c\u53ef\u4ee5\u7ba1\u7406\u4e00\u4e2a\u5b8c\u6574\u4e1a\u52a1\u7cfb\u7edf\uff0c\u6bd4\u5982\uff1aOA\u3001CRM\u3001ERP\u7b49\uff0c\u4e5f\u53ef\u4ee5\u7ba1\u7406\u4e00\u4e2a\u5b8c\u6574\u7684\u5fae\u670d\u52a1\u67b6\u6784\u7684\u7cfb\u7edf\uff0c\u8fd9\u91cc\u5c55\u793a\u4e86\u5e94\u7528\u7684\u57fa\u672c\u4fe1\u606f\u3002",nextStep:2,conPosition:{top:"336px",left:"42%"}}),ue&&S.default.createElement(A.default,{mode:ee&&ee.governance_mode,appID:this.getGroupId(),onCancel:this.onCancel,onOk:this.fetchAppDetail}),S.default.createElement(s.default,{className:V.default.rowArrow,style:2===he?Ee:{}},S.default.createElement("div",{className:V.default.iconBox,onClick:()=>{this.heightOnchage(ve)}},ve?S.default.createElement("div",{className:V.default.showOrhide},S.default.createElement(y.DownOutlined,null)):S.default.createElement("div",{className:V.default.showOrhide},S.default.createElement(y.UpOutlined,null))),S.default.createElement(s.default,{style:{display:"flex",background:"#FFFFFF",height:"60px",alignItems:"center",borderBottom:"1px solid #e8e8e8"}},S.default.createElement(r.default,{span:5,style:{paddingleft:"12px"}},S.default.createElement("a",{onClick:()=>{this.changeType("shape"),this.setState({aggregation:!1,common:!0,compile:!1})},style:{marginLeft:"30px",color:"list"!==ce?"#1890ff":"rgba(0, 0, 0, 0.65)"}},"\u62d3\u6251\u56fe"),Q&&S.default.createElement("a",{onClick:()=>{this.changeType("list")},style:{marginLeft:"30px",color:"list"===ce?"#1890ff":"rgba(0, 0, 0, 0.65)"}},"\u5217\u8868")),S.default.createElement(r.default,{className:V.default.topoBtn,span:11,style:{paddingleft:"12px"}},"list"!==ce&&F&&S.default.createElement(n.default.Group,null,fe?S.default.createElement(n.default.Button,{style:{width:"70px",textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px",background:"#4C73B0",color:"#F6F7FA",borderColor:"#4C73B0"},onClick:()=>{this.changeType("shape"),this.setState({aggregation:!1,common:!0,compile:!1})},disabled:!0},"\u666e\u901a\u6a21\u5f0f"):S.default.createElement(n.default.Button,{style:{width:"70px",textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px",background:"#fff",color:"#595959",borderColor:"#D9D9D9"},onClick:()=>{this.changeType("shape"),this.setState({aggregation:!1,common:!0,compile:!1})}},"\u666e\u901a\u6a21\u5f0f"),Ce?S.default.createElement(n.default.Button,{style:{width:"70px",textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px",background:"#4C73B0",color:"#F6F7FA",borderColor:"#4C73B0"},onClick:()=>{this.changeType("aggregation"),this.setState({aggregation:!0,common:!1,compile:!1})},disabled:!0},"\u805a\u5408\u6a21\u5f0f"):S.default.createElement(n.default.Button,{style:{width:"70px",textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px",background:"#fff",color:"#595959",borderColor:"#D9D9D9"},onClick:()=>{this.changeType("aggregation"),this.setState({aggregation:!0,common:!1,compile:!1})}},"\u805a\u5408\u6a21\u5f0f"),Ae?S.default.createElement(n.default.Button,{style:{width:"70px",textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px",background:"#4C73B0",color:"#F6F7FA",borderColor:"#4C73B0"},onClick:()=>{this.changeType("shapes"),this.setState({aggregation:!1,common:!1,compile:!0})},disabled:!0},"\u7f16\u6392\u6a21\u5f0f"):S.default.createElement(n.default.Button,{style:{width:"70px",textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px",background:"#fff",color:"#595959",borderColor:"#D9D9D9"},onClick:()=>{this.changeType("shapes"),this.setState({aggregation:!1,common:!1,compile:!0})}},"\u7f16\u6392\u6a21\u5f0f"))),S.default.createElement(r.default,{span:4,style:{textAlign:"right"}}),S.default.createElement(r.default,{span:4,style:{textAlign:"center"}},F&&K&&S.default.createElement(x.default,{groupId:this.getGroupId(),refreshCurrent:()=>{this.loading()},onload:()=>{this.setState({type:"spin"},()=>{this.setState({type:"large"==this.state.size?"shape":"list"})})}}))),ae&&S.default.createElement(j.default,{copyFlag:!0,on:this.handleCloseRapidCopy,onCancel:this.handleCloseRapidCopy,title:"\u5e94\u7528\u590d\u5236"}),"list"===ce&&S.default.createElement(L.default,{componentPermissions:X,groupId:this.getGroupId()}),"shape"===ce&&S.default.createElement(_.default,{style:{height:ye},group_id:this.getGroupId(),flagHeight:ve,iframeHeight:ye}),"aggregation"===ce&&S.default.createElement(z.default,{group_id:this.getGroupId(),flagHeight:ve,iframeHeight:ye}),"spin"===ce&&S.default.createElement(d.default,null),"shapes"===ce&&S.default.createElement(R.default,{changeType:e=>{this.changeType(e)},key:ye,iframeHeight:ye,group_id:this.getGroupId(),flagHeight:ve})),2===he&&this.handleNewbieGuiding({tit:"\u5e94\u7528\u62d3\u6251\u56fe",btnText:"\u5df2\u77e5\u6653",showSvg:!1,showArrow:!0,send:!0,configName:"applicationInfo",desc:"\u8fd9\u662f\u5e94\u7528\u5185\u90e8\u7684\u670d\u52a1\u62d3\u6251\u56fe\uff0c\u901a\u8fc7\u62d3\u6251\u56fe\u53ef\u4ee5\u6574\u4f53\u4e86\u89e3\u670d\u52a1\u7684\u8fd0\u884c\u72b6\u6001\u548c\u4f9d\u8d56\u5173\u7cfb\uff0c\u6bcf\u4e2a\u516d\u8fb9\u5f62\u5c31\u662f\u4e00\u4e2a\u670d\u52a1\uff0c\u70b9\u51fb\u516d\u8fb9\u5f62\u53ef\u4ee5\u8fdb\u5165\u670d\u52a1\u7684\u7ba1\u7406\u9875\u9762\u3002",nextStep:3,conPosition:{bottom:"-16px",left:"45%"}}),we&&S.default.createElement("div",{id:"scroll_div",style:{marginTop:"180px"}}),oe&&S.default.createElement(Z.default,{title:"\u5220\u9664\u5e94\u7528",desc:"\u786e\u5b9a\u8981\u6b64\u5220\u9664\u6b64\u5e94\u7528\u5417\uff1f",subDesc:"\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d",loading:O,onOk:this.handleDelete,onCancel:this.cancelDelete}),se&&S.default.createElement(C.default,{isAddGroup:!1,group_name:t.group_name,logo:t.logo,note:t.note,loading:B,k8s_app:t.k8s_app,title:"\u4fee\u6539\u5e94\u7528\u4fe1\u606f",onCancel:this.cancelEdit,onOk:this.handleEdit,isEditEnglishName:ee.can_edit}),de&&S.default.createElement(f.default,{teamName:Ze,regionName:je,group_name:t.group_name,note:t.note,loading:B,principal:ee.username,onCancel:this.cancelEditAppDirector,onOk:this.handleEdit}),re&&S.default.createElement(i.default,{title:"\u53cb\u60c5\u63d0\u793a",confirmLoading:W,visible:re,onOk:this.handlePromptModalOpen,onCancel:this.handlePromptModalClose},S.default.createElement("p",null,Me[ne],"\u5f53\u524d\u5e94\u7528\u4e0b\u7684\u5168\u90e8\u7ec4\u4ef6\uff1f")))}})||m);t.default=O},ZIYD:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a("jehZ"));a("2qtc");var n=l(a("kLXV"));a("/xke");var r=l(a("TeRw")),s=l(a("p0pE"));a("y8nQ");var d=l(a("Vl3Y"));a("sRBo");var o=l(a("kaz8"));a("7Kak");var c,u,p,g=l(a("9yH6")),m=l(a("409L")),I=a("MuoO"),h=a("U8JG"),C=M(a("q1tI")),f=a("xpXo"),A=l(a("8+Sn")),v=l(a("QDog"));l(a("puIC"));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var N=g.default.Group,b=(o.default.Group,{labelCol:{span:5},wrapperCol:{span:19}}),S=(c=d.default.create(),u=(0,I.connect)(),c(p=u(p=class extends C.PureComponent{constructor(e){super(e),this.changeType=(()=>{this.props.changeType("shape")}),this.loadTopology=(()=>{var e=this.props,t=e.dispatch,a=e.group_id,l=v.default.getCurrTeamName(),i=v.default.getCurrRegionName();A.default.set("team_name",l),A.default.set("region_name",i),t({type:"global/fetAllTopology",payload:{region_name:i,team_name:l,groupId:a},callback:e=>{if(e&&200===e.status_code){var t=this.goodrainData2scopeData(e.bean);this.setState({data:t,registerData:t.registerData,flag:!0})}}})}),this.handleLayout=(()=>{var e=this.editor.propsAPI.read,t=(new m.default.graphlib.Graph).setGraph({}).setDefaultEdgeLabel(()=>{return{}});data.nodes.forEach(e=>{var a=e.size.split("*"),l=Number(a[0]),i=Number(a[1]);t.setNode(e.id,{width:l,height:i})}),data.edges.forEach(e=>{t.setEdge(e.source,e.target)}),m.default.layout(t);var a=data.nodes.map(e=>{var a=t.node(e.id);return(0,s.default)({},e,{x:a.x,y:a.y})});e({nodes:a,edges:data.edges})}),this.handleOk=(()=>{var e=this.state,t=e.name,a=e.id,l=e.foreignType,i=e.shape,n=this.props.form;n.validateFields((e,n)=>{e||(0===l&&(0,f.addRelationedApp)({team_name:v.default.getCurrTeamName(),app_alias:t,dep_service_id:a,open_inner:!0,container_port:n.container_port}).then(e=>{if(e&&200===e.status_code)return this.loadTopology(),"undeploy"==i||"closed"==i||"stopping"==i?r.default.success({message:"\u4f9d\u8d56\u6dfb\u52a0\u6210\u529f\u3002"}):this.handleUpdateConfirm(t,"\u4f9d\u8d56\u6dfb\u52a0\u6210\u529f\uff0c\u9700\u8981\u66f4\u65b0\u624d\u80fd\u751f\u6548\u3002"),void this.setState({visible:!1,shape:""});this.setState({visible:!1,shape:""}),this.handleUndo()}),1===l&&this.props.dispatch({type:"appControl/openExternalPort",payload:{team_name:v.default.getCurrTeamName(),app_alias:t,container_port:n.container_port,open_outer:!0},callback:e=>{if(e&&200===e.status_code)return r.default.success({message:e.msg_show}),this.setState({visible:!1,shape:""}),void this.loadTopology();this.setState({visible:!1,shape:""}),this.handleUndo()}}))})}),this.handleCancel=(e=>{this.setState({visible:!1}),this.handleUndo()}),this.handleSubmitAddRelation=((e,t,a,l)=>{(0,f.addRelationedApp)({team_name:v.default.getCurrTeamName(),app_alias:e,dep_service_id:t}).then(i=>{return i&&212===i.status_code?"\u5f53\u524d\u5e94\u7528\u5df2\u88ab\u5173\u8054"==i.msg_show?void this.handleUndo():(this.loadTopology(),void r.default.success({message:i.msg_show})):i&&201===i.status_code?0==i.list.length?(this.handleUndo(),void r.default.warning({message:"\u6682\u65e0\u7aef\u53e3\u53ef\u7528"})):void this.setState({visible:!0,foreignType:0,foreignTypeName:a,list:i.list||[],name:e,shape:l,id:t}):i&&200===i.status_code?(this.loadTopology(),void("undeploy"==l||"closed"==l||"stopping"==l?r.default.success({message:"\u4f9d\u8d56\u6dfb\u52a0\u6210\u529f\u3002"}):this.handleUpdateConfirm(e,"\u4f9d\u8d56\u6dfb\u52a0\u6210\u529f\uff0c\u9700\u8981\u66f4\u65b0\u624d\u80fd\u751f\u6548\u3002"))):void this.handleUndo()})}),this.handleDeleteRelationedApp=(e=>{var t=this.state.edgeData;if(t){var a=t.source.model.service_alias,l=t.target.model.service_alias,i=(t.source.model.shape,t.target.model.shape,t.target.id);a?(0,f.removeRelationedApp)({team_name:v.default.getCurrTeamName(),app_alias:a,dep_service_id:i}).then(e=>{e&&200===e.status_code&&(r.default.success({message:e.msg_show}),this.loadTopology(),this.setState({edgeData:"",edgeVisible:!1}))}):this.props.dispatch({type:"appControl/openExternalPort",payload:{team_name:v.default.getCurrTeamName(),app_alias:l,close_outer:!0},callback:e=>{e&&200===e.status_code&&(r.default.success({message:e.msg_show}),this.loadTopology(),this.setState({edgeData:"",edgeVisible:!1}))}})}}),this.handleUndo=(()=>{setTimeout(()=>{this.props.propsAPI.executeCommand("undo")},100)}),this.handleSubmitOpenExternalPort=((e,t,a)=>{this.props.dispatch({type:"appControl/openExternalPort",payload:{team_name:v.default.getCurrTeamName(),app_alias:e,container_port:"",open_outer:""},callback:l=>{return l&&200===l.status_code?"\u8be5\u7ec4\u4ef6\u5df2\u5f00\u542f\u5bf9\u5916\u7aef\u53e3"==l.msg_show?void this.handleUndo():(r.default.success({message:l.msg_show}),void this.loadTopology()):l&&201===l.status_code?0==l.list.length?(this.handleUndo(),void r.default.warning({message:"\u6682\u65e0\u7aef\u53e3\u53ef\u7528"})):void this.setState({visible:!0,foreignType:1,foreignTypeName:t,list:l.list||[],name:e,shape:a}):void this.handleUndo()}})}),this.onSaveEdgeData=(e=>{this.setState({edgeData:e,edgeTitle:e.source.model.service_alias?C.default.createElement("div",null,"\u662f\u5426\u53d6\u6d88",C.default.createElement("a",null,e.source.model.label),"\u4f9d\u8d56",C.default.createElement("a",null,e.target.model.label)):C.default.createElement("div",null,"\u662f\u5426\u5173\u95ed",C.default.createElement("a",null,e.target.model.label),"\u7ec4\u4ef6\u7684\u6240\u6709\u5bf9\u5916\u7aef\u53e3")})}),this.onEdgeOpen=(()=>{this.state.edgeData&&this.setState({edgeVisible:!0})}),this.handleUpdateConfirm=((e,t)=>{n.default.confirm({title:t,content:"",okText:"\u66f4\u65b0",cancelText:"\u53d6\u6d88",onOk(){(0,f.updateRolling)({team_name:v.default.getCurrTeamName(),app_alias:e}).then(e=>{e&&r.default.success({message:"\u64cd\u4f5c\u6210\u529f\uff0c\u66f4\u65b0\u4e2d"})})}})}),this.state={data:{},visible:!1,edgeVisible:!1,list:[],name:"",id:"",foreignType:0,registerData:[],edgeData:"",edgeTitle:"",foreignTypeName:"",shape:"",flag:!1}}componentDidMount(){this.loadTopology()}componentDidUpdate(){this.state.data.nodes&&this.state.data.nodes.length>10&&this.props.propsAPI.executeCommand("autoZoom")}goodrainData2scopeData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e.json_data),a={},l={},i={},n={},r=t.length,d={nodes:[{type:"node",size:"60*60",shape:"The Internet",color:"#030303",label:"\u7f51\u5173",stack:!0,stackNum:1,linkable:!0,rank:"internet",cur_status:"running",x:document.body.clientWidth/2-(t.length>0?t.length/2*100:0),y:15,id:"The Internet",index:0}],edges:[],registerData:[]},o=[];function c(e){return"running"!==e.cur_status?1:(e.node_num=e.node_num||1,e.node_num>3?3:e.node_num)}t.length||window.parent&&window.parent.onNodesEmpty&&window.parent.onNodesEmpty(),t.forEach(t=>{if(Object.prototype.hasOwnProperty.call(e.json_data,t)){if(a={},i={style:{lineWidth:2,stroke:"#B6B6CD"}},l=e.json_data[t],a.type="node",a.size="75*75",a.shape=l.cur_status,a.color="#030303",a.label=l.service_cname,a.cur_status=l.cur_status,a.service_alias=l.service_alias,a.id=l.service_id,a.lineTip=l.lineTip,a.labelMinor="",a.rank=a.cur_status,a.stack=!0,a.stackNum=c(l),a.linkable="running"===l.cur_status?1:0,a.adjacency=e.json_svg[t]||[],l.is_internet&&(i.source="The Internet",i.target=t,d.edges.push(i)),e.json_svg[t]&&e.json_svg[t].length>0)for(var r=0;r<e.json_svg[t].length;r++)n={},n.source=l.service_id,n.target=e.json_svg[t][r],n.style={lineWidth:2,stroke:"#B6B6CD"},o.push(n);d.registerData.push(l.cur_status),d.nodes.push(a)}}),d.edges=Array.from(new Set(d.edges)),o=Array.from(new Set(o));var u=d.edges.concat(o);d.edges=u,d.nodes[0].x=Number((document.body.clientWidth-352-100*r/2)/2);var p=(new m.default.graphlib.Graph).setGraph({}).setDefaultEdgeLabel(()=>{return{}});d.nodes.forEach(e=>{var t=e.size.split("*"),a=Number(t[0]),l=Number(t[1]);p.setNode(e.id,{width:a,height:l})}),d.edges.forEach(e=>{p.setEdge(e.source,e.target)}),m.default.layout(p);var g=d.nodes.map(e=>{var t=p.node(e.id);return(0,s.default)({},e,{x:t.x+430,y:t.y})});return d.nodes=g,d}render(){var e=this.state,t=e.data,a=e.list,l=e.visible,r=e.foreignType,s=e.edgeVisible,o=(e.edgeData,e.edgeTitle),c=e.foreignTypeName,u=this.props,p=(u.flagHeight,u.iframeHeight),m=this.props.form,I=m.getFieldDecorator;m.getFieldValue;return C.default.createElement("div",{style:{height:p}},l&&C.default.createElement(n.default,{title:1===r?C.default.createElement("div",null,C.default.createElement("a",null,c),"\u7ec4\u4ef6\u672a\u5f00\u542f\u5bf9\u5916\u7aef\u53e3"):C.default.createElement("div",null,"\u8981\u5173\u8054\u7684",C.default.createElement("a",null,c),"\u7ec4\u4ef6\u6682\u672a\u5f00\u542f\u5bf9\u5185\u7aef\u53e3\uff0c\u662f\u5426\u6253\u5f00?"),visible:l,onOk:this.handleOk,onCancel:this.handleCancel},C.default.createElement(d.default,{onSubmit:this.handleOk,layout:"horizontal",hideRequiredMark:!0},C.default.createElement(d.default.Item,(0,i.default)({},b,{label:"\u9009\u62e9\u7aef\u53e3"}),I("container_port",{initialValue:a[0],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7aef\u53e3"}]})(C.default.createElement(N,null,a.map((e,t)=>{return C.default.createElement(g.default,{key:t,value:e},e)})))))),s&&C.default.createElement(n.default,{title:"",visible:s,onOk:this.handleDeleteRelationedApp,onCancel:()=>{this.setState({edgeVisible:!1,edgeData:""})}},C.default.createElement("h3",null,o)),C.default.createElement(h.RegisterCommand,{name:"delete",config:{shortcutCodes:[]},extend:"delete"}),C.default.createElement(h.Flow,{style:{width:"100%",height:p},data:t,noEndEdge:!1,onKeyDown:e=>{"Backspace"==e.domEvent.key&&this.onEdgeOpen()},onEdgeClick:e=>{e.shape._attrs.stroke="#5BB1FA",e.shape._attrs.lineWidth=3,this.onSaveEdgeData(e.item)},onAfterChange:e=>{var t=e.action,a=e.item;if("add"==t){var l=a.source.model.service_alias,i=a.target.model.service_alias,n=a.source.model.shape,r=a.target.model.shape,s=a.source.id,d=a.target.id,o=a.target.model.label;"The Internet"==s?this.handleSubmitOpenExternalPort(i,o,r):"The Internet"==d?this.handleUndo():"The Internet"!=l&&this.handleSubmitAddRelation(l,d,o,n)}}}))}})||p)||p),D=(0,h.withPropsAPI)(S);t.default=D},Zob5:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("q1tI")),n=l(a("Msyt"));function r(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var s=i?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(l,n,s):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}class d extends i.PureComponent{render(){var e=this.props,t=e.group_id,a=e.iframeHeight;return i.default.createElement("div",{style:{height:a,background:"#fff"},bordered:!1},i.default.createElement(n.default,{iframeHeight:a,group_id:t}))}}t.default=d},aiW3:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjRjY5RDRBIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},bKuN:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjMjAxMjRBIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},cYkQ:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjMDAwMDIxIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},gNmc:function(e,t,a){e.exports={antd_form:"antd_form___2qDMM",description:"description___2KDe5",ulStyle:"ulStyle___jl4kp",over_hr:"over_hr___md_Og"}},"i+gw":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var i=l(a("/wGt")),n=l(a("jehZ"));a("fOrg");var r=l(a("+KLJ"));a("jCWc");var s=l(a("kPKH"));a("14J3");var d=l(a("BMrR"));a("+L6B");var o=l(a("2/Rp"));a("Pwec");var c,u,p=l(a("CtXQ")),g=l(a("p0pE")),m=a("MuoO"),I=w(a("q1tI")),h=l(a("I3bc")),C=l(a("QDog")),f=l(a("tH/r")),A=l(a("mWxT")),v=a("+n12"),y=l(a("zNpR")),M=l(a("9Y44")),N=l(a("vOCT")),b=l(a("sXRX")),S=l(a("CNGZ")),D=l(a("2Hi/")),Z=l(a("Gl/x")),j=l(a("puIC"));function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var T=(c=(0,m.connect)(e=>{var t=e.user,a=e.application,l=e.global,i=e.enterprise;return{currUser:t.currentUser,apps:a.apps,groupDetail:a.groupDetail||{},groups:l.groups||[],rainbondInfo:l.rainbondInfo,enterprise:l.enterprise,currentEnterprise:i.currentEnterprise}}),c(u=class extends I.PureComponent{constructor(e){var t;super(e),t=this,this.getGitServerName=(e=>{var t=e.oauth_type,a=e.name,l=void 0===a?"":a,i={github:"Github",gitlab:"Gitlab",gitee:"Gitee"},n=i[t]||"",r=n?"".concat(n," ").concat(l&&"(".concat(l,")")):"".concat(l,"\u9879\u76ee");return r}),this.toAddService=(()=>{this.setState({toAddService:!0,isDrawer:!0})}),this.toAddThirdParty=(()=>{this.setState({flagThirdParty:!this.state.flagThirdParty})}),this.cancelAddService=(()=>{this.setState({toAddService:!1},()=>{this.setState({ServiceComponentTwoPage:null,ServiceComponentOnePage:!0,moreState:!0,ButtonGroup:!1,ServiceComponentThreePage:!1,scopeProMax:!1})})}),this.handleServiceComponent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;t.setState({ServiceComponentOnePage:e,ServiceComponentTwoPage:a,ServiceComponentThreePage:l,[i]:n}),!1!==e&&null!==a&&null!==l||t.setState({ButtonGroup:null,ButtonGroupState:!0}),a&&t.setState({BackType:a}),"market"!==a&&t.setState({moreState:!0})},this.handleBackEvents=(()=>{var e=this.state,t=e.ServiceComponentTwoPage,a=e.ServiceComponentThreePage,l=e.BackType;t?this.setState({ServiceComponentTwoPage:null,ServiceComponentOnePage:!0,ButtonGroup:null,ButtonGroupState:!0}):a&&this.setState({ServiceComponentThreePage:null,ServiceComponentTwoPage:l,ButtonGroup:null,ButtonGroupState:!0}),"market"===t&&this.setState({moreState:!0})}),this.handleServiceBotton=((e,t,a)=>{this.setState({ButtonGroup:e,ButtonGroupState:t,errState:a})}),this.refreshCurrent=(()=>{this.setState({CustomButton:!1,toAddService:!1,ServiceComponentOnePage:!0,ServiceComponentTwoPage:null,ServiceComponentThreePage:null,ServiceGetData:null,ButtonGroup:!1,ButtonGroupState:!0,handleType:null,moreState:!0},()=>{this.props.refreshCurrent()})}),this.getValue=(e=>{this.setState({isDrawer:e})}),this.handleScopeMax=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.setState({scopeProMax:e})},this.state={CustomButton:!1,toAddService:!1,flagThirdParty:!1,ServiceComponentOnePage:!0,ServiceComponentTwoPage:null,ServiceComponentThreePage:null,ServiceGetData:null,ButtonGroup:!1,ButtonGroupState:!0,handleType:null,moreState:!0,BackType:null,errState:!0,isDrawer:!0,scopeProMax:""}}render(){var e=this.props,t=e.rainbondInfo,a=e.enterprise,l=e.groupId,c=e.onload,u=this.state,m=u.ButtonGroup,E=u.moreState,w=u.ServiceComponentOnePage,T=u.ServiceComponentTwoPage,P=u.ServiceComponentThreePage,G=u.ServiceGetData,k=u.ButtonGroupState,x=u.gitType,z=u.gitServiceID,_=u.scopeProMax,L=u.errState,R=u.toAddService,V=(u.flagThirdParty,u.localAppTab,u.rainStoreTab,u.helmStoreTab,u.isDrawer),W=C.default.fetchSvg("codeSvg"),B=C.default.fetchSvg("dockerSvg"),O=(C.default.fetchSvg("third_party"),f.default.getEnableGitOauthServer(a)),H={handleType:"Service",ButtonGroupState:k,refreshCurrent:this.refreshCurrent,handleServiceBotton:this.handleServiceBotton},Y=(0,g.default)({groupId:l},H,{handleServiceGetData:e=>{this.handleServiceComponent(!1,null,"check","ServiceGetData",e)}}),X=(0,g.default)({},Y,{scopeProMax:_,moreState:E}),J={marginRight:8};return I.default.createElement("div",null,I.default.createElement(o.default,{type:"primary",onClick:this.toAddService,style:{marginLeft:"12px",color:"#595959",borderColor:"#D9D9D9",background:"#fff"}},I.default.createElement(p.default,{type:"plus"}),"\u6dfb\u52a0\u7ec4\u4ef6"),I.default.createElement(i.default,{title:"\u6dfb\u52a0\u7ec4\u4ef6",placement:"right",onClose:this.cancelAddService,visible:R,maskClosable:!1,width:550,style:{display:V?"block":"none"}},w&&I.default.createElement("div",{style:{marginTop:"-12px"}},I.default.createElement("div",{className:j.default.ServiceBox},I.default.createElement(d.default,null,I.default.createElement("p",{className:j.default.ServiceTitle},"\u4ece\u6e90\u4ee3\u7801\u5f00\u59cb")),I.default.createElement(d.default,null,I.default.createElement(s.default,{span:8,className:j.default.ServiceDiv,onClick:()=>{this.handleServiceComponent(!1,"custom")}},W,I.default.createElement("p",{className:j.default.ServiceSmallTitle},"\u81ea\u5b9a\u4e49\u4ed3\u5e93")),O&&O.length>0&&O.map(e=>{var t=e.service_id,a=e.oauth_type;return I.default.createElement(s.default,{key:t,span:8,className:j.default.ServiceDiv,onClick:()=>{this.setState({gitType:a,gitServiceID:t},()=>{this.handleServiceComponent(!1,"gitrepostory")})}},f.default.getIcon(e,"50px"),I.default.createElement("p",{className:j.default.ServiceSmallTitle},this.getGitServerName(e)))})),I.default.createElement(d.default,{style:{marginBottom:"2px"}},A.default.documentPlatform_url(t)&&I.default.createElement(r.default,{message:I.default.createElement("p",{className:j.default.prompt},"\u6ce8:\u652f\u6301",Object.keys(v.languageObj).map(e=>{return I.default.createElement("a",{key:e,href:v.languageObj[e],target:"_blank",rel:"noopener noreferrer"},e)}),"\u7b49\u8bed\u8a00\u89c4\u8303"),type:"info",style:{height:"50px"},showIcon:!0}))),I.default.createElement("div",{className:j.default.ServiceBox},I.default.createElement(d.default,null,I.default.createElement("p",{className:j.default.ServiceTitle},"\u4ece\u955c\u50cf\u5f00\u59cb")),I.default.createElement(d.default,{style:{marginTop:"-8px"}},I.default.createElement(s.default,{span:8,className:j.default.ServiceDiv,onClick:()=>{this.handleServiceComponent(!1,"imageName")}},B,I.default.createElement("p",{className:j.default.ServiceSmallTitle},"\u6307\u5b9a\u955c\u50cf")),I.default.createElement(s.default,{span:8,className:j.default.ServiceDiv,onClick:()=>{this.handleServiceComponent(!1,"imageCmd")}},B,I.default.createElement("p",{className:j.default.ServiceSmallTitle},"\u6307\u5b9aDockerRun\u547d\u4ee4")))),I.default.createElement("div",{className:j.default.ServiceBox},I.default.createElement(d.default,null,I.default.createElement("p",{className:j.default.ServiceTitle,style:{marginBottom:"20px"}},"\u4ece\u5e94\u7528\u5e02\u573a\u5f00\u59cb")),I.default.createElement(d.default,null,I.default.createElement(Z.default,(0,n.default)({},X,{isHelm:!1,handleServiceComponent:e=>{this.handleServiceComponent(!1,"market",null,"moreState",!1),this.handleScopeMax(e)}})))),I.default.createElement("div",{className:j.default.ServiceBox},I.default.createElement(y.default,{content:this.getValue.bind(this),groupId:l}))),"custom"===T&&I.default.createElement(M.default,Y),"gitrepostory"===T&&I.default.createElement(h.default,(0,n.default)({},Y,{type:z,gitType:x})),"check"===P&&G&&I.default.createElement(N.default,(0,n.default)({},H,{ServiceGetData:G,ErrState:L,handleServiceDataState:(e,t,a,l)=>{this.handleServiceComponent(e,t,a,"ServiceGetData",l),c&&c()}})),"imageName"===T&&I.default.createElement(S.default,Y),"imageCmd"===T&&I.default.createElement(b.default,Y),"market"===T&&I.default.createElement(D.default,(0,n.default)({},X,{isHelm:!1,isAddMarket:!0,scopeMax:_||"localApplication",handleServiceComponent:()=>{this.handleServiceComponent(!1,"market",null)}})),I.default.createElement("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",left:0,background:"#fff",borderRadius:"0 0 4px 4px",display:"flex",justifyContent:"flex-end",zIndex:99999}},!w&&"check"!==P&&I.default.createElement(o.default,{style:J,onClick:this.handleBackEvents},"\u4e0a\u4e00\u6b65"),m&&I.default.createElement("span",{style:J},m),I.default.createElement(o.default,{style:J,onClick:this.cancelAddService},"\u53d6\u6d88"))))}})||u);t.default=T},jWJt:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a("jehZ")),n=l(a("Y/ft")),r=a("7DNP"),s=l(a("q1tI")),d=l(a("ZShK")),o=l(a("EhCg")),c=l(a("fxZG")),u=l(a("8+Sn")),p=e=>{var t=e.isFooter,a=e.children,l=e.wrapperClassName,p=e.top,g=(0,n.default)(e,["isFooter","children","wrapperClassName","top"]);return s.default.createElement("div",{style:{margin:"-24px -24px 0"},className:l},p,s.default.createElement(o.default,(0,i.default)({key:"pageheader"},g,{linkElement:r.Link})),a?s.default.createElement("div",{className:c.default.content},a):null,!t&&"false"===u.default.get("enterprise_edition")&&s.default.createElement(d.default,null))};t.default=p},movk:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=l(a("kLXV"));a("14J3");var r=l(a("BMrR"));a("jCWc");var s=l(a("kPKH"));a("g9YV");var d=l(a("wCAj"));a("+L6B");var o,c,u,p=l(a("2/Rp")),g=i(a("q1tI")),m=a("MuoO"),I=a("xpXo"),h=l(a("QDog")),C=(o=(0,m.connect)(e=>{var t=e.loading;return{batchDeleteLoading:t.effects["appControl/putBatchDelete"]}},null,null,{pure:!1}),o((u=class extends g.PureComponent{constructor(e){super(e),this.handleDelete=(()=>{this.setState({confirm:!0});var e=this.props,t=e.dispatch,a=e.batchDeleteApps,l=a.map(e=>{return e.service_id});t({type:"appControl/putBatchDelete",payload:{team_name:h.default.getCurrTeamName(),serviceIds:l.join(",")},callback:e=>{e&&this.setState({apps:e.list})}})}),this.reDelete=(e=>{(0,I.reDelete)({team_name:h.default.getCurrTeamName(),service_id:e}).then(t=>{if(t){var a=[];this.state.apps.map(t=>{t.service_id==e&&(t.status=200,t.msg="\u5220\u9664\u6210\u529f"),a.push(t)}),this.setState({apps:a})}})});var t=this.props.batchDeleteApps;this.state={batchDeleteApps:t,apps:t.map(e=>{if(e)return{service_id:e.service_id,service_cname:e.service_cname,msg:"\u6b63\u5728\u5220\u9664",status:0}}),confirm:!1}}render(){var e=this.props,t=e.batchDeleteLoading,a=e.onCancel,l=this.state,i=l.confirm,o=l.apps;return g.default.createElement(n.default,{title:"\u786e\u8ba4\u6279\u91cf\u5220\u9664",visible:!0,width:600,onCancel:a,footer:g.default.createElement(p.default,{onClick:a},"\u5b8c\u6210")},i?g.default.createElement(d.default,{dataSource:o||[],columns:[{title:"\u7ec4\u4ef6\u540d\u79f0",dataIndex:"service_cname"},{title:"\u53cd\u9988\u4fe1\u606f",dataIndex:"msg",render:e=>{var t={success:"\u5220\u9664\u6210\u529f"};return g.default.createElement("span",null,t[e]||e)}},{title:"\u64cd\u4f5c",dataIndex:"action",render:(e,t)=>{return 412==t.status?g.default.createElement("a",{target:"_blank",onClick:()=>{this.reDelete(t.service_id)}},"\u786e\u8ba4\u5220\u9664"):409==t.status?"\u8bf7\u5148\u5173\u95ed\u7ec4\u4ef6":200==t.status?"\u5df2\u5220\u9664":void 0}}]}):g.default.createElement("div",{style:{textAlign:"center"}},g.default.createElement("p",null,o&&o.length&&void 0!=o[0]?"\u5373\u5c06\u5220\u9664\u4ee5\u4e0b\u7ec4\u4ef6":"\u8bf7\u5237\u65b0\u6570\u636e\u540e\u5220\u9664"),g.default.createElement(r.default,null,o.map(e=>{return void 0==e?null:g.default.createElement(s.default,{span:8,key:"col".concat(e.service_id),style:{overflow:"auto"}},g.default.createElement("p",{key:e.service_id},e.service_cname))})),o&&o.length&&void 0!==o[0]&&g.default.createElement(p.default,{type:"primary",loading:t,onClick:this.handleDelete},"\u786e\u5b9a\u6279\u91cf\u5220\u9664")))}},c=u))||c);t.default=C},oWzr:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjcwcHgiIGhlaWdodD0iNDA3cHgiIHZpZXdCb3g9IjAgMCAyNzAgNDA3IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1Mi41ICg2NzQ2OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+R3JvdXA8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8ZmlsdGVyIHg9Ii04MTEuOCUiIHk9Ii02MzQuMCUiIHdpZHRoPSIxNzIzLjclIiBoZWlnaHQ9IjEzNzIuMiUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0xIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMjE1IiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI1OS41IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwICAgMCAwIDAgMCAwLjQ2NjY2NjY2NyAgIDAgMCAwIDAgMSAgMCAwIDAgMSAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlTWVyZ2VOb2RlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIj48L2ZlTWVyZ2VOb2RlPgogICAgICAgICAgICA8L2ZlTWVyZ2U+CiAgICAgICAgPC9maWx0ZXI+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTIiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0zIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTQiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIGZpbHRlcj0idXJsKCNmaWx0ZXItMSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk3LjAwMDAwMCwgMi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlBvbHlnb24iPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0yIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci00KSIgeGxpbms6aHJlZj0iI3BhdGgtMiI+PC91c2U+CiAgICAgICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzAwNzcxMCIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjcGF0aC0yIj48L3VzZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBmaWxsPSIjMDAwMDAwIiBjeD0iMzgiIGN5PSI0OCIgcj0iOCI+PC9jaXJjbGU+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},ogb6:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var n=l(a("BMrR"));a("giR+");var r=l(a("fyUT"));a("7Kak");var s=l(a("9yH6"));a("5NDa");var d=l(a("5rEg")),o=l(a("jehZ"));a("jCWc");var c=l(a("kPKH"));a("OaEy");var u,p,g,m=l(a("2fM7")),I=a("MuoO"),h=i(a("q1tI")),C=l(a("gNmc")),f=m.default.Option,A=(u=(0,I.connect)(e=>{var t=e.user,a=e.loading;return{currUser:t.currentUser,addHttpStrategyLoading:a.effects["gateWay/addHttpStrategy"],editHttpStrategyLoading:a.effects["gateWay/editHttpStrategy"]}}),u((g=class extends h.PureComponent{constructor(e){super(e),this.onChangeSwitch=((e,t)=>{var a=this.props,l=a.upDateQuestions,i=a.data;i.map(a=>{a.variable===t.variable&&(a.default=e)}),l&&l(i)}),this.handleOk=(e=>{e.preventDefault();var t=this.props,a=t.onOk,l=t.form;l.validateFields((e,t)=>{!e&&a&&a(t)})}),this.handleIsNext=(e=>{var t=this.props.getFieldValue;if(e&&e.indexOf("=")>-1){var a=e.split("=")[0],l=a.replace(new RegExp("\\.","g"),"#-#"),i=t(l)||!1,n="".concat(a,"=").concat(i);return!(e.indexOf(n)<0)}return!0}),this.handleFormItem=(e=>{var t=[];return e.map((a,l)=>{var i=a.type,n=a.subquestions,r=a.default,s=a.group,d=a.show_subquestion_if,o=a.showSubquestionIf,u=a.show_if,p=a.showIf,g=n&&n.length>0,m=o||d,I=u||p||!1,f=this.handleIsNext(I),A=h.default.createElement(h.Fragment,null,f&&this.FormItemBox(a),g&&("boolean"!==i||"".concat(r)=="".concat(m))&&f&&n.map(e=>{var t=e.show_if||e.showIf||!1;return this.handleIsNext(t)&&this.FormItemBox(e)})),v=l<1?0:l-1;return l>0&&t.push(e[v].group),h.default.createElement(h.Fragment,null,t.includes(s)?A:h.default.createElement(h.Fragment,null,h.default.createElement(c.default,{span:24},h.default.createElement("div",{className:C.default.over_hr},h.default.createElement("span",null,s))),A))})}),this.FormItemBox=(e=>{var t=this.props,a=t.Form,l=t.getFieldDecorator,i=a.Item,n={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:23},sm:{span:23}}},r=e.variable,s=e.required,d=void 0!==s&&s,u=e.default,p=e.description,g=e.label,m=e.type,I=e.min,f=void 0===I?"":I,A=this.handleBox(e,m,u),v=r.replace(new RegExp("\\.","g"),"#-#");return A?h.default.createElement(c.default,{span:12},h.default.createElement(i,(0,o.default)({},n,{label:g,className:C.default.antd_form}),l(v,{rules:[{required:d,message:"".concat(g,"\u5fc5\u987b\u8bbe\u7f6e")}],initialValue:u&&"".concat(u)||f})(A),h.default.createElement("div",{className:C.default.description},p))):null}),this.handleBox=((e,t,a)=>{return"string"===t?h.default.createElement(d.default,{placeholder:"\u8bf7\u8f93\u5165"}):"boolean"===t?h.default.createElement(s.default.Group,{defaultChecked:"".concat(a),onChange:t=>{this.onChangeSwitch(t.target.value,e)}},h.default.createElement(s.default,{value:"true"},"\u662f"),h.default.createElement(s.default,{value:"false"},"\u5426")):"int"===t?h.default.createElement(r.default,{style:{width:"100%"},min:e.min||1,max:e.max||255,placeholder:"\u8282\u70b9\u6570\u91cf"}):"enum"===t?h.default.createElement(m.default,{placeholder:"\u8bf7\u9009\u62e9"},e.options&&e.options.map(e=>{return h.default.createElement(f,{key:e,value:e},e)})):"password"===t?h.default.createElement(d.default,{autoComplete:"new-password",type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}):null}),this.state={}}render(){var e=this.props.data;return h.default.createElement(h.Fragment,null,h.default.createElement(n.default,null,this.handleFormItem(e)))}},p=g))||p),v=A;t.default=v},ri62:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("g9YV");var n=l(a("wCAj"));a("5NDa");var r=l(a("5rEg"));a("fOrg");var s=l(a("+KLJ"));a("+L6B");var d=l(a("2/Rp"));a("/xke");var o=l(a("TeRw"));a("OaEy");var c=l(a("2fM7"));a("y8nQ");var u,p,g,m=l(a("Vl3Y")),I=a("MuoO"),h=A(a("q1tI")),C=l(a("QDog"));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var v=m.default.Item,y=c.default.Option,M=(u=m.default.create(),p=(0,I.connect)(e=>{var t=e.loading;return{checkK8sLoading:t.effects["application/setCheckK8sServiceName"],governanceLoading:t.effects["application/setgovernancemode"]}}),u(g=p(g=class extends h.PureComponent{constructor(e){super(e),this.setK8sServiceNames=(e=>{var t=this.props,a=t.dispatch,l=t.appID,i=t.onCancel,n=this.state.ServiceNameList,r=[];n.map(t=>{var a=t.service_id,l=t.port_alias,i=t.service_cname,n=t.k8s_service_name,s=t.port,d="".concat(a,"/").concat(l),o="".concat(a,"/").concat(n);d&&o&&r.push({service_cname:i,service_id:a,port:s,port_alias:e[d],k8s_service_name:e[o]})}),a({type:"application/setCheckK8sServiceName",payload:{tenantName:C.default.getCurrTeamName(),group_id:l,arr:r},callback:e=>{e&&200===e.status_code&&(this.handleNotification(),i())}})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props.form,a=this.state.step;t.validateFields((e,t)=>{e||(a?this.setK8sServiceNames(t):this.handleGovernancemode(t))})}),this.handleGovernancemode=(e=>{var t=this.props,a=t.dispatch,l=t.appID,i=t.onCancel,n=t.onOk;a({type:"application/setgovernancemode",payload:{tenantName:C.default.getCurrTeamName(),group_id:l,governance_mode:e.governance_mode},callback:()=>{n(),"BUILD_IN_SERVICE_MESH"===e.governance_mode?(this.handleNotification(),i()):this.fetchServiceNameList()}})}),this.handleNotification=(()=>{o.default.success({message:"\u5207\u6362\u6210\u529f\u3001\u66f4\u65b0\u7ec4\u4ef6\u540e\u751f\u6548",duration:"3"})}),this.fetchServiceNameList=(()=>{var e=this.props,t=e.dispatch,a=e.appID,l=e.onCancel;t({type:"application/fetchServiceNameList",payload:{tenantName:C.default.getCurrTeamName(),group_id:a},callback:e=>{e&&e.bean&&(e.list&&e.list.length>0?this.setState({step:!0,ServiceNameList:e.list}):(this.handleNotification(),l()))}})}),this.checkK8sServiceName=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a({type:"application/checkK8sServiceName",payload:{tenantName:C.default.getCurrTeamName(),group_id:l,service_alias:e.service_alias,k8s_service_name:e.k8s_service_name},callback:e=>{e&&e.bean&&!e.bean.is_valid&&this.setK8sServiceNames()}})}),this.checkServiceName=((e,t,a)=>{var l=this.props,i=l.dispatch,n=l.appID,r=this.stata.ServiceNameList;try{i({type:"application/checkK8sServiceName",payload:{tenantName:C.default.getCurrTeamName(),group_id:n,service_alias:r[0].service_alias,k8s_service_name:r[0].k8s_service_name},callback:e=>{if(!e||!e.bean||e.bean.is_valid)throw new Error("\u683c\u5f0f\u9519\u8bef!");a()}})}catch(e){return void a(e)}a()}),this.rowKey=((e,t)=>t),this.handleOnCancel=(()=>{var e=this.props.onCancel;this.state.step&&this.handleNotification(),e()}),this.handleChange=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a({type:"application/checkoutGovernanceModel",payload:{team_name:C.default.getCurrTeamName(),app_id:l,governance_mode:e},callback:e=>{e&&this.setState({btnConfig:!1})},handleError:e=>{e&&e.data&&11009===e.data.code&&(o.default.warning({message:"\u672a\u5b89\u88c5\u63a7\u5236\u5e73\u9762\uff0c\u65e0\u6cd5\u5207\u6362"}),this.setState({btnConfig:!0}))}})}),this.state={step:!1,ServiceNameList:[],btnConfig:!1}}render(){var e=[{key:"KUBERNETES_NATIVE_SERVICE",name:"Kubernetes\u539f\u751f service \u6a21\u5f0f"},{key:"BUILD_IN_SERVICE_MESH",name:"\u5185\u7f6e ServiceMesh \u6a21\u5f0f"},{key:"ISTIO_SERVICE_MESH",name:"Istio\u6cbb\u7406\u6a21\u5f0f"}],t=this.props,a=t.loading,l=void 0!==a&&a,o=(t.onCancel,t.form),u=t.checkK8sLoading,p=t.governanceLoading,g=t.mode,I=this.state,C=I.step,f=I.ServiceNameList,A=I.btnConfig,M=o.getFieldDecorator,N=o.getFieldValue,b=N("governance_mode")||g||"KUBERNETES_NATIVE_SERVICE";return h.default.createElement(i.default,{title:"\u5e94\u7528\u6cbb\u7406\u6a21\u5f0f\u5207\u6362",visible:!0,confirmLoading:l||u||p,onOk:this.handleSubmit,onCancel:this.handleOnCancel,width:800,footer:[h.default.createElement(d.default,{onClick:this.handleOnCancel}," \u53d6\u6d88 "),h.default.createElement(d.default,{type:"primary",disabled:A,loading:l||u||p,onClick:this.handleSubmit},"\u786e\u5b9a")]},h.default.createElement(s.default,{style:{marginBottom:"20px"},message:"\u5e94\u7528\u6cbb\u7406\u6a21\u5f0f\u4e3b\u8981\u6307\u7ec4\u4ef6\u95f4\u901a\u4fe1\u6a21\u5f0f\u7684\u6cbb\u7406\uff0c\u76ee\u524d\u652f\u6301\u5185\u7f6eServiceMesh\u6a21\u5f0f,Istio\u6cbb\u7406\u6a21\u5f0f\u548cKubernetes\u539f\u751fService\u6a21\u5f0f",type:"info",showIcon:!0}),h.default.createElement(m.default,{onSubmit:this.handleSubmit},C?h.default.createElement(n.default,{size:"middle",rowKey:this.rowKey,pagination:!1,dataSource:f||[],columns:[{title:"\u7ec4\u4ef6\u540d\u79f0/\u7aef\u53e3",dataIndex:"service_alias",width:200,render:(e,t)=>h.default.createElement("div",null,t.service_cname,"/",t.port)},{title:"\u522b\u540d",dataIndex:"port_alias",width:200,render:(e,t)=>h.default.createElement(v,{style:{marginBottom:0}},M("".concat(t.service_id,"/").concat(t.port_alias),{initialValue:e||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"}]})(h.default.createElement(r.default,{size:"small"})))},{title:"\u5185\u90e8\u57df\u540d",dataIndex:"k8s_service_name",width:200,render:(e,t)=>h.default.createElement(v,{style:{marginBottom:0}},M("".concat(t.service_id,"/").concat(t.k8s_service_name),{initialValue:e||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a"},{max:63,message:"\u6700\u5927\u957f\u5ea663\u4f4d"},{pattern:/^[a-z]([-a-z0-9]*[a-z0-9])?$/,message:"\u5fc5\u987b\u7531\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c-\u7ec4\u6210\uff0c\u5e76\u4e14\u5fc5\u987b\u4ee5\u5c0f\u5199\u5b57\u6bcd\u5f00\u59cb,\u6570\u5b57\u548c\u5c0f\u5199\u5b57\u6bcd\u7ed3\u675f"}]})(h.default.createElement(r.default,{size:"small"})))}]}):h.default.createElement("div",null,h.default.createElement(v,{labelCol:{xs:{span:14},sm:{span:8}},wrapperCol:{xs:{span:14,offset:0},sm:{span:8}},label:"\u6cbb\u7406\u6a21\u5f0f\u9009\u62e9"},M("governance_mode",{initialValue:g||"KUBERNETES_NATIVE_SERVICE",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a!"}]})(h.default.createElement(c.default,{style:{width:"357px"},onChange:this.handleChange,getPopupContainer:e=>e.parentNode},e.map(e=>{return h.default.createElement(y,{key:e.key,value:e.key},e.name)})))),h.default.createElement("div",{style:{width:"468px",margin:"0 auto",border:"1px solid #ccc",padding:"10px",borderRadius:"8px"}},h.default.createElement("label",{htmlFor:"governance_mode",className:"ant-form-item-required",title:"\u6a21\u5f0f\u8bf4\u660e"},"\u6a21\u5f0f\u8bf4\u660e"),h.default.createElement("div",{style:{marginTop:"10px"}},"KUBERNETES_NATIVE_SERVICE"===b?"\u8be5\u6a21\u5f0f\u7ec4\u4ef6\u95f4\u4f7f\u7528Kubernetes service\u540d\u79f0\u57df\u540d\u8fdb\u884c\u901a\u4fe1\uff0c\u7528\u6237\u9700\u8981\u914d\u7f6e\u6bcf\u4e2a\u7ec4\u4ef6\u7aef\u53e3\u6ce8\u518c\u7684service\u540d\u79f0\uff0c\u6cbb\u7406\u80fd\u529b\u6709\u9650.":"BUILD_IN_SERVICE_MESH"===b?"\u5185\u7f6eServiceMesh\u6a21\u5f0f\u9700\u8981\u7528\u6237\u663e\u793a\u7684\u914d\u7f6e\u7ec4\u4ef6\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5e73\u53f0\u4f1a\u5728\u4e0b\u6e38\u7ec4\u4ef6\u4e2d\u81ea\u52a8\u6ce8\u5165sidecar\u5bb9\u5668\u7ec4\u6210ServiceMesh\u5fae\u670d\u52a1\u67b6\u6784\uff0c\u4e1a\u52a1\u95f4\u901a\u4fe1\u5730\u5740\u7edf\u4e00\u4e3alocalhost\u6a21\u5f0f":"\u8be5\u6a21\u5f0f\u7ec4\u4ef6\u95f4\u4f7f\u7528Kubernetes service\u540d\u79f0\u57df\u540d\u8fdb\u884c\u901a\u4fe1\uff0c\u7528\u6237\u9700\u8981\u914d\u7f6e\u6bcf\u4e2a\u7ec4\u4ef6\u7aef\u53e3\u6ce8\u518c\u7684service\u540d\u79f0\uff0c\u4e14\u5b89\u88c5Istio  control plane \uff0c\u901a\u8fc7Istio\u8fdb\u884c\u6cbb\u7406\u3002")))))}})||g)||g);t.default=M},t3BL:function(e,t,a){"use strict";(function(e){var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var i=l(a("kLXV"));a("Q9mQ");var n=l(a("diRs"));a("5Dmo");var r=l(a("3S7+"));a("IzEo");var s=l(a("bx4M"));a("Awhp");var d=l(a("KrTs"));a("Pwec");var o=l(a("CtXQ"));a("14J3");var c=l(a("BMrR"));a("fOrg");var u=l(a("+KLJ"));a("jCWc");var p=l(a("kPKH")),g=l(a("jehZ"));a("cWXX");var m=l(a("/ezw"));a("+L6B");var I=l(a("2/Rp"));a("/xke");var h=l(a("TeRw"));a("y8nQ");var C=l(a("Vl3Y"));a("OaEy");var f=l(a("2fM7"));a("FJo9");var A=l(a("L41K"));a("fu2T");var v=l(a("gK9i"));a("Znn+");var y,M,N,b=l(a("ZTPi")),S=l(a("qCJ4")),D=l(a("4SMx")),Z=l(a("ZNrE")),j=l(a("YABy")),E=l(a("ogb6")),w=l(a("gNmc")),T=a("RBnf"),P=a("MuoO"),G=a("7DNP"),k=l(a("wd/R")),x=U(a("q1tI")),z=l(a("IujW")),_=a("ArA+"),L=l(a("q76B")),R=l(a("ALo4")),V=l(a("YCtL")),W=a("xpXo"),B=l(a("QDog")),O=l(a("ZgmS")),H=l(a("ruXZ")),Y=l(a("VZuE")),X=l(a("puIC"));function J(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(J=function(e){return e?a:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=J(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var Q=b.default.TabPane,F=v.default.Panel,K=A.default.Step,q=f.default.Option,$=C.default.Item,ee=(y=(0,P.connect)(e=>{var t=e.user,a=e.application,l=e.teamControl,i=e.enterprise,n=e.loading,r=e.global;return{buildShapeLoading:n.effects["global/buildShape"],editGroupLoading:n.effects["application/editGroup"],deleteLoading:n.effects["application/delete"],currUser:t.currentUser,collapsed:r.collapsed,apps:a.apps,groupDetail:a.groupDetail||{},currentTeam:l.currentTeam,currentRegionName:l.currentRegionName,currentEnterprise:i.currentEnterprise}}),M=C.default.create(),y(N=M(N=class extends x.PureComponent{constructor(t){var a;super(t),a=this,this.onChangeSteps=(e=>{this.setState({currentSteps:e})}),this.closeTimer=(()=>{this.timer&&clearInterval(this.timer)}),this.loading=(()=>{this.fetchAppDetail(!0)}),this.handleError=(e=>{var t=this.state.componentTimer;if(!t)return null;e&&e.data&&e.data.msg_show&&h.default.warning({message:"\u8bf7\u6c42\u9519\u8bef",description:e.data.msg_show})}),this.handleTimers=((e,t,a)=>{var l=this.state.componentTimer;if(!l)return null;this[e]=setTimeout(()=>{t()},a)}),this.fetchAppDetail=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.team_name,i=a.region_name,n=a.group_id;t({type:"application/fetchGroupDetail",payload:{team_name:l,region_name:i,group_id:n},callback:t=>{t&&200===t.status_code&&this.setState({currApp:t.bean||{}},()=>{e&&this.fetchAppDetailState(e)})},handleError:a=>{var l=this.state.componentTimer;if(!l)return null;e&&this.fetchAppDetailState(e),a&&404===a.code&&t(G.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps")))}})}),this.fetchAppDetailState=(e=>{var t=this.props,a=t.dispatch,l=t.form,i=this.props.match.params,n=i.teamName,r=i.appID,s=l.getFieldValue,d=s("templateFile"),o=this.state,c=o.appStateMap,u=o.currentSteps,p=o.isScrollToBottom;a({type:"application/fetchAppDetailState",payload:{team_name:n,group_id:r},callback:t=>{var a=t.list||{},l=a&&a.phase&&c[a.phase]||0;this.setState({resources:a,appStateLoading:!1,currentSteps:l>u?l:u},()=>{2===l&&p&&this.scrollToBottom(),l>=2?(e&&this.setState({versionInfoLoading:e}),this.getHelmApplication(!d||e)):this.handleAppInfoLoading(),l>=4&&(this.fetchHelmComponents(),this.fetchAppAccess())}),this.handleTimers("timer",()=>{this.fetchAppDetailState(),this.fetchAppDetail(),this.closeTimer()},5e3)},handleError:e=>{this.setState({appStateLoading:!1}),this.handleAppInfoLoading(),this.handleError(e),this.handleTimers("timer",()=>{this.fetchAppDetailState(),this.fetchAppDetail()},2e4)}})}),this.fetchHelmAppStoresVersions=(e=>{var t=this.props,a=t.dispatch,l=t.currentEnterprise,i=this.state.currApp;a({type:"application/fetchHelmAppStoresVersions",payload:{enterprise_id:l.enterprise_id,version:e,appStoreName:i.app_store_name,templateName:i.app_template_name},callback:e=>{e&&200===e.status_code&&this.setState({versionInfo:e,versionInfoLoading:!1,formData:e&&e.questions&&e.questions.length>0&&e.questions||[]},()=>{e&&e.values&&this.handleTemplateFile(Object.keys(e.values).reverse()[0])})},handleError:e=>{this.handleErrPrompt(e)}})}),this.handleFormReset=(()=>{var e=this.props.form;e.resetFields(),this.loadApps()}),this.handleSearch=(e=>{e.preventDefault(),this.loadApps()}),this.toDelete=(()=>{this.closeComponentTimer(),this.setState({toDelete:!0})}),this.cancelDelete=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a.setState({toDelete:!1}),e&&a.openComponentTimer()},this.closeComponentTimer=(()=>{this.setState({componentTimer:!1}),this.closeTimer()}),this.openComponentTimer=(()=>{this.setState({componentTimer:!0},()=>{this.fetchAppDetailState()})}),this.handleDelete=(()=>{var e=this.props.dispatch,t=this.fetchParameter(),a=t.team_name,l=t.group_id;e({type:"application/delete",payload:{team_name:a,group_id:l},callback:t=>{t&&200===t.status_code&&(h.default.success({message:"\u5220\u9664\u6210\u529f"}),this.closeComponentTimer(),this.cancelDelete(!1),e(G.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps"))))}})}),this.newAddress=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.team_name;t({type:"global/fetchGroups",payload:{team_name:l},callback:a=>{a&&a.length?e===a[0].group_id?this.newAddress(e):t(G.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps/").concat(a[0].group_id))):t(G.routerRedux.push("".concat(this.fetchPrefixUrl(),"index")))}})}),this.toEdit=(()=>{this.setState({toEdit:!0})}),this.cancelEdit=(()=>{this.setState({toEdit:!1})}),this.handleToEditAppDirector=(()=>{this.setState({toEditAppDirector:!0})}),this.cancelEditAppDirector=(()=>{this.setState({toEditAppDirector:!1})}),this.handleEdit=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.team_name,i=a.group_id;t({type:"application/editGroup",payload:{team_name:l,group_id:i,group_name:e.group_name,note:e.note,username:e.username},callback:e=>{e&&200===e.status_code&&h.default.success({message:"\u4fee\u6539\u6210\u529f"}),this.handleUpDataHeader(),this.cancelEdit(),this.cancelEditAppDirector(),this.fetchAppDetail(),t({type:"global/fetchGroups",payload:{team_name:l}})}})}),this.handleUpDataHeader=(()=>{var e=this.props.dispatch;e({type:"global/IsUpDataHeader",payload:{isUpData:!0}})}),this.handlePromptModalOpen=(()=>{var e=this.state,t=e.code,a=e.serviceIds,l=this.props.dispatch,i=this.fetchParameter(),n=i.team_name,r=i.group_id;"restart"===t?(0,W.batchOperation)({action:t,team_name:n,serviceIds:a&&a.join(",")}).then(e=>{e&&200===e.status_code&&(h.default.success({message:"\u91cd\u542f\u6210\u529f"}),this.handlePromptModalClose()),this.fetchAppDetailState(!1)}):l({type:"global/buildShape",payload:{tenantName:n,group_id:r,action:t},callback:e=>{e&&200===e.status_code&&(h.default.success({message:e.msg_show||"\u6784\u5efa\u6210\u529f",duration:"3"}),this.handlePromptModalClose()),this.fetchAppDetailState(!1)}})}),this.handlePromptModalClose=(()=>{this.setState({promptModal:!1,code:""})}),this.handleJump=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a(G.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps/").concat(l,"/").concat(e)))}),this.handleJumpStore=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.enterprise_id;t(G.routerRedux.push("/enterprise/".concat(l,"/shared/").concat(e)))}),this.beforeUpload=((e,t)=>{var a=e.name.split("."),l=a.length,i="yaml"===a[l-1]||"yml"===a[l-1];return!!i||(t&&h.default.warning({message:"\u8bf7\u4e0a\u4f20\u4ee5.yaml\u3001.yml\u7ed3\u5c3e\u7684 Region Config \u6587\u4ef6"}),!1)}),this.encodeBase64Content=(t=>{var a=t&&e.from(t).toString("base64")||"";return a}),this.decodeBase64Content=(t=>{var a=t&&t.replace(/\s/g,"+")||"";return a&&(a=e.from(a,"base64").toString()),a}),this.handleSubmit=(e=>{var t=this.props.form,a=t.validateFields,l=t.setFields;a((t,a)=>{if(!t){this.setState({submitLoading:!0});var i=this.encodeBase64Content(a.yamls),n=!1,r={};if(a.overrides&&a.overrides.length>0?a.overrides.map(e=>{var t=e.item_key,a=e.item_value;t&&a&&""!==t&&""!==a?r[t]=a:n=!0}):r=void 0,n)return l({overrides:{errors:[new Error("\u8bf7\u586b\u5199\u914d\u7f6e\u9879")]}}),this.setState({submitLoading:!1}),null;Object.keys(a).forEach(e=>{if("templateFile"!==e&&"version"!==e&&"yamls"!==e&&"overrides"!==e){"[Object Object]"!==!Object.prototype.toString.call(r)&&void 0!==r||(r={});var t=e.replace(new RegExp("\\#-#","g"),"."),l=a[e];r[t]="".concat(l)}});var s=Object.assign({},a,{yamls:i,overrides:r});"Create"===e?this.handleInstallHelmApp(s):this.handleEditHelmApp(s)}})}),this.fetchHelmComponents=(()=>{var e=this.props.dispatch,t=this.fetchParameter(),a=t.team_name,l=t.group_id;e({type:"application/fetchHelmComponents",payload:{tenantName:a,groupId:l},callback:e=>{e&&200===e.status_code&&this.setState({components:e.list||[]})}})}),this.fetchAppAccess=(()=>{var e=this.props.dispatch,t=this.fetchParameter(),a=t.team_name,l=t.group_id;e({type:"application/fetchAppAccess",payload:{tenantName:a,groupId:l},callback:e=>{e&&200===e.status_code&&this.setState({linkList:e.list||[]})}})}),this.handleThird=(e=>{var t=this.props.dispatch;t(G.routerRedux.push("".concat(this.fetchPrefixUrl(),"components/").concat(e,"/thirdPartyServices")))}),this.handleComponent=(e=>{var t=this.props.dispatch;t(G.routerRedux.push("".concat(this.fetchPrefixUrl(),"components/").concat(e,"/overview")))}),this.handleInstallHelmApp=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.team_name,i=a.group_id;t({type:"application/installHelmApp",payload:{team_name:l,group_id:i,overrides:e.overrides,values:e.yamls},callback:e=>{e&&200===e.status_code&&this.setState({currentSteps:3,submitLoading:!1})}})}),this.handleEditHelmApp=(e=>{var t=this.props.dispatch,a=this.state.currApp,l=this.fetchParameter(),i=l.team_name,n=l.group_id;t({type:"application/editHelmApp",payload:{team_name:i,group_id:n,overrides:e.overrides,values:e.yamls,username:a.username,app_name:a.group_name,app_note:a.note,version:e.version},callback:e=>{e&&200===e.status_code&&(this.fetchAppDetailState(),h.default.success({message:"\u66f4\u65b0\u4e2d\u3001\u8bf7\u8010\u5fc3\u7b49\u5f85"})),this.setState({submitLoading:!1})}})}),this.scrollToBottom=(()=>{var e=document.getElementById("messagesEndRef");e&&(e.scrollIntoView({behavior:"smooth"}),this.setState({isScrollToBottom:!1}))}),this.handleOperationBtn=(e=>{var t=this.state,a=t.submitLoading,l=t.errPrompt,i=t.noVersion,n=t.upDataVersion;return x.default.createElement("div",{style:{textAlign:"center"},id:"messagesEndRef"},x.default.createElement(I.default,{onClick:()=>{this.handleSubmit(e)},disabled:n||l||i,loading:a,type:"primary"},"Create"===e?"\u5b89\u88c5":"\u66f4\u65b0"))}),this.getHelmApplication=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.props.dispatch,l=a.fetchParameter(),i=l.enterprise_id,n=l.team_name,r=l.group_id,s=a.state.currApp;t({type:"global/fetchHelmApplication",payload:{enterprise_id:i,app_name:s.app_template_name,team_name:n,group_id:r,appStoreName:s.app_store_name},callback:t=>{t&&200===t.status_code?a.setState({versions:t.versions||[]},()=>{a.handleAppVersion(s.version,e,!1)}):a.handleAppInfoLoading()},handleError:e=>{a.handleErrPrompt(e)}})},this.fetchParameter=(()=>{var e=this.props,t=e.currentEnterprise,a=e.appID;return{enterprise_id:t.enterprise_id,team_name:B.default.getCurrTeamName(),region_name:B.default.getCurrRegionName(),group_id:a}}),this.fetchPrefixUrl=(()=>{var e=this.fetchParameter(),t=e.team_name,a=e.region_name;return"/team/".concat(t,"/region/").concat(a,"/")}),this.handleErrPrompt=(e=>{if(e&&e.data&&e.data.code){var t=this.state.promptMap,a=t[e.data.code]||!1;8004===e.data.code?this.setState({noVersion:!0}):a&&this.setState({errPrompt:a,noVersion:!1})}this.handleAppInfoLoading(),this.handleUpDataVersionLoading()}),this.handleAppVersion=((e,t,a)=>{var l=this.state.versions,i={};l.map(t=>{t.version===e&&(i=t)}),i.version&&(this.setState({appInfo:i}),t&&(a&&this.setState({upDataVersion:"\u7248\u672c\u4fe1\u606f\u66f4\u65b0\u4e2d\u3001\u8bf7\u8010\u5fc3\u7b49\u5f85",noVersion:!1}),this.fetchHelmAppStoresVersions(e))),this.handleAppInfoLoading()}),this.handleTemplateFile=(e=>{var t=this.props.form,a=t.setFieldsValue,l=this.state.versionInfo,i=this.CodeMirrorRef;if(l.values){var n=l.values[e]&&this.decodeBase64Content(l.values[e])||"";if(a({yamls:n}),a({templateFile:e}),i){var r=i.getCodeMirror();r.setValue(n)}}this.handleUpDataVersionLoading()}),this.handleUpDataVersionLoading=(()=>{this.setState({upDataVersion:!1})}),this.handleAppInfoLoading=(()=>{this.setState({appInfoLoading:!1})}),this.handleConfing=(()=>{var e=this.props.form,t=e.getFieldDecorator,a=e.setFieldsValue,l=e.getFieldValue,i=this.state,n=i.versionInfo,r=i.versionInfoLoading,s=i.resources,d=i.currentSteps,o=i.versions,I=i.errPrompt,h=i.noVersion,A=i.upDataVersion,y=i.formData,M={labelCol:{xs:{span:24}},wrapperCol:{xs:{span:24}}},N=s.overrides||"";if(N&&N.length>0){var b=[];N.map(e=>{Object.keys(e).forEach(t=>{b.push({item_key:t,item_value:e[t]})})}),N=b}var S=n.values?Object.keys(n.values).reverse():[];return x.default.createElement(C.default,{labelAlign:"left"},x.default.createElement(v.default,{bordered:!1,defaultActiveKey:["2"]},x.default.createElement(F,{header:x.default.createElement("div",{className:X.default.customPanelHeader},x.default.createElement("h6",null,"\u5e94\u7528\u4ecb\u7ecd"),x.default.createElement("p",null,"\u5e94\u7528\u914d\u7f6e\u8bf4\u660e\u548c\u4f7f\u7528\u65b9\u6cd5\u6982\u8ff0")),key:"1",className:X.default.customPanel},x.default.createElement("div",{style:{padding:"15px 30px"}},x.default.createElement(m.default,{loading:r},x.default.createElement(z.default,{className:X.default.customMD,source:n.readme&&this.decodeBase64Content(n.readme)||""})))),x.default.createElement(F,{header:x.default.createElement("div",{className:X.default.customPanelHeader},x.default.createElement("h6",null,"\u914d\u7f6e\u9009\u9879"),x.default.createElement("p",null,"\u57fa\u4e8eHelm\u89c4\u8303\u5e94\u7528\u914d\u7f6e\u7684\u67e5\u770b\u4e0e\u8bbe\u7f6e")),key:"2",className:X.default.customPanel},x.default.createElement(m.default,{loading:r},x.default.createElement("div",{style:{padding:"15px 30px"}},y&&y.length>0&&x.default.createElement(E.default,{Form:C.default,data:y,upDateQuestions:e=>{this.setState({formData:e})},setFieldsValue:a,formItemLayout:M,getFieldValue:l,getFieldDecorator:t}),x.default.createElement("div",{className:w.default.over_hr},x.default.createElement("span",null,"\u901a\u7528\u914d\u7f6e")),x.default.createElement($,(0,g.default)({},M,{label:"Values\u914d\u7f6e"}),t("overrides",{initialValue:N||[],rules:[{required:!1,message:"\u8bf7\u586b\u5199Values\u914d\u7f6e"}]})(x.default.createElement(j.default,{disableds:A||I||h,isHalf:!0,editInfo:N||""}))),x.default.createElement(c.default,null,d>3&&x.default.createElement(p.default,{span:12},x.default.createElement($,(0,g.default)({},M,{label:"\u7248\u672c"}),t("version",{initialValue:s.version||void 0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7248\u672c"}]})(x.default.createElement(f.default,{placeholder:"\u8bf7\u9009\u62e9\u7248\u672c",style:{width:"95%"},disabled:A||I,onChange:e=>{this.handleAppVersion(e,!0,!0)}},o.map(e=>{var t=e.version;return x.default.createElement(q,{key:t,value:t},s.version===t?"".concat(t," \u5f53\u524d\u7248\u672c"):t)}))))),x.default.createElement(p.default,{span:12},(A||h)&&x.default.createElement(u.default,{style:{marginTop:"40px"},message:h?"\u5e94\u7528\u7248\u672c\u4e0d\u5b58\u5728\u3001\u8bf7\u91cd\u65b0\u9009\u62e9\u7248\u672c":A,type:"warning"}))),x.default.createElement(p.default,{span:24,style:{position:"relative",zIndex:1}},x.default.createElement($,(0,g.default)({},M,{label:"Values\u6587\u4ef6",className:X.default.clearStar}),t("templateFile",{initialValue:S.length>0&&S[0],rules:[{required:!0,message:"\u8bf7\u9009\u62e9Values\u6587\u4ef6"}]})(x.default.createElement(f.default,{placeholder:"\u8bf7\u9009\u62e9Values\u6587\u4ef6",style:{width:"100%"},onChange:this.handleTemplateFile,disabled:A||I||h},S.map(e=>{return x.default.createElement(q,{key:e,value:e},e)}))))),x.default.createElement(Z.default,{disabled:!0,data:"",bg:"151718",width:"100%",isUpload:!1,saveRef:e=>{this.CodeMirrorRef=e},marginTop:120,setFieldsValue:a,formItemLayout:M,Form:C.default,getFieldDecorator:t,beforeUpload:this.beforeUpload,mode:"yaml",name:"yamls",message:"\u586b\u5199\u914d\u7f6e"}),d>3&&this.handleOperationBtn("UpDate"))))),d<=2&&this.handleOperationBtn("Create"))}),this.state={linkList:[],versionInfoLoading:!0,versions:[],noVersion:!1,promptMap:{8000:"\u5546\u5e97\u5df2\u88ab\u5220\u9664\u3001\u65e0\u6cd5\u66f4\u65b0\u3002",8003:"\u5e94\u7528\u6a21\u677f\u4e0d\u5b58\u5728\u3001\u65e0\u6cd5\u66f4\u65b0\u3002"},formData:[],appStateLoading:!0,appInfoLoading:!0,appStates:[{key:"initailing",value:"\u521d\u59cb\u5316"},{key:"detecting",value:"\u68c0\u6d4b"},{key:"configuring",value:"\u914d\u7f6e"},{key:"installing",value:"\u5b89\u88c5"}],appType:{ChartReady:"\u62c9\u53d6\u5e94\u7528\u5305",PreInstalled:"\u6821\u9a8c\u5e94\u7528\u5305",ChartParsed:"\u89e3\u6790\u5e94\u7528\u5305"},appStateMap:{initailing:0,detecting:1,configuring:2,installing:3,installed:4},components:[],currentSteps:0,toDelete:!1,toEdit:!1,errPrompt:!1,toEditAppDirector:!1,serviceIds:[],promptModal:!1,code:"",currApp:{},componentTimer:!0,submitLoading:!1,resources:{},versionInfo:{},appInfo:{},isScrollToBottom:!0,upDataVersion:!1},this.CodeMirrorRef=""}componentDidMount(){this.loading()}componentWillUnmount(){this.closeTimer();var e=this.props.dispatch;e({type:"application/clearGroupDetail"})}render(){var e=this.props,t=e.appPermissions,a=t.isUpgrade,l=t.isEdit,p=t.isDelete,g=e.groupDetail,m=e.buildShapeLoading,I=e.editGroupLoading,h=e.deleteLoading,C=e.operationPermissions.isAccess,f=this.state,v=f.versions,y=f.currApp,M=f.resources,N=f.code,Z=f.promptModal,j=f.toEdit,E=f.toEditAppDirector,w=f.toDelete,P=f.currentSteps,G=f.appStates,z=f.appType,W=f.errPrompt,B=f.appStateLoading,J=f.components,U=f.linkList,F=f.appInfo,q=f.appInfoLoading,$={start:"\u542f\u52a8",restart:"\u91cd\u542f",stop:"\u505c\u7528",deploy:"\u6784\u5efa"},ee={deployed:"success","pending-install":"success","pending-upgrade":"success","pending-rollback":"success",superseded:"success",failed:"error"},te=x.default.createElement("div",{className:X.default.pageHeaderContent},x.default.createElement(s.default,{style:{padding:0},loading:B||q,className:X.default.contentl},x.default.createElement("div",null,x.default.createElement("div",{className:X.default.conBoxt,style:{justifyContent:"end",alignItems:"end",marginBottom:"42px"}},x.default.createElement("img",{style:{width:"60px",marginRight:"10px"},alt:"",src:F.icon||"https://gw.alipayobjects.com/zos/rmsportal/MjEImQtenlyueSmVEfUD.svg"}),x.default.createElement("div",{style:{width:"70%"}},x.default.createElement("div",{className:X.default.contentTitle,style:{width:"100%"}},x.default.createElement("span",null,y.group_name||"-"),l&&x.default.createElement(o.default,{style:{cursor:"pointer",marginLeft:"5px"},onClick:this.toEdit,type:"edit"})),x.default.createElement("div",{title:F.description||y.note,className:X.default.contentNote},F.description||y.note)),x.default.createElement("div",{className:X.default.helmState},M.status&&x.default.createElement(d.default,{className:X.default.states,status:ee[M.status]||"default",text:Y.default.getHelmStatus&&Y.default.getHelmStatus([M.status]||!1)}),p&&x.default.createElement("a",{className:X.default.operationState,onClick:this.toDelete},"\u5220\u9664"),U.length>0&&x.default.createElement(V.default,{type:"link",linkList:U}))),x.default.createElement("div",{className:X.default.connect_Bot},x.default.createElement("div",{className:X.default.connect_Box,style:{width:"100%",marginRight:"0"}},x.default.createElement("div",{className:X.default.connect_Boxs},x.default.createElement("div",null,"\u4f7f\u7528\u5185\u5b58"),x.default.createElement("div",null,M.memory?"".concat(O.default.unit(M.memory||0,"MB")):"\u4e0d\u9650\u5236")),x.default.createElement("div",{className:X.default.connect_Boxs},x.default.createElement("div",null,"\u4f7f\u7528CPU"),x.default.createElement("div",null,M.cpu?"".concat(M.cpu/1e3,"Core"):"\u4e0d\u9650\u5236")),x.default.createElement("div",{className:X.default.connect_Boxs},x.default.createElement("div",null,"\u670d\u52a1\u6570\u91cf"),x.default.createElement("div",null,J&&J.length||0)))))),x.default.createElement(s.default,{style:{padding:0,marginRight:0},loading:B,className:X.default.contentl},x.default.createElement("div",{className:X.default.contentr},x.default.createElement("div",{className:X.default.conrHeader},x.default.createElement("div",null,x.default.createElement("span",null,"\u521b\u5efa\u65f6\u95f4"),x.default.createElement("span",null,y.create_time?(0,k.default)(y.create_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-")),x.default.createElement("div",null,x.default.createElement("span",null,"\u66f4\u65b0\u65f6\u95f4"),x.default.createElement("span",null,y.update_time?(0,k.default)(y.update_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-"))),x.default.createElement("div",{className:X.default.conrHeader},x.default.createElement("div",null,x.default.createElement("span",null,"\u8d1f\u8d23\u4eba"),x.default.createElement("span",null,y.principal?x.default.createElement(r.default,{placement:"top",title:x.default.createElement("div",null,x.default.createElement("div",null,"\u8d26\u53f7:",y.username),x.default.createElement("div",null,"\u59d3\u540d:",y.principal),x.default.createElement("div",null,"\u90ae\u7bb1:",y.email))},x.default.createElement("span",{style:{color:"rgba(0, 0, 0, 0.85)"}},y.principal)):"-",l&&x.default.createElement(o.default,{style:{cursor:"pointer",marginLeft:"5px"},onClick:this.handleToEditAppDirector,type:"edit"}))),M.version&&x.default.createElement("div",null,x.default.createElement("span",null,"\u7248\u672c\u53f7"),x.default.createElement("span",null,M.version))),x.default.createElement("div",{className:X.default.conrBot},x.default.createElement("div",{className:X.default.conrBox,style:{width:"33.3%"}},x.default.createElement("div",null,"\u7f51\u5173\u7b56\u7565"),x.default.createElement("div",{onClick:()=>{C&&this.handleJump("gateway")}},x.default.createElement("a",null,y.ingress_num||0))),x.default.createElement("div",{className:X.default.conrBox,style:{width:"33.3%"}},x.default.createElement("div",null,"\u5f85\u5347\u7ea7"),x.default.createElement("div",{onClick:()=>{a&&this.handleJump("upgrade")}},x.default.createElement("a",null,v&&v.length>0&&v.length-1||0))),x.default.createElement("div",{className:X.default.conrBox,style:{width:"33.3%"}},x.default.createElement("div",null,"\u5546\u5e97"),x.default.createElement("div",{onClick:()=>{!W&&y.app_store_name&&this.handleJumpStore(y.app_store_name)}},x.default.createElement("a",{style:{color:W?"rgba(0, 0, 0, 0.45)":"#4d73b1"}},y.app_store_name||"\u5546\u5e97\u5df2\u88ab\u5220\u9664"))))))),ae=this.fetchParameter(),le=ae.team_name,ie=ae.region_name,ne=ae.group_id;return x.default.createElement(x.Fragment,null,x.default.createElement(c.default,null,te),W&&x.default.createElement(u.default,{message:W,type:"warning",style:{marginBottom:"20px"}}),P>3&&x.default.createElement(s.default,{type:"inner",loading:B,title:"\u670d\u52a1\u5b9e\u4f8b",bodyStyle:{padding:"0",background:"#F0F2F5"}},x.default.createElement("div",{style:{background:"#fff"}},J&&J.length>0?x.default.createElement(b.default,{style:{padding:"0 24px 24px"},defaultActiveKey:J[0].service_id},J.map(e=>{if(e.service){var t=e.service_alias,a=e.service_region,l=e.service,i=l.service_name,r=l.pods,s=l.oldPods,d=e.service_id,o=x.default.createElement(_.Link,{to:"/team/".concat(le,"/region/").concat(a,"/components/").concat(t,"/thirdPartyServices")},"\u7ec4\u4ef6\u8be6\u60c5");return x.default.createElement(Q,{tab:x.default.createElement(n.default,{content:o},i),key:d},x.default.createElement(H.default,{isHelm:!0,key:d,runLoading:!1,new_pods:r,old_pods:s,appAlias:ne}))}})):x.default.createElement("div",{style:{padding:"24px"}},"\u5f53\u524d\u5e94\u7528\u672a\u5b9a\u4e49 Service, \u65e0\u6cd5\u67e5\u8be2\u5b9e\u4f8b\u5217\u8868"))),P>3&&!W&&x.default.createElement("div",{className:X.default.customCollapseBox},this.handleConfing()),P<4&&x.default.createElement(s.default,{style:{marginTop:16},loading:B},P<4&&x.default.createElement(A.default,{type:"navigation",current:P,className:"site-navigation-steps"},G.map((e,t)=>{var a=e.value,l=e.key;return x.default.createElement(K,{title:a,icon:"configuring"!==l&&t===P&&x.default.createElement(T.LoadingOutlined,null)})})),(P<1||3===P)&&x.default.createElement("div",{className:X.default.process},x.default.createElement(R.default,{type:"ing",title:P<1?"\u521d\u59cb\u5316\u4e2d...":"\u5b89\u88c5\u4e2d...",description:"\u6b64\u8fc7\u7a0b\u53ef\u80fd\u6bd4\u8f83\u8017\u65f6\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85",style:{marginTop:48,marginBottom:16}})),P<2&&M.conditions&&M.conditions.length>0&&x.default.createElement("div",{className:X.default.process},x.default.createElement(A.default,{direction:"vertical",style:{paddingLeft:"20%"}},M.conditions.map(e=>{var t=e.status,a=e.message,l=e.type;if(z[l])return x.default.createElement(K,{title:z[l],status:t?"finish":a?"error":"wait",description:x.default.createElement("div",{style:{color:"#ff4d4f"}},a)})}))),2===P&&!W&&x.default.createElement("div",{className:X.default.customCollapse},this.handleConfing())),w&&x.default.createElement(L.default,{title:"\u5220\u9664\u5e94\u7528",desc:"\u786e\u5b9a\u8981\u6b64\u5220\u9664\u6b64\u5e94\u7528\u5417\uff1f",subDesc:"\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d",loading:h,onOk:this.handleDelete,onCancel:this.cancelDelete}),j&&x.default.createElement(S.default,{isNoEditName:!0,isAddGroup:!1,group_name:g.group_name,note:g.note,loading:I,title:"\u4fee\u6539\u5e94\u7528\u4fe1\u606f",onCancel:this.cancelEdit,onOk:this.handleEdit}),E&&x.default.createElement(D.default,{teamName:le,regionName:ie,group_name:g.group_name,note:g.note,loading:I,principal:y.username,onCancel:this.cancelEditAppDirector,onOk:this.handleEdit}),Z&&x.default.createElement(i.default,{title:"\u53cb\u60c5\u63d0\u793a",confirmLoading:m,visible:Z,onOk:this.handlePromptModalOpen,onCancel:this.handlePromptModalClose},x.default.createElement("p",null,$[N],"\u5f53\u524d\u5e94\u7528\u4e0b\u7684\u5168\u90e8\u7ec4\u4ef6\uff1f")))}})||N)||N);t.default=ee}).call(this,a("tjlA").Buffer)},"yCR+":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDkuMyAoNTExNjcpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgMy42NDE1MzE1MmUtMTQsNzEuNzE0MjExMyAzLjE5NzQ0MjMxZS0xNCw3MC4wMTUyNTE0IEw1LjMyOTA3MDUyZS0xNSwyNi40NjYxNDE3IEM1LjMyOTA3MDUyZS0xNSwyNC43NjcxODE4IDAuODYyNzE4ODcsMjMuMTg0NDY5OSAyLjI5MDYyNTIxLDIyLjI2Mzg0NjEgTDM1LjI5MDYyNTIsMC45ODc1MzAyNzUgQzM2Ljk0MDI5OTYsLTAuMDc2MDc1NjAxNCAzOS4wNTk3MDA0LC0wLjA3NjA3NTYwMTQgNDAuNzA5Mzc0OCwwLjk4NzUzMDI3NSBaIiBpZD0icGF0aC0xIj48L3BhdGg+CiAgICAgICAgPGZpbHRlciB4PSItNy45JSIgeT0iLTQuMSUiIHdpZHRoPSIxMTUuOCUiIGhlaWdodD0iMTEyLjQlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+CiAgICAgICAgICAgIDxmZU1vcnBob2xvZ3kgcmFkaXVzPSIyIiBvcGVyYXRvcj0iZGlsYXRlIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93U3ByZWFkT3V0ZXIxIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd1NwcmVhZE91dGVyMSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZU1vcnBob2xvZ3kgcmFkaXVzPSIyIiBvcGVyYXRvcj0iZXJvZGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dJbm5lciI+PC9mZU1vcnBob2xvZ3k+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjIiIGluPSJzaGFkb3dJbm5lciIgcmVzdWx0PSJzaGFkb3dJbm5lciI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIGluMj0ic2hhZG93SW5uZXIiIG9wZXJhdG9yPSJvdXQiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8ZmlsdGVyIHg9Ii05LjIlIiB5PSItNS4yJSIgd2lkdGg9IjExOC40JSIgaGVpZ2h0PSIxMTQuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0zIj4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMyIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0JsdXJJbm5lcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjAiIGluPSJzaGFkb3dCbHVySW5uZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldElubmVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluPSJzaGFkb3dPZmZzZXRJbm5lcjEiIGluMj0iU291cmNlQWxwaGEiIG9wZXJhdG9yPSJhcml0aG1ldGljIiBrMj0iLTEiIGszPSIxIiByZXN1bHQ9InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMC45MDM2Njc4MjEgICAwIDAgMCAwIDAuOTAwNTQwNzkyICAgMCAwIDAgMCAwLjkwNDczNTMzMiAgMCAwIDAgMSAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dJbm5lcklubmVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Ikdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjAwMDAwMCwgMi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlBvbHlnb24iPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0zKSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzAyRDc3NyIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBmaWxsPSIjMDAwMDAwIiBjeD0iMzgiIGN5PSI0OCIgcj0iOCI+PC9jaXJjbGU+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},zNpR:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var i=l(a("/wGt"));a("+L6B");var n=l(a("2/Rp"));a("jCWc");var r=l(a("kPKH"));a("14J3");var s,d,o=l(a("BMrR")),c=a("MuoO"),u=f(a("q1tI")),p=l(a("vOCT")),g=l(a("2Hi/")),m=l(a("QDog")),I=l(a("oqMN")),h=l(a("puIC"));function C(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var A=(s=(0,c.connect)(e=>{var t=e.user,a=e.application,l=e.global;return{currUser:t.currentUser,apps:a.apps,groupDetail:a.groupDetail||{},groups:l.groups||[],rainbondInfo:l.rainbondInfo}}),s(d=class extends u.PureComponent{constructor(e){super(e),this.cancelDelete=(()=>{this.setState({toDelete:!1})}),this.toAdd=(()=>{this.setState({toAdd:!0})}),this.cancelAdd=(()=>{this.setState({toAdd:!1})}),this.toAddService=(()=>{this.setState({toAddService:!0}),this.props.content(this.state.toAddService)}),this.cancelAddService=(()=>{this.setState({toAddService:!1,canceThirdParty:!this.state.canceThirdParty},()=>{this.setState({ServiceComponentTwoPage:"outerCustom",ServiceComponentOnePage:!1,moreState:!0,ButtonGroup:!1,ButtonGroupState:!0,ServiceComponentThreePage:!1})})}),this.handleServiceComponent=((e,t,a,l,i)=>{e=e||!1,t=t||null,a=a||null,i=i||null,this.setState({ServiceComponentOnePage:e,ServiceComponentTwoPage:t,ServiceComponentThreePage:a,[l]:i}),!1!==e&&null!==t&&null!==a||this.setState({ButtonGroup:null,ButtonGroupState:!0}),e&&this.setState({ServiceComponentTwoPage:"outerCustom",ServiceComponentOnePage:!1}),t&&this.setState({BackType:t}),"market"!==t&&this.setState({moreState:!0})}),this.handleBackEvents=(()=>{var e=this.state,t=e.ServiceComponentTwoPage,a=e.ServiceComponentThreePage,l=e.BackType;this.cancelAddService(),this.props.content(this.state.toAddService),a&&this.setState({ServiceComponentThreePage:null,ServiceComponentTwoPage:l,ButtonGroup:null,ButtonGroupState:!0}),"market"==t&&this.setState({moreState:!0})}),this.handleServiceBotton=((e,t,a)=>{this.setState({ButtonGroup:e,ButtonGroupState:t,errState:a})}),this.refreshCurrent=(()=>{this.setState({CustomButton:!1,toAddService:!1,ServiceComponentOnePage:!0,ServiceComponentTwoPage:"outerCustom",ServiceComponentThreePage:null,ServiceGetData:null,ButtonGroup:!1,ButtonGroupState:!0,handleType:null,moreState:!0})}),this.state={CustomButton:!1,toAddService:!1,canceThirdParty:!0,ServiceComponentOnePage:!1,ServiceComponentTwoPage:"outerCustom",ServiceComponentThreePage:null,ServiceGetData:null,ButtonGroup:!1,ButtonGroupState:!0,handleType:null,moreState:!0,BackType:null,errState:!0}}render(){var e=this.props,t=(e.rainbondInfo,e.flagThirdParty,this.state),a=t.ButtonGroup,l=t.moreState,s=(t.ServiceComponentOnePage,t.ServiceComponentTwoPage),d=t.ServiceComponentThreePage,c=t.ServiceGetData,C=t.ButtonGroupState,f=(t.handleType,t.canceThirdParty,m.default.fetchSvg("third_party"));return u.default.createElement("div",null,u.default.createElement("div",{className:h.default.ServiceBox},u.default.createElement(o.default,null,u.default.createElement("p",{className:h.default.ServiceTitle},"\u4ece\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u5f00\u59cb")),u.default.createElement(o.default,{style:{marginBottom:"30px"}},u.default.createElement(r.default,{span:8,className:h.default.ServiceDiv,onClick:this.toAddService},f,u.default.createElement("p",{className:h.default.ServiceSmallTitle},"\u7b2c\u4e09\u65b9\u7ec4\u4ef6")))),u.default.createElement(i.default,{title:"\u6dfb\u52a0\u7b2c\u4e09\u65b9\u7ec4\u4ef6",placement:"right",onClose:this.cancelAddService,visible:this.state.toAddService,toAddThirdParty:this.state.toAddService,maskClosable:!1,width:550},"check"===d&&c&&u.default.createElement(p.default,{ServiceGetData:c,handleType:"Service",ButtonGroupState:C,refreshCurrent:()=>{this.refreshCurrent()},ErrState:this.state.errState,handleServiceBotton:(e,t,a)=>{this.handleServiceBotton(e,t,a)},handleServiceDataState:(e,t,a,l)=>{this.handleServiceComponent(e,t,a,"ServiceGetData",l),this.props.onload&&this.props.onload()}}),"market"===s&&u.default.createElement(g.default,{groupId:this.props.groupId,refreshCurrent:()=>{this.refreshCurrent()},handleType:"Service",moreState:l,ButtonGroupState:C,ErrState:this.state.errState,handleServiceBotton:(e,t)=>{this.handleServiceBotton(e,t)},handleServiceGetData:e=>{this.handleServiceComponent(!1,null,"check","ServiceGetData",e)},handleServiceComponent:()=>{this.handleServiceComponent(!1,"market",null)}}),"outerCustom"===s&&u.default.createElement(I.default,{groupId:this.props.groupId,handleType:"Service",dynamicType:s,ButtonGroupState:C,ErrState:this.state.errState,handleServiceBotton:(e,t)=>{this.handleServiceBotton(e,t)},handleServiceGetData:e=>{this.handleServiceComponent(!1,null,"check","ServiceGetData",e)},handleServiceComponent:()=>{this.handleServiceComponent(!1,"market",null)}}),u.default.createElement("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",left:0,background:"#fff",borderRadius:"0 0 4px 4px",display:"flex",justifyContent:"flex-end",zIndex:99999}},"outerCustom"===s&&u.default.createElement(n.default,{style:{marginRight:8},onClick:()=>{this.handleBackEvents(!0,null)}},"\u4e0a\u4e00\u6b65"),a&&u.default.createElement("span",{style:{marginRight:8}},a),u.default.createElement(n.default,{style:{marginRight:8},onClick:this.cancelAddService},"\u53d6\u6d88"))))}})||d);t.default=A}}]);